import{j as e,r as a,a as cn}from"./react-CGFrf-d4.js";import{c as un}from"./react-dom-xpLkuR59.js";import{L as ze,N as Me,u as Cs,c as hn,R as pn}from"./react-router-dom-CbEMuPyh.js";import{d as N}from"./dayjs-Kwe1K2wv.js";import{u as O,a as ne,P as xn}from"./react-redux-C-rBssQn.js";import{c as q,a as Oe,b as gn}from"./@reduxjs-BJllBblM.js";import{a as mn}from"./axios-dxcvQi4N.js";import{B as f,Q as Ue}from"./react-toastify-C8HBDAMy.js";import{h as z}from"./moment-3GyybMVG.js";import{s as fn,T as ye,d as gs,a as jn,B as _t,b as bn,c as yn,e as wn,f as Cn,g as As,h as An,i as Ss,j as Sn,u as ks,k as Ds,l as $,m as L,S as n,I as H,n as kn,A as qt,o as i,p as Dn,D as In,q as X,r as Fn,t as vn,v as Mn,w as Rn,x as Yn,y as es,z as Tn,C as En,E as Wn,F as Un,G as Kt,H as zn,J as re,K as ie,M as J,L as fe,N as je,O as le,P as pe,Q as Pn,R as ae,U as he,V as Ie,W as ue,X as De,Y as Ge,Z as Ve,_ as Ze,$ as Bn,a0 as Nn,a1 as On,a2 as Ln,a3 as Is,a4 as Qn,a5 as Je,a6 as os,a7 as qe,a8 as Pe,a9 as Be,aa as V,ab as Ne,ac as Qe,ad as Fs,ae as as,af as We,ag as Hn,ah as rs,ai as vs,aj as Jn,ak as Vn,al as Gn,am as Ms,an as Rs,ao as Ys,ap as Ts,aq as Es,ar as Ws,as as is,at as st,au as ts,av as ms,aw as Xn,ax as Zn,ay as qn,az as fs,aA as Kn,aB as $n,aC as js}from"./@mui-DtbIFp2c.js";import{M as Us,a as Ee,S as _n,s as eo}from"./react-pro-sidebar-BFKLmOBL.js";import{e as we,d as to,O as so,f as Ke,g as no}from"./react-router-Wv9TSl4y.js";import{l as zs}from"./socket.io-client-BGdex47s.js";import"./@babel-CC78qJF2.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-B_55oQtr.js";import"./use-sync-external-store-9ZOjDghS.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./clsx-B-dksMZM.js";import"./@emotion-BR_XP5i8.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-FDnFs_-n.js";import"./react-is-DcfIKM1A.js";import"./react-transition-group-DH7TTrWS.js";import"./dom-helpers-D0mFdbeO.js";import"./prop-types-Dbh8Zy4H.js";import"./@popperjs-BQBsAJpH.js";import"./engine.io-client-BY_6WtMP.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))x(l);new MutationObserver(l=>{for(const g of l)if(g.type==="childList")for(const A of g.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&x(A)}).observe(document,{childList:!0,subtree:!0});function s(l){const g={};return l.integrity&&(g.integrity=l.integrity),l.referrerPolicy&&(g.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?g.credentials="include":l.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function x(l){if(l.ep)return;l.ep=!0;const g=s(l);fetch(l.href,g)}})();const oo="http://192.168.1.46:5022/api/",U=mn.create({baseURL:oo}),ao={loading:!1,isAuth:!1,user:null,error:null};q("login",async o=>{try{const t=await U.post("/user/login",o),s=t.data&&t.data.token,x=t.data;return localStorage.setItem("token",JSON.stringify(s)),x}catch{response.data.message==="error client request"?f.error("Ulanyjy tapylmady!"):f.error(response.data.message)}});q("register",async o=>{try{const t=await U.post("/user/registration",o);f.success(t.data.message==="Registration seccseful"?"Üstünlikli":t.message)}catch{f.error(response.data.message)}});const Ps=Oe({name:"auth",initialState:ao,reducers:{loginStart:o=>{o.loading=!0,o.error=null},loginSuccess:(o,t)=>{o.isAuthenticated=!0,o.user=t.payload,o.loading=!1},loginFailure:(o,t)=>{o.loading=!1,o.error=t.payload},logout:o=>{o.isAuthenticated=!1,o.token=null,o.user=null,o.loading=!1},registerStart:o=>{o.loading=!0,o.error=null},registerSuccess:(o,t)=>{o.isAuthenticated=!0,o.token=t.payload.token,o.user=t.payload.user,o.loading=!1},registerFailure:(o,t)=>{o.loading=!1,o.error=t.payload}}}),{loginStart:Xr,loginSuccess:ro,loginFailure:io,logout:lo,registerStart:Zr,registerSuccess:qr,registerFailure:Kr}=Ps.actions,co=Ps.reducer,uo={updated:!1,data:[],status:"idle",error:null,loading:!1},dt=q("updateImg",async o=>{const t=await U.patch("/user/updata/img",o);return t.data?f.success("Üstünlikli döredildi!"):f.error("Şowsuz!"),localStorage.setItem("CRM_USER",JSON.stringify(t.data)),t.data}),ho=Oe({name:"userImg",initialState:uo,reducers:{},extraReducers:o=>{o.addCase(dt.pending,t=>{t.status="loading..."}).addCase(dt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(dt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),po=ho.reducer,xo={data:[],status:"idle",error:null,loading:!1},Re=q("getUsers",async()=>{const o=JSON.parse(localStorage.getItem("token"));return(await U.get("/user/users",{headers:{Authorization:`Bearer ${o}`}})).data}),ss=q("updateImg",async o=>{const t=await U.post("/user/updata-img",o);return t.data.message=="User profil photo updated successfully"?f.success("Üstünlikli döredildi!"):f.error("Şowsuz!"),t}),ct=q("postStatusUser",async o=>{if((await U.patch("/user/updata/status",o)).data.status!==400){const s=await U.get("/user/status");return f.success("Üstünlikli üýtgedildi!"),s.data}else f.error("Şowsuz!")}),go=Oe({name:"users",initialState:xo,reducers:{},extraReducers:o=>{o.addCase(Re.pending,t=>{t.status="loading..."}).addCase(Re.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Re.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ss.pending,t=>{t.status="loading..."}).addCase(ss.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ss.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ct.pending,t=>{t.status="loading..."}).addCase(ct.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ct.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),mo=go.reducer,fo={employeerTime:[],data:[],adminNotes:[],adminNote:[],status:"idle",statusAdminNote:"idle",statusMonth:"idle",errorAdminNote:"idle",error:null,errorMonth:null,loading:!1,setIsCame:JSON.parse(localStorage.getItem("iscame"))},Le=q("getUserMonthWorkTime",async o=>{const t=await U.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return t.data.status===404&&f.error(t.data.message),t.data}),ut=q("updateUserRole",async o=>{const t=await U.patch("/user/updata/role",o);if(console.log(t.data),t.data==`User ID ${o.userId} role updated successfully.`){const s=await U.get("/user/status");return f.success("Üstünlikli üýtgedildi!"),s.data}else f.error("Şowsuz!")}),ht=q("getUserDayWorkTime",async o=>{const t=await U.get(`time/for/day?userId=${o.userId}&date=${o.date}`);return t.data.status===404&&f.error(t.data.message),t.data}),pt=q("postComeTime",async o=>{const t={userId:o.userId,comeStatus:o.comeStatus};return(await U.post("/time/come",t)).data.messagge=="Saved come time work"?f.success("Üstünlikli!"):f.error("Şowsuz!"),(await U.get(`time/for/day?userId=${o.userId}&date=${o.userGetTime.date}`)).data}),xt=q("postLeaveTime",async o=>{const t={userId:o.userId,leaveStatus:o.leaveStatus};return(await U.post("/time/leave",t)).data.status==200?f.success("Üstünlikli!"):f.error("Şowsuz!"),(await U.get(`time/for/day?userId=${o.userId}&date=${o.userGetTime.date}`)).data}),gt=q("noteUser",async o=>{const t={id:o.id,note:o.note,color:o.color};(await U.patch("/time/updata/note",t)).data.message==" Note updated successfully "?f.success("Üstünlikli!"):f.error("Şowsuz!");const l={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:z().format("YYYY-MM-DD")},g=await U.get(`time/work/user?userId=${l.userId}&date=${l.date}`);return g.data.status===404&&f.error(g.data.message),g.data}),mt=q("noteUpdate",async o=>{const t={id:o.id,note:o.note,color:o.color};(await U.patch("/time/updata/note",t)).data.message==" Note updated successfully "?f.success("Üstünlikli!"):f.error("Şowsuz!");const l={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:z().format("YYYY-MM-DD")},g=await U.get(`time/work/user?userId=${l.userId}&date=${l.date}`);return g.data.status===404&&f.error(g.data.message),g.data}),ft=q("getAdminNotes",async o=>{const t=await U.get(`/warning/get/share?startDate=${o.startDate}&endDate=${o.endDate}&userId=${o.userId}`);return t.data.status===404&&f.error(t.data.message),t.data}),jt=q("adminNotesOfMonth",async o=>{const t=await U.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return t.data.status===404&&f.error(t.data.message),t.data}),bt=q("postAdminNote",async o=>{const t={title:o.title,date:new Date(`${o.date} ${o.dateHour}`).toJSON(),color:o.color,users:o.users};t.title!==""&&t.date!==null&&t.users.length!==0?(await U.post("/warning/post",t)).data=="OK"?f.success("Üstünlikli!"):f.error("Şowsuz!"):f.error("Maglumatlary giriziň");const s=await U.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return s.data.status===404&&f.error(s.data.message),s.data}),yt=q("getAdminNoteForProject",async o=>{const t=await U.get(`/note/my/sent/notes?userId=${o}`);return t.data.status===404&&f.error(t.data.message),t.data}),wt=q("postAdminNotes",async o=>{o.content!==""&&o.userId!==""?(await U.post("/note/create",o)).data.message=="OK"?f.success("Üstünlikli!"):f.error("Şowsuz!"):f.error("Maglumatlary giriziň");const t=await U.get(`/note/my/sent/notes?userId=${o.authorId}`);return t.data.status===404&&f.error(t.data.message),t.data}),Ct=q("updateAdminNote",async o=>{o.content!==""&&o.userId!==""?(await U.patch("/note/updata",o)).data.message=="Successfully"?f.success("Üstünlikli!"):f.error("Şowsuz!"):f.error("Maglumatlary giriziň");const t=await U.get(`/note/my/sent/notes?userId=${o.authorId}`);return t.data.status===404&&f.error(t.data.message),t.data}),At=q("deleteAdminNote",async o=>{(await U.delete(`/warning/remove?id=${o.id}`)).data=="OK"?f.success("Üstünlikli!"):f.error("Şowsuz!");const s=await U.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return s.data.status===404&&f.error(s.data.message),s.data}),St=q("deleteAdminNotes",async o=>{(await U.delete(`/note/delete?authorId=${o.authorId}&noteId=${o.id}`)).data.message=="Successfully"?f.success("Üstünlikli!"):f.error("Şowsuz!");const s=await U.get(`/note/my/sent/notes?userId=${o.authorId}`);return s.data.status===404&&f.error(s.data.message),s.data}),kt=q("updateAdminNotes",async o=>{const t={holidayId:o.noteId,title:o.content,date:new Date(`${o.date} ${o.dateHour}`).toJSON(),color:o.color,users:o.users};(await U.put("/warning/updata",t)).data.msg=="OK"?f.success("Üstünlikli!"):f.error("Şowsuz!");const x=await U.get(`warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return x.data.status===404&&f.error(x.data.message),x.data}),Dt=q("getUserNoteForProject",async o=>{const t=await U.get(`/note/received/notes?userId=${o}`);return t.data.status===404&&f.error(t.data.message),t.data}),It=q("deleteUserNote",async o=>{(await U.delete(`/time/remove/note?id=${o.id}&userId=${o.userId}`)).data.msg=="Successfully"?f.success("Üstünlikli!"):f.error("Şowsuz!"),o.id,z().format("YYYY-MM-DD");const s=await U.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return s.data.status===404&&f.error(s.data.message),s.data}),jo=q("postUserStatus",async({body:o,data:t})=>{if((await U.patch("/user/updata/status",t)).data.status===200){const x=await U.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return x.data.status===404&&f.error(x.data.message),x.data}else f.error("Ýalňyşlyk!")}),bo=Oe({name:"WorkTimes",initialState:fo,reducers:{},extraReducers:o=>{o.addCase(Le.pending,t=>{t.statusMonth="loading..."}).addCase(Le.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(Le.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(ut.pending,t=>{t.statusMonth="loading..."}).addCase(ut.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(ut.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(ft.pending,t=>{t.statusAdminNote="loading..."}).addCase(ft.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(ft.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(jt.pending,t=>{t.statusAdminNote="loading..."}).addCase(jt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(jt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(bt.pending,t=>{t.statusAdminNote="loading..."}).addCase(bt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(bt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(wt.pending,t=>{t.statusAdminNote="loading..."}).addCase(wt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(wt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Ct.pending,t=>{t.statusAdminNote="loading..."}).addCase(Ct.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Ct.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(yt.pending,t=>{t.statusAdminNote="loading..."}).addCase(yt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(yt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Dt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Dt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Dt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(St.pending,t=>{t.statusAdminNote="loading..."}).addCase(St.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(St.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(kt.pending,t=>{t.statusAdminNote="loading..."}).addCase(kt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(kt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(At.pending,t=>{t.statusAdminNote="loading..."}).addCase(At.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(At.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(gt.pending,t=>{t.status="loading..."}).addCase(gt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(gt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(It.pending,t=>{t.status="loading..."}).addCase(It.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(It.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(mt.pending,t=>{t.status="loading..."}).addCase(mt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(mt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ht.pending,t=>{t.status="loading..."}).addCase(ht.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ht.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(pt.pending,t=>{t.status="loading..."}).addCase(pt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!1)}).addCase(pt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(xt.pending,t=>{t.status="loading..."}).addCase(xt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!0)}).addCase(xt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),yo=bo.reducer,Bs=["Duşenbe","Sişenbe","Çarşenbe","Penşenbe","Anna","Şenbe","Ýekşenbe"],Ns=["Ýanwar","Fewral","Mart","Aprel","Maý","Iýun","Iýul","Awgust","Sentýabr","Oktýabr","Noýabr","Dekabr"],wo=JSON.parse(localStorage.getItem("CRM_USER"));function ee(o){return o&&o.charAt(0).toUpperCase()+o.substring(1).toLowerCase()}const Co={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"10px 30px ",height:"575px"},bs={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px ",height:"575px",overflow:"scroll","&::-webkit-scrollbar":{display:"none"}},ls={position:"absolute",top:"20%",left:"30%",transform:"translate(-50%, -50%)",width:635,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px",height:"350px"},Ao=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:5,title:"Gelen wagty"},{id:6,title:"Giden wagty"},{id:7,title:"Gijä galan sagady"},{id:8,title:"Bellik"}],So=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:4,title:"Statusy"},{id:5,title:"Moderator"}],ko=[{id:1,title:"Sene"},{id:2,title:"Gelen wagty"},{id:3,title:"Giden wagty"},{id:4,title:"Işlän sagady"},{id:5,title:"Gijä galan sagady"},{id:6,title:"Bellik"}],Do=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],Io=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],Os=[{id:1,title:"Proýekt"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:6,title:""}],it=fn(ye)(({theme:o})=>({fontFamily:"DM Sans, sans-serif","&:nth-of-type(odd)":{backgroundColor:"#f9fafc"},"&:hover":{backgroundColor:"#f9fafc"}})),Fo={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},vo={data:[],docType:[],status:"idle",error:null,loading:!1,uploadProgress:0},nt=q("getDocType",async o=>{const t=await U.get(`/document/type/get?userId=${o}`);return t.data.status===404&&f.error(t.data.message),t.data.data}),Ft=q("getPDF",async o=>{const t=await U.get(`/pdf/get/files?userId=${o}`);return t.data.status===404&&f.error(t.data.message),t.data}),vt=q("createPdf",async(o,{rejectWithValue:t,dispatch:s})=>{var x;try{const l=await U.post("/pdf/upload/file",o.body,{headers:{"Content-Type":"multipart/form-data"},maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:g=>{const A=Math.round(g.loaded*100/g.total);s(Qs(A))}});if(l.status===200)return f.success("Üstünlikli!"),(await U.get(`/pdf/get/files?userId=${o.userId}`)).data;l.data.status===404&&f.error(l.data.message)}catch(l){return f.error("Ýalňyşlyk!"),t(((x=l.response)==null?void 0:x.data)||l.message)}}),ot=q("updatePdf",async(o,{rejectWithValue:t,dispatch:s})=>{var x;try{const l=await U.put(o.files==null?"/pdf/edit":"/pdf/edit/file",o.body,{maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:g=>{const A=Math.round(g.loaded*100/g.total);s(Qs(A))}});if(console.log(o),l.status===200)return f.success("Üstünlikli!"),(await U.get(`/pdf/get/files?userId=${o.userId}`)).data;l.data.status===404&&f.error(l.data.message)}catch(l){return f.error("Ýalňyşlyk!"),t(((x=l.response)==null?void 0:x.data)||l.message)}}),Mt=q("createPdfByAdmin",async(o,{rejectWithValue:t,dispatch:s})=>{var x;try{const l=await U.post("/pdf/upload/file",o.body);if(l.status===200)return f.success("Üstünlikli!"),(await s(Le({userId:o.userId,date:o.date}))).data;l.data.status===404&&f.error(l.data.message)}catch(l){return f.error("Ýalňyşlyk!"),t(((x=l.response)==null?void 0:x.data)||l.message)}}),Rt=q("deletePdf",async o=>{const t=await U.delete(`/pdf/delete?userId=${o.userId}&documentId=${o.documentId}`);t.status===200&&f.success("Üstünlikli!"),t.data.status===404&&f.error(t.data.message);const s=await U.get(`/pdf/get/files?userId=${wo.id}`);return s.data.status===404&&f.error(s.data.message),s.data}),Yt=q("deletePdfForUser",async(o,{dispatch:t})=>{const s=await U.delete(`/pdf/delete?userId=${o.userId}&documentId=${o.documentId}`);s.status===200&&(f.success("Üstünlikli!"),await t(Le({userId:o.userId,date:o.date}))),s.data.status===404&&f.error(s.data.message);const x=await U.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return x.data.status===404&&f.error(x.data.message),x.data}),Ls=Oe({name:"postPdf",initialState:vo,reducers:{updateUploadProgress:(o,t)=>{o.uploadProgress=t.payload},resetUploadProgress:o=>{o.uploadProgress=0}},extraReducers:o=>{o.addCase(vt.pending,t=>{t.status="loading..."}).addCase(vt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(vt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(ot.pending,t=>{t.status="loading..."}).addCase(ot.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(ot.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Mt.pending,t=>{t.status="loading..."}).addCase(Mt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(Mt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Ft.pending,t=>{t.status="loading..."}).addCase(Ft.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ft.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(nt.pending,t=>{t.status="loading..."}).addCase(nt.fulfilled,(t,s)=>{t.status="succeeded",t.docType=s.payload}).addCase(nt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Rt.pending,t=>{t.status="loading..."}).addCase(Rt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Rt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Yt.pending,t=>{t.status="loading..."}).addCase(Yt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Yt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message})}}),{updateUploadProgress:Qs,resetUploadProgress:$r}=Ls.actions,Mo=Ls.reducer,Ro={data:[],status:"idle",error:null,loading:!1},Tt=q("getWorkTimeForDay",async o=>(await U.get(`/user/get/users?date=${o}`)).data),Yo=Oe({name:"getWorkTime",initialState:Ro,reducers:{},extraReducers:o=>{o.addCase(Tt.pending,t=>{t.status="loading..."}).addCase(Tt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Tt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),To=Yo.reducer,Eo={data:[],status:"idle",error:null,loading:!1},Xe=q("getProjects",async()=>(await U.get("/project/get")).data.data),_e=q("getProjectForUser",async o=>(await U.get(`/project/get/user/projects?userId=${o}`)).data.data),Et=q("postNewProject",async o=>((await U.post("/project/create",o)).data?f.success("Üstünlikli!"):f.error("Şowsuz!"),(await U.get("/project/get")).data.data)),Wt=q("updateProject",async o=>((await U.put("/project/updata/project",o)).data?f.success("Üstünlikli!"):f.error("Şowsuz!"),(await U.get("/project/get")).data.data)),Ut=q("deleteProject",async o=>{if((await U.delete(`/project/delete/project?projectId=${o.projectId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Project remove successfully")return f.success("Üstünlikli!"),(await U.get("/project/get")).data.data;f.error("Ýalňyşlyk!")}),Wo=Oe({name:"project",initialState:Eo,reducers:{},extraReducers:o=>{o.addCase(Xe.pending,t=>{t.status="loading..."}).addCase(Xe.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Xe.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(_e.pending,t=>{t.status="loading..."}).addCase(_e.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(_e.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Et.pending,t=>{t.status="loading..."}).addCase(Et.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Et.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Wt.pending,t=>{t.status="loading..."}).addCase(Wt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Wt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ut.pending,t=>{t.status="loading..."}).addCase(Ut.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ut.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Uo=Wo.reducer,zo={data:[],status:"idle",error:null,loading:!1},zt=q("getProjectDetail",async o=>[(await U.get(`/project/id/get?projectId=${o}`)).data.data]),ns=q("getProjectForUser",async o=>[(await U.get(`/project/get/user/projects?userId=${o}`)).data.data]),Pt=q("updateProjectForUser",async o=>{if((await U.put("/project/updata/project",o)).data.message=="Project updated successfully")return f.success("Üstünlikli!"),(await U.get(`/project/get/user/projects?userId=${o.userId}`)).data.data;f.error("Ýalňyşlyk!")}),Bt=q("updateTask",async({body:o,projectID:t})=>((await U.put("/project/updata/task",o)).data?f.success("Üstünlikli!"):f.error("Şowsuz!"),[(await U.get(`/project/id/get?projectId=${t}`)).data.data])),Nt=q("deleteProjectTask",async({body:o,age:t})=>{if((await U.delete(`/project/delete/task?projectId=${o.projectId}&taskId=${o.taskId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Task remove successfully")return f.success("Üstünlikli!"),[(await U.get(`/project/id/get?projectId=${t}`)).data.data];f.error("Ýalňyşlyk!")}),Ot=q("deleteProjectForUser",async o=>{if((await U.delete(`/project/delete/project?projectId=${o.projectId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Project remove successfully")return f.success("Üstünlikli!"),(await U.get(`/project/get/user/projects?userId=${o.userId}`)).data.data;f.error("Ýalňyşlyk!")}),Lt=q("addNewTask",async({body:o,projectID:t})=>((await U.post("/project/add/task/existing/project",o)).data.message==="Task created"?f.success("Üstünlikli!"):f.error("Şowsuz!"),[(await U.get(`/project/id/get?projectId=${t}`)).data.data])),Qt=q("postNewProjectForUser",async o=>((await U.post("/project/create",o.body)).data?f.success("Üstünlikli!"):f.error("Şowsuz!"),(await U.get(`/project/get/user/projects?userId=${o.userId}`)).data.data)),Po=Oe({name:"project",initialState:zo,reducers:{},extraReducers:o=>{o.addCase(Qt.pending,t=>{t.status="loading..."}).addCase(Qt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Qt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Pt.pending,t=>{t.status="loading..."}).addCase(Pt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Pt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ot.pending,t=>{t.status="loading..."}).addCase(Ot.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ot.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(zt.pending,t=>{t.status="loading..."}).addCase(zt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(zt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ns.pending,t=>{t.status="loading..."}).addCase(ns.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ns.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Lt.pending,t=>{t.status="loading..."}).addCase(Lt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Lt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Bt.pending,t=>{t.status="loading..."}).addCase(Bt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Bt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Nt.pending,t=>{t.status="loading..."}).addCase(Nt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Nt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Bo=Po.reducer,No={data:[],status:"idle",error:null,loading:!1},Ht=q("getWorkTimeForDay",async()=>(await U.get("/time/get")).data),Jt=q("postWorkTimeDay",async o=>{const t=await U.post("/time/set",o);if(console.log(t.data),t.data.status)return f.success("Üstünlikli!"),(await U.get("/time/get")).data}),Oo=Oe({name:"getTimeOfWork",initialState:No,reducers:{},extraReducers:o=>{o.addCase(Ht.pending,t=>{t.status="loading..."}).addCase(Ht.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ht.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Jt.pending,t=>{t.status="loading..."}).addCase(Jt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Jt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Lo=Oo.reducer,Qo={data:[],status:"idle",error:null,loading:!1},at=q("getStandarts",async o=>{const t=await U.get(`/labor/protection/get?userId=${o}`);return t.data.status===404&&f.error(t.data.message),t.data}),et=q("getStandartsForUser",async o=>{const t=await U.get(`/labor/protection/get/user?userId=${o}`);return t.data.status===404&&f.error(t.data.message),t.data}),rt=q("deleteStandart",async o=>{if((await U.delete(`/labor/protection/delete?id=${o.laborId}&userId=${o.userId}`)).data.message==="LaborProtection deleted successfully")return f.success("Üstünlikli!"),(await U.get(`/labor/protection/get?userId=${o.userId}`)).data;f.error("Ýalňyşlyk!")}),Vt=q("deleteStandartForUser",async o=>{if((await U.delete(`/labor/protection/delete?id=${o.laborId}&userId=${o.userId}`)).data.message==="LaborProtection deleted successfully")return f.success("Üstünlikli!"),(await U.get(`/labor/protection/get/user?userId=${o.id}`)).data;f.error("Ýalňyşlyk!")}),Gt=q("postStandartForUser",async o=>{const t={title:o.title,description:o.description,usersId:o.usersId};if((await U.post("/labor/protection/add",t)).data=="OK")return f.success("Üstünlikli!"),(await U.get(`/labor/protection/get/user?userId=${o.userId}`)).data;f.error("Ýalňyşlyk!")}),Xt=q("postStandart",async o=>{const t={title:o.title,description:o.description,usersId:o.usersId};if((await U.post("/labor/protection/add",t)).data=="OK")return f.success("Üstünlikli!"),(await U.get(`/labor/protection/get?userId=${o.userId}`)).data;f.error("Ýalňyşlyk!")}),Zt=q("updateStandart",async o=>{if((await U.put("/labor/protection/update",o)).data)return f.success("Üstünlikli!"),(await U.get(`/labor/protection/get?userId=${o.userId}`)).data;f.error("Ýalňyşlyk!")}),Ho=Oe({name:"standart",initialState:Qo,reducers:{},extraReducers:o=>{o.addCase(at.pending,t=>{t.status="loading..."}).addCase(at.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(at.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(et.pending,t=>{t.status="loading..."}).addCase(et.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(et.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(rt.pending,t=>{t.status="loading..."}).addCase(rt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(rt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Vt.pending,t=>{t.status="loading..."}).addCase(Vt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(Vt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Xt.pending,t=>{t.status="loading..."}).addCase(Xt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(Xt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Gt.pending,t=>{t.status="loading..."}).addCase(Gt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(Gt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Zt.pending,t=>{t.status="loading..."}).addCase(Zt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(Zt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Jo=Ho.reducer,Vo=gn({reducer:{auth:co,imgAccount:po,users:mo,getWorkDate:yo,uploadPDf:Mo,getWorkTime:To,project:Uo,projectDetail:Bo,workTime:Lo,standarts:Jo}}),Go="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPvSURBVHgB7ZpNctowFMffk/PRJTcoOUGSCxA4QcmyoZ3GSafbpCcI3KCsOtM2YzJt0mWSExh6gaYnqI/AsjC11CdjG5FpQDJWCIx/C8aYZ4m/9CQ9PRmgoKCgoODpgmCZT/7ljgNYZY7YBoFVulWiWkvRjwL69BEAYsBD6IUguu9qjTuwiBXBnu+VgG2cUPF1qmHH6GEBAeeidVxrdMACuQs+97+dMsbO0l7Mzo1bOdiHnFmDnKBeLYOz6dFl9d5PfQFwi4BdcPgdDIeBW3P78TMlWHu2A4KXyaZONnsAUUMFEA5cpeyRx2A0JEblC3HHObRNPSGXHvZonALDayqtrNwOOECbhYNOInB2OSTM2ahDyLpu7WUQ3ysD2/TvlT2GhgDwQY3qCDSqmF9wLNZXXVgI0UY+bOoKnVp+7+r3g2LTCiPRuzr1zeXSo9aPejYR2ye32z+qHHQhB6gxD2eKlZANZxundNWcZTrfGJ50NRp3WEtcMRcYnuibRuN/th1kxOtdnk20fij2cxUrMVvSqjpGmQRHrozYHN/h713LAUNeZBIs2HpT+Rq4lVcfwA5dbUsErQbPJBiBpeOFg2iBJbgQPQPbto6dseDP/teqOlEdV+yEgBLGh9JzAg1T7f9hLNhhrJ5c03p7CxaJ1lWa+WG66CC20cJYMCJup9eM3YBl5MxPMfUWNa8rQPxK7lMo2qMWb1EIumuyOhivw1TpFiYB2l8+dySlizty2Q7MiXkPAz5P/8SSLEUqmQOPRfORYoFzGXoaktv28DHxflwJ5WsHDFjaHs5KIXjVKQSvOoXgVacQvOoYCY5SO0+MKJdtgJFgNbVjey88g25yEadntTESPJHaQezAogjDNK3EEE5Mellb8L2kePC2cmB98/8Qbu11F2TSPwJL3Fk/1H1Wv4eVpLjNxJ0uatKOAXuh+5yW4Oj8SEmKMzrsggUTJ/iSjEvVk8lFned0jAQTysSAndxPGDIgE3w0cV4k34WSXJyGlmBExWVCrpX/fQyQ83QeQYQ3Os+YZzwc/EkZB1hWtHpYN6u/SISACx07LcFyghAj0Y+WljWgL/PTR3sNrQDE2mtL573LJp3Znslr2Viz/pBqTx7VOt5rNMEC1jYPFAEFybV6WvGw/fhAWyBay3fb2y2FQzUSm7pOfvGv5JKS/u6ESyh4tE4qE4nDrmNhE8jTSIeBN75jd523mohHPjgFZ1O6alnGvI4D17SkdeW5L00epdjVq8ojdBIIVsNW6+9aev73MjjCB5j5Nk7+L8X8B+sZj0gACZm+TtJW0/DYMyvWe1gl7u0dculoI8KQUWP8ucnjBbaCgoKCgoIl5B9+YXkykKfGbQAAAABJRU5ErkJggg==",Hs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMrSURBVHgB7ZjrkdowEMf3zPMjHZw7CB3EqeByH3lNcAXQAU4FyVUAGV4fc6kgpoKQDpwO7iMwPLILsqMQCduSPPHN+Ddzg+SzZP31WO0uQEFBwavmDjQZj8eNcrnslEol+3Q6Nc6d3t29HA6H9X6/X7uu+wIZoiSABl2r1fpYfMA/J+Z1H4V96XQ6E8iA1AJms9nQsqwRFhvpWkKAQj6aFpJYAM66jbM+BvGMr+AywIDVG7iNmvj7VvCuv91ucWe5ARggkQA2+O9YtLnHAf494WAmsn2+XC7t4/HooJjRdVts986EiFgBosHjTD/tdjsvzQGdz+ceExJiRIQV9wLbNjarknV5xH08TGtdsI2HP4/UB3sUbkktbgrAWesDt+dx8G6v13sGRdrtNrV1uUcOGQXQ4KYAfsnJgugMPoRE0Bbkv0FmGRSRCmCzb7NqwLaAEej8wMUIkIBGpVLpgyJSAdjxh7BMsw8GYecnWgW8Vx5AEaEAtqQO9wEfDEPml6s6qttIKAB9myZXXbVarQAMw1bBD+tokRxQQCgAHbNIAG6fNWTHr7CAF54NCggFhF4lIzNvknM9zocZFIi9yPKOUAD589ELlnUP2RHNOq6G0krLViDgOrYhI3Ci3oRlPHdKZ00oAE2cz1UdnZtSBjmJwJnqzWZjTsC1idO5KWVUq1WHq65UQ89bh/hb9JJlDUyvwpWfNQFFpALYTcm7viMwBPpZfIAT6ISZUgG0pHi58D7QcDqdvgdNqA+cfS+s6/pZsRHZYrGgaMxhHyNRyjEBDR6tDQUx4XZcoXvtgAaxFxnOFgUgASs3cABf2RZIDJ0fnIhP1Bb+zmb8AE0SBfUUnOPs/xPU0/Kjb+/L4loufzS4ahuBfXh4BpS3UeK0ChMhS6tQ8uon/Dn097hatuTdFTmI+P9B+EBHROrEFkVqgjRJEs5Godvtfmb9eFemVEmEcm6UCemDOHnFQ0mvZ1H+yIQII8nder3exI83+eQuXPI+ftwNqytCW4AJdETkQgChKiI3AggVEbkSQKQVkTsBhECEK3P4chkTUxbQdDLtv0B3DUtxFhQUFOSU34IkpBx2UQqyAAAAAElFTkSuQmCC",Xo=[{title:"Baş sahypa",link:"/",icon:e.jsx(gs,{})},{title:"Dolandyryş",link:"/dashboard",icon:e.jsx(jn,{})},{title:"Gelen",link:"/document/inbox",icon:e.jsx(_t,{badgeContent:1,color:"primary",children:e.jsx(bn,{})})},{title:"Giden",link:"/document/out",icon:e.jsx(_t,{badgeContent:1,color:"primary",children:e.jsx(yn,{})})},{title:" Arhiw",link:"/document/archive",icon:e.jsx(_t,{badgeContent:1,color:"primary",children:e.jsx(wn,{})})},{title:"Täze Resminama",link:"/document/new",icon:e.jsx(Cn,{})},{title:"Söhbetdeşlik",link:"/chat",icon:e.jsx(gs,{})},{title:"Profil",link:"/account",icon:e.jsx(As,{})},{title:"Buýruklar",link:"/orders",icon:e.jsx(An,{})},{title:"Işgärler",link:"/employees",icon:e.jsx(Ss,{})},{title:"Bildiriş",link:"/notifications",icon:e.jsx(Sn,{})}];function Zo(){const[o,t]=a.useState(!1),s=JSON.parse(localStorage.getItem("CRM_USER")),[x,l]=a.useState(!1);O(y=>y.imgAccount.data.img);const g=()=>{l(!x)},A=ks(),I=Ds(A.breakpoints.down("sm"));return e.jsxs($,{height:"75px",width:"100%",backgroundColor:"#F8F9FA",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid lightgray"},children:[e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,sx:{width:{lg:"430px",md:"100%",sm:"100%",xs:"100%"},p:{lg:"0 0 0 30px",xs:"0 5px 0 5px"}},InputProps:{startAdornment:e.jsx("img",{src:Hs,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",pr:{lg:"30px",md:"30px",sm:"30px",xs:"10px"},children:[e.jsxs(n,{direction:"row",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},alignItems:"center",children:[e.jsx(H,{onClick:()=>t(!o),sx:{color:"#5C9FE3",transition:"all ease-in-out 0.2s","&:hover":{backgroundColor:"#fff"}},children:e.jsx("img",{src:Go,style:{width:"30px",height:"30px"},alt:""})}),e.jsx(kn,{sx:{backgroundColor:"transparent",color:"#fff",zIndex:y=>y.zIndex.drawer+1},open:o,onClick:()=>t(!1),children:e.jsx(n,{position:"absolute",minWidth:200,minHeight:100,backgroundColor:"#9FC2A6",top:65,right:150,border:"1px solid #9FC2A6",borderRadius:"10px",alignItems:"center",justifyContent:"center",children:"Sazlamalar ýerinde"})})]}),e.jsxs(ze,{to:"/account",style:{display:"flex",alignItems:"center",gap:"5px",textDecoration:"none"},children:[e.jsx(H,{sx:{height:60,width:60},children:s.img===null?e.jsx(qt,{alt:s.name,src:s.name,sx:{background:"#2F6FD0",height:50,width:50}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${s.img}`,alt:""})}),e.jsxs(n,{direction:"column",alignItems:"center",children:[e.jsxs(i,{color:"#474747",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:16,fontWeight:500,children:[s.name," ",s.surname]}),e.jsx(i,{color:"#A6A6A6",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:13,fontWeight:400,lineHeight:"15px",children:s.position!=null&&s.position.name})]})]}),e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"center",sx:{...I?{display:"flex"}:{display:"none"}},children:e.jsx(H,{onClick:g,sx:{width:24,height:24,p:0},children:e.jsx(Dn,{sx:{color:"#fff"}})})}),e.jsx(In,{anchor:"right",open:x,onClose:g,sx:{"& .MuiDrawer-paper":{width:"60%",backgroundColor:"transparent",backdropFilter:"blur(5px)"}},children:e.jsx($,{className:"mobile-menu",sx:{bg:"#000",height:"100%",padding:"16px 0"},children:e.jsxs(n,{spacing:2,direction:"column",height:"35px",alignItems:"center",children:[e.jsx(X,{onClick:g,children:e.jsx("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false","data-icon":"close",width:"2em",height:"2em",fill:"#fff","aria-hidden":"true",children:e.jsx("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})}),e.jsxs(n,{direction:"column",alignItems:"center",spacing:2,children:[e.jsxs(n,{children:[e.jsx(n,{sx:{...o?"":{flexDirection:"column"}},height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"0px 30px",children:e.jsx(ze,{style:{textDecoration:"none"},to:"/",children:e.jsx(i,{color:"#F3F3F4",fontWeight:"700",sx:{...o?{fontSize:"30px"}:{fontSize:"18px"}},textAlign:"center",fontFamily:"Montserrat",children:"Älem Doc"})})}),e.jsx(Us,{menuItemStyles:{button:{"&:hover":{backgroundColor:"#1976d2"}}},children:Xo.map(y=>e.jsx(Ee,{component:e.jsx(Me,{className:"sideNavMobile",to:y.link}),icon:y.icon,children:y.title},y))})]}),e.jsxs(n,{children:[e.jsxs(X,{sx:{color:"#fff",display:"flex",flexDirection:"column",gap:"1px",fontSize:"12px",fontFamily:"Montserrat"},children:[e.jsx(Fn,{sx:{width:30,height:30}}),"Kömek"]}),e.jsxs(X,{sx:{color:"#fff",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontSize:"11px"},children:[e.jsx(vn,{sx:{width:30,height:30}}),"Çykmak"]})]})]})]})})})]})]})}const qo="/assets/alemtilsimat-CxmWQcmV.png";function Ko(o,t){const[s,x]=a.useState(!1),[l,g]=a.useState(null),A=JSON.parse(localStorage.getItem("CRM_USER")),I=we(),y=ne(),w=()=>{y(lo()),localStorage.removeItem("CRM_USER"),setTimeout(()=>I("/login"),500),f.success("Üstünlikli çykyş!")};to();const S=ks(),C=Ds(S.breakpoints.down("sm"));return e.jsx(e.Fragment,{children:e.jsxs(_n,{rootStyles:{[`.${eo.container}`]:{backgroundColor:"#F8F9FA",color:"#606C8F",maxHeight:"100%",display:"flex",width:"100%",flexDirection:"column",justifyContent:"space-between",padding:"10px !important",borderRight:"1px solid lightgray"}},className:"sidebar",style:{minHeight:"100vh",minWidth:"250px",width:{...C?"150px":"250px"},...C?{display:"none"}:{display:"flex"},border:"none"},children:[e.jsxs(n,{height:"100%",children:[e.jsx(n,{height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"20px 30px",children:e.jsx(ze,{style:{textDecoration:"none"},to:"/",children:e.jsx(n,{left:"30px",top:"30px",direction:"row",alignItems:"center",children:e.jsx("img",{src:qo,style:{width:"auto",height:"75px"},alt:""})})})}),e.jsx(n,{height:"100%",justifyContent:"center",children:e.jsxs(Us,{menuItemStyles:{button:{"&:hover":{borderRadius:"7px",backgroundColor:"#E9ECEF",color:"#606C8F !important"}}},children:[e.jsx(Ee,{onClick:()=>{g(null),x(!1)},component:e.jsx(Me,{className:"sideNav",to:"/account"}),icon:e.jsx(As,{}),children:"Profil"}),e.jsx(Ee,{onClick:()=>{g(null),x(!1)},component:e.jsx(Me,{className:"sideNav",to:"/document"}),icon:e.jsx(Mn,{}),children:"Resminama"}),e.jsx(Ee,{onClick:()=>{g(null),x(!1)},component:e.jsx(Me,{className:"sideNav",to:A.role==="USER"||A.role==="MODERATOR"?"/":"/calendar"}),icon:e.jsx(Rn,{}),children:A.role==="USER"||A.role==="MODERATOR"?"Bellikler":"Kalendar"}),e.jsx(Ee,{onClick:()=>{g(null),x(!1)},component:e.jsx(Me,{className:"sideNav",to:"/projects"}),icon:e.jsx(Yn,{}),children:"Proýektler"}),e.jsx(Ee,{style:{...A.role!=="USER"?{display:"none"}:{display:"flex"}},icon:e.jsx(es,{}),component:e.jsx(Me,{className:"sideNav",to:"/standarts/specific"}),children:"Tertip - düzgünnama"}),e.jsx(Ee,{onClick:()=>{g(null),x(!1)},component:e.jsx(Me,{className:"sideNav",to:"/employees"}),icon:e.jsx(Ss,{}),style:{...A.role==="USER"?{display:"none"}:{display:"flex"}},children:"Işgärler"}),e.jsx(Ee,{onClick:()=>{g(null),x(!1)},component:e.jsx(Me,{className:"sideNav",to:"/chat"}),icon:e.jsx(Tn,{}),children:"Söhbetdeşlik"}),e.jsx(Ee,{style:{...A.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(Me,{className:"sideNav",to:"/standarts/specific"}),icon:e.jsx(es,{}),children:"Aýratyn (Tertip-düzgünnama)"}),e.jsx(Ee,{style:{...A.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(Me,{className:"sideNav",to:"/standarts/all"}),icon:e.jsx(es,{}),children:"Ähli işgärler (Tertip-düzgünnama)"}),e.jsx(Ee,{onClick:()=>{g(null),x(!1)},icon:e.jsx(En,{}),component:e.jsx(Me,{className:"sideNav",to:"/settings"}),style:{...A.role==="USER"?{display:"none"}:{display:"flex"}},children:"Sazlamalar"})]})})]}),e.jsxs(n,{direction:"row",alignItems:"center",p:"0 0 50px 18px",children:[e.jsx(Wn,{sx:{color:"#606C8F"}}),e.jsx(X,{onClick:w,sx:{color:"#606C8F",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontWeight:500,fontSize:"20px",textTransform:"revert"},children:"Ulgamdan çyk"})]})]})})}function $o(){return e.jsx($,{children:e.jsxs(n,{direction:"row",maxHeight:"100vh",children:[e.jsx(Ue,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsx(Ko,{}),e.jsxs(n,{direction:"column",width:"100%",children:[e.jsx(Zo,{}),e.jsx(so,{})]})]})})}const Js=({handleChange:o,selectedLanguages:t})=>e.jsx(Un,{children:e.jsx(n,{direction:"row",children:["TKM","RUS","ENG"].map(s=>e.jsx(Kt,{control:e.jsx(zn,{checked:t.includes(s),onChange:o,name:s}),label:s},s))})}),_o=({img:o,setFile:t})=>{const s=JSON.parse(localStorage.getItem("CRM_USER")),[x,l]=a.useState(!1),[g,A]=a.useState(s.mail),[I,y]=a.useState(s.phoneNumber),[w,S]=a.useState(s.surname),[C,m]=a.useState(s.name);a.useState("");const[k,r]=a.useState(s.position?s.position.id:"ADMIN"),[b,h]=a.useState(s.languages?s.languages.split(","):[]),[d,u]=a.useState(s.whereStudy),[c,F]=a.useState(s.whereLive),[M,T]=a.useState(N(s.birthday)),[E,B]=a.useState([]),K=p=>{r(p.target.value)},Q=()=>{const p=new FormData;p.append("file",o),p.append("userId",s.id),o!==null&&Z(dt(p)),t(null)},Z=ne();we(),a.useEffect(()=>{(async()=>{await U.get("/position/get").then(D=>{B(D.data)})})()},[]),O(p=>p.imgAccount.updated);const _=async p=>{p.preventDefault();try{if(g.trim().length<=0||C.trim().length<=0||g.trim().length<=0||I.trim().length<=0||d.length<10)f.error("Dogry maglumatyňyzy giriziň!");else{l(!0);const D=await U.put("/user/updata/info",{userId:s.id,surname:ee(w),name:ee(C),mail:g,phoneNumber:I,birthday:M.add(1,"day"),whereStudy:d,whereLive:c,languages:b.join(","),positionId:k}).then(v=>{v.data&&(localStorage.setItem("CRM_USER",JSON.stringify(v.data)),f.success("Maglumat üýtgedildi!"),Q(),l(!1))})}}catch(D){f.error(D.message==="Network Error"?"Internet baglanyşygy ýok":D.response.data),l(!1)}},R=p=>{const{name:D,checked:v}=p.target;console.log(p.target),h(se=>v?[...se,D]:se.filter(oe=>oe!==D))};return e.jsx(n,{direction:"column",width:"80%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:_,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(L,{id:"outlined-basic",type:"text",value:C,name:"password",onChange:p=>m(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:w,onChange:p=>S(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(re,{fullWidth:!0,children:e.jsx(ie,{labelId:"simple-select-label",id:"simple-select",value:k,onChange:K,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:E.map(p=>e.jsx(J,{value:p.id,children:p.name},p.id))})})]})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(fe,{dateAdapter:je,sx:{width:"100%",pt:0},children:e.jsx(le,{value:M,format:"DD.MM.YYYY",onChange:p=>T(p),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:g,onChange:p=>A(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri"}),e.jsx(L,{id:"outlined-basic",type:"text",value:d,error:d.length<10,name:"password",onChange:p=>u(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:c,onChange:p=>F(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:I,onChange:p=>y(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(Js,{handleChange:R,selectedLanguages:b})]})]})]}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(X,{onClick:_,disabled:s.name===g&&s.surname===lastName,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:x?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})};function ea(){const o=JSON.parse(localStorage.getItem("CRM_USER"));a.useState(o.mail),a.useState(o.surname),a.useState(o.phoneNumber==null?"+993 66778899":o.phoneNumber),a.useState(o.name),a.useState(o.position==null?"ADMIN":o.position.name),a.useState(o.whereLive),a.useState(!1),a.useState(!1),a.useState(""),a.useState(""),a.useState("");const[t,s]=a.useState(null);a.useState(""),a.useState(!1),O(l=>l.imgAccount.data),O(l=>l.imgAccount.status),O(l=>l.imgAccount.error),ne();const x=l=>{const g=l.target.files[0];g&&s(g)};return e.jsxs($,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(Ue,{}),e.jsxs(n,{children:[e.jsx(i,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Profil"}),e.jsxs(n,{backgroundColor:"#fff",direction:"column",minHeight:"80vh",borderRadius:"10px",m:"0px 20px 10px 20px",boxShadow:" 0px 0px 5px -2px rgba(0,0,0,0.75)",children:[e.jsxs(n,{alignItems:"center",direction:"column",pt:1,children:[e.jsxs(H,{sx:{"&:hover .file-input-label2":{display:"flex",flexDirection:"column"}},children:[e.jsxs(n,{position:"relative",display:"inline-block",children:[e.jsx("input",{type:"file",onChange:x,id:"file",accept:".img,.jpg,.png",className:"file-input2"}),e.jsx("label",{htmlFor:"file",className:"file-input-label2"})]}),e.jsx(n,{width:70,height:70,borderRadius:"100px",alignItems:"center",justifyContent:"center",bgcolor:"#ECECEE",children:o.img?e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${o.img}`,alt:""}):e.jsx(Pn,{sx:{width:23,height:23}})})]}),t!==null?t.name:"",e.jsx(i,{fontSize:30,mb:2,fontWeight:600,children:o.firstName})]}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},justifyContent:"center",children:e.jsx(_o,{img:t,setFile:()=>s(null)})})]})]})]})}const ta="/assets/done-DJMmEArB.png",sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7GSURBVHgB7VwJkBxV3f+9mZ773tls9kjIJiEX8kn4AhbxU7KEw8SvjEgJKh4RLAVEI5YGQUtYwAJBREWFBEpB8QCPilFUUlpFoYXcQTA3Jtkcm0022dnZuXdmutv370nvdM/0zPTszmY21v6q3m73O7p7f/2/3v+9XmAa05jGaQyG0wTyRncHZGc3ZCYiPPQauwoipgCmPIHyw8FuwPIomHyJpnqAt9zLro9+D03GlCZQfigwDxbrC/yorUKPr3MSv4EmwoKpDGb5QWXylA53yY+0vBNNxJQlUP5+YC7Xj9XqeTydx5FIWik6SPKH0URMXQm0sjO0p/F0DgORjFJKsAhNxNQlkJm0z7LsQBMh4DRBZ4tLKVMNU9uJnAZoehgjy/wZNgbX8DhvESTm1jR1g7G1Ji7Rxy/yE+0l+Xk/5OwWdmP6ECYZDSfwV1deac2fKS1gQn4GnzVYq/U9N7A3sMh3qJc/xlI0HilO5H1P9vc8V7OnKItWR2b7Vb1bIqgTDSXw17ddvloUcTdjqEmIx5pBz4w34BEymExsi3VjR2yOma48PpJ/Nn/24RvPu+61HEyiYTbwqa99YC0nb7MZ8ghL/AcnnTzlPr6DcFqzZrpyD8U+vffQ7L/09vaa5qUhBG6+d42PMfkOTp7N7Jh2Z93aMi5YmYR2R133WrE4t/Ums50bQmA6Zl0jA6b0RIXLOopTBbdQ570Yu9Zs1wbFgdJ8I3PqDnfB5vAYjmCobdsbBaevBQHvQsO2dPQosqmYro7H8KZnNw0hUGbMUkrfjAXnY/Fln6o8aPOjOFWYuXg5PIs/Z9iWGTmOV3729dJq07xM2kzEFZxZvQPPVJ0yOEOVmwIzMBFMz0QmiGkCJ4imJROywf/BqYLonInJQtMIHFr6Tfw3YFqFJ4hpAieIaQIniNMmI30q4W2djSNHjj4gM8xnMhJczp7o7Gx7xqjvNIElmL1sNboveD8dflGZXSk/pKv7B46+mM2kV8+dOzeq7T+lVVhOpJD75Z9wqnDmiqtV8srAebzA4XRtkksWsZougSwZg++PP4Z18BCYmEd2zhKkL/wA8nYfUh9ZD/HVbRD3H4bzq5/BZGLe0nei4+wLa3XrGRgY6OG/t6gVTSXQ9fzTCPziPjCpuE/IsetVeLY8if27zoC464BSJ725W1k8yedFJBJJpc7r80AQBORz+bE6FYJg5e1emMXS9igW5p7C0MAsZDtWVu3LEyeXYioQaOvbgcCT9+vII0h54PA/JOQjBfKENRfB9cDNlKNDnktodHhEqXc6nQUCNXUqqM0cgTICex5CRziunLXs+jYiYg7ZWe+pPERCl/a0aTbQ98fHwPL6pYc8z/AffsGKdKSQHHO8vQvuDbeDedxoNHgCGI8O70P/iVfG6vg7QmjvBgj9z1Ycx6zsTe150yTQzlVVC5K8Iy8XyfN2SDyPF8FxVsw0kmR1z9Pt+DCsqwUi75ZoH55IRfB450fx7OHHMSdfcK4WOYvWPfcjxrK5VOd7Spco0nZB2KStaJIE8sVgUS99x96wFMnrlNCxTIJVTKHRIPLuHDmIJ5LHlfP9tiB6Zn0Se4TwWB96Z/69G5jz+PNx/Vj5+62trbu0dU0ikEEsSWS2LpEh8ADB0yaj63wJFq4bYnu3rg85DLJ3lUo+n695ZyJvY+KYrq5PIXEtDqFoN5mYFULb7/a6B5/LFJ5Yvq2ro+Mrpddrmg1MrrxKd25zy5jTI6LzHeLY8kpi5Yd0fVSHUZHAXOVdv6ralpKn4hgX9hXuy3GA+bTVLLDjXrun/8+3tbe3G27kbBqB6Xe9D9kzz9HVCS5ZkTxCduG5yCx/LxqF++P9+OlJtS0DD4OkVAb7LX4sd12B3SxQbJPZdwPnXXMX4+u2RkOb5kQklxeRdd+Fb/MGuF/aApYoGHHJ40dqxRVIrFpLMZduzHgcBoEkrxJ5jlgSo8liHDlg8WCV6314Nr0Z3XKsl1299Y5q125qIC3b7Ih9cB0Sq9dCOHqAnzsghjsUEhsFsnnVJE9Lnoo+LokXui7/9sE1N92Jj6AqpkQyQfIEkJ3/djQadxg4DBXWeBJiImnYtmrbVjxz6w+/bGbjUEMIbLNFwUqsqceaRjNRTW2rkXfpjn9i5c438AzMoSEErpz5RtnialJYghiag2/VcBiVyOvZvQ2XbX8d9aAxKixjaenODuvoCTQD9TgMLUhtL+aSVy9MhzHyY8FgxUaGs0urhOF/IcXzeVR4Dk1/09HJ2Zl1Z6x+h0EgyVs5DvIIpgiUN4buRQYH5IeDHy9reyhA+yb8kiQhnU4rhY6FzDFImWFldqAl0N33S7T9dRU8/34MjQQ5jA3xyg4DcWPyvhDuxv+/+YpOgQIB88mLmiosP9zSyxm4GYWY7Kfyw6GzYHHeBTGzjNO/nqvvu6lBFEVkMoUNkzabDRaLBfNfvBzJ0DKkltwI2T8f/m3fhPvAr5U+/u08DygmkVj0OUwUt0QPcMkbNGyr5jBubDkD14dm42lNHZHXMALlDaFb+c/bdZUMt0DOfIyTN+vkeUVYxAR8J56D7+9/g+QIlamub9cPebBsQ3LhdRgvvhXrr0heNYdxbWgWPt+i39Lo87nqIo9QUYXlB73cs7LPa+tIynI5JYsyq7Q/SV0oFFIKJTpLrqaQl81myyb8nrceQz45hPGAJO878SOGbY4aantzeK6ujogLhYz3MlZDRQLZusRxrra3qudEXDweR5IbYjNZj1IQealUShlPL0LFsUW3IpWzYTRT3y7S1159HQd3vmXcSA6jguR9ikseqa0W45E8FVWdCLtuiL6/eERbRw5BS4BZ0Dgq5GBkqeBUIrPXIt56kXJMBBLJZjAyEsPOHXuwes8J/N9AQtdWy2GsD8/VWR2HwzEuyVNR2wuLwpc4lYOkom63Gx6PR7lpGez8sXxcdf28OMovS2NcLhd8Xh8Em4CcswMn5lyj62O1Vv2sZAwkxapnX7P9GC7pGy6MN+EwdI/stMPhmtindrUDaSG7ELJF+WbXbreXt3v5JeY4+WJCSfY7wm3lfj6dSxellbIpxcsOwZnYjXSg8FWE0+U0TeCJ43pndOm/I0jLEp53GmuGkcMg8rTPM17UlkDJcnvFtg7+9s7xlpNHaOF1/8uzKu3Gb5hJWQSP/FY5Jum2O+wwi8HB8mB5zd4oVkTKbbORw3A4HQ0hj1CVQGX2wbDCsNHLpWWeC2BV4hhqoj4eY8nyRF6AJZ+CVTAneYRodATHB42nie8dSOtINHIYito6G/eFrE6Fla/EbZYv80PKLS3GKForjqxFngrav9/N+25PlDVZ83EseP4iSIIbef8i5AJnIXnmNRDdXYaXIuex6Td/UBbSfX6vocoTiXmrG+fNm48bSsgjO9xI8gh6GygwMhSfVU/JY1JRmrSxHTkJn+mPkgqOhZxMtjilU0MhmrGQFNojrysl03mZIYEkeURePF54EfEYD9J9Hi69+j+Bp96x3tOJRZMseSqqOpHR0dGx6RkFyGMgAuv5TNHKOzu4tGSL6kUxJYFsEXlnFUQsvTQigp2UcAqbNv326THyCOSF49zrhsMhdHS28zjOz6MEF9raZpQF8o1yGEYYXzpLRv0wSXiWx4MpLl1kFz3eQnwWiQxziYuX9aWwqueid8PrrRzHkdRNhuSpqEog2YzyaRnHqIS6QIHzqD7E8HoLa7BmQhePu3yWQPHoqtUXG5JHkksvgK6dzfIMUSZd0V7brRNbmCxlp49L1w/47wX8hvO4fVpANqoMWU5glMd5QZN2cJir7qhebCl0UZF3zEDG+zbk7SElwC6F2+PG8uXn4+WXtyrqHAoFcPElK8ZeAoGe0+kuxJKq6keHT6DKUjH/40W4fJX9pBnoCGQ38HQuMJZAkL/Dwxgn28/VrzyZuo+/1XOF2p6YeOsz3qIhWj3Yd8HTiheuhfMvWIazzl6MkWhMsXXaF0vHbq8bpS87m5fHyCyFTbAg4A/xtRzzIZQRqs+Fvxjli7XyXwwbU/zVvpWubg9JdXdxw582VvnEjB5T5Kkgm9jaFjZFnvL8FcgTmIRgsGXC5CnXqtnDwh7kJF1p2DbIMygJrp5zuRcNaqSRiBvh9ftSFckjrzLcWdy6YeG2iNSaVJCOK/3xynRSLuyToX7kIBgzHxLYrJS6CqNRqE1gzP46fFlK2IUpW0Lhgy6ZQJJIQTKFNlSIr6yoi/lUUFhEBJFjyrrnIOcuxmpEhNYuVgNN++qZ+qkoqG2gIZKnorYL8mVpLhymP57yeVQM007kmWP5gkQakEfxJI2l+I9iPXuqD217C/+9jtTP0Ns3EOQwGk0eofpcuLCItJ6O1XCD1MXQM9e60ckx2gA5MPA7Xn4Pm91WlxrWC5K8YEtrw8kjVE7pK4kE9iP1nCSEYi8KHcYjLWS7aKzP59PFfjP2fQ8sPXlryI10GEaonNK/hntgmd2trSMbdZI82qWp01NK+Q8PDyulNOUvMzvyttCYk9Aicsa1yDAfz0g3/l+gkMMIhqo7jNTwUUwEVUWJ3RDplTeEuauVikQybETUuh7B3AJI7CbupdfQZnej8aN5C96K+LE71oWEvRtLrC/hHV1FaXvxWDd2Hu7nR/cpDrwl7OMOqo4kRQ3INKeuZm54EjY5VL4oJRdcoSnU1EV2/dA98iP8LYrSOi6vX2LXDf/iZNNWXj4hP9jih10eIclSJ+yqvXvktYV8BqdKXB+OYyZOpBxYOfcoXukP46V+moYVtxyLMY+ywNNsWCDvNN/XBNhnhu7hSnqOhrxi27oI7SEaItIoq0KFjofTdg15J2/Gc4NHcl34+c63cfL0+5GCwalBHkGULA+Y7WvanbIbEoOVG1H2xqKZYpxmtwtobfVh1qww/H6+sMRTY9plRDqm+qkAvnb49932cx43279Ru7O28Z/v0lZpCXS7HUrRgkhzufh6MM/S+HyTk6urEzRZeGimELr7w729jbOBpmCV7kOePaWtSoq2MfkWeJxn9ERUX6ntVILne+NCnvVdcc+m8W2RmMY0pnG64j8HvGUSvSq87QAAAABJRU5ErkJggg==",na="/assets/newAdded-CcMvoMMP.png",oa="/assets/newProject-CpnAEvfz.png",aa=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:x,setSelectedUsers:l,allUsers:g})=>{a.useState([]);const[A,I]=a.useState([]),[y,w]=a.useState("Orta"),[S,C]=a.useState("Başlanmadyk"),[m,k]=a.useState("");a.useState("");const[r,b]=a.useState(null),[h,d]=a.useState(null),[u,c]=a.useState(t),F=E=>{w(E.target.value)},M=E=>{C(E.target.value)};a.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(B=>{I(B.data.data)})})()},[]);const T=()=>{const E={userId:t.length&&t[t.length-1].id,name:m,status:S,priority:y,startDate:N(r).format("YYYY-MM-DD"),endDate:N(h).format("YYYY-MM-DD")};m!==""&&S!=""&&y!==""&&r!==null&&h!==null?(s(t),k(""),x(B=>[...B,E])):f.error("Dogry maglumatyňyzy giriziň!")};return a.useEffect(()=>{t.length&&c(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Ue,{}),e.jsx(ae,{open:t!==void 0>0&&o,onClose:()=>{w(""),C(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{w(""),C(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:E=>{b(E||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:E=>{d(E||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:m,fullWidth:!0,onChange:E=>k(E.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:F,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,onChange:M,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:T,children:"Ýatda sakla"})})]})]})})]})},ra=({open:o,handleClose:t})=>{const[s,x]=a.useState(!1),[l,g]=a.useState("Orta"),[A,I]=a.useState("Başlanmadyk"),[y,w]=a.useState([]),[S,C]=a.useState([]);a.useState("");const[m,k]=a.useState(""),[r,b]=a.useState([]),[h,d]=a.useState(r?r.endDate:""),[u,c]=a.useState(r?r.startDate:"");O(R=>R.users.status);const F=O(R=>R.users.data),M=ne(),T=R=>{g(R.target.value)},E=R=>{I(R.target.value)};a.useEffect(()=>{const R=r.reduce((p,D)=>{const v=new Date(D.startDate),se=new Date(D.endDate);return(!p.earliestStart||v<p.earliestStart)&&(p.earliestStart=v),(!p.latestEnd||se>p.latestEnd)&&(p.latestEnd=se),p},{earliestStart:null,latestEnd:null});c(R.earliestStart),d(R.latestEnd)},[r]);const B=R=>{R.length?(x(!0),C(R)):w(R)},K=R=>{R?(w(p=>p.filter(D=>D.id!==R)),C(p=>p.filter(D=>D.id!==R))):w(newValues),x(!1)};a.useEffect(()=>{M(Re())},[M]);const Q=R=>{k(R.target.value)},Z=(R,p)=>{p.length<y.length?(r.filter(D=>!p.some(v=>v.id===D.id)),w(p),b(r.filter(D=>p.some(v=>v.id!==D.id))),C(S.filter(D=>p.some(v=>v.id!==D.id)))):(p||p[0].id)&&(B(p),w(()=>p.map(D=>({id:D.id?D.id:D.userId,name:D.name,surname:D.surname}))))},_=()=>{const R={name:m,status:A,priority:l,startDate:u,endDate:h,tasks:r};m!=""&&l!=""&&u!==""&&h!=""&&r.length!=0?(M(Et(R)),t(),w([]),b([]),k("")):f.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(ae,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:m,fullWidth:!0,onChange:Q,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,value:y,fullWidth:!0,isOptionEqualToValue:(R,p)=>R.id===p.id,options:F,getOptionLabel:R=>`${ee(R.name)} ${ee(R.surname==null?"":R.surname)}`,onChange:Z,renderInput:R=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...R,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...R.InputProps,endAdornment:e.jsx(e.Fragment,{children:R.InputProps.endAdornment})}}),popupIcon:e.jsx(Ge,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,value:N(u).isValid()?N(u):null,onChange:R=>{c(R?R?N(R).format("YYYY-MM-DD"):N(u):N(u))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,value:N(h).isValid()?N(h):null,onChange:R=>{d(R?R?N(R).format("YYYY-MM-DD"):N(h):N(h))},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:T,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,onChange:E,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:_,children:"Ýatda sakla"})})]})]})}),e.jsx(aa,{user:S,setSelectedUsers:C,openUserModal:s,handleCloseUserModal:K,setWorkers:b,allUsers:F})]})};function Vs(){const[o,t]=a.useState(!1),s=O(m=>m.project.data),x=ne(),l=()=>t(!0),g=()=>t(!1);a.useEffect(()=>{x(Xe())},[x]);const A=s.filter(m=>m.status==="Tamamlanan"),I=s.filter(m=>m.status==="Dowam edýän"),y=new Date;y.setDate(y.getDate()-7);const w=s.filter(m=>new Date(m.createdat)>=y),S=s.filter(m=>new Date(m.createdat)>=y).reduce((m,k)=>m+k.completion,0),C=[{id:1,img:ta,title:"Tamamlanan",value:A.length,percentage:null,width:3},{id:2,img:sa,title:"Dowam edýän",value:I.length,percentage:`${Math.ceil(S)}%`,width:3},{id:3,img:na,title:"Täze goşulan",value:w.length,percentage:null,width:3},{id:4,img:oa,title:"Täze proýekt",value:null,percentage:null,width:3}];return e.jsxs(Ve,{container:!0,spacing:2,children:[C.map((m,k)=>e.jsx(Ve,{item:!0,xs:12,sm:12,md:m.width,children:e.jsxs(Ze,{sx:{height:"85px",borderRadius:"12px",display:"flex",justifyContent:"space-around",alignItems:"center",border:"0.5px solid lightgray"},children:[e.jsxs(n,{direction:"row",width:"70%",sx:{...m.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},justifyContent:"center",onClick:m.id==4?l:"",children:[e.jsx(n,{width:60,height:60,borderRadius:"100%",backgroundColor:"#F0F7FF",alignItems:"center",justifyContent:"center",children:e.jsx("img",{src:m.img,alt:"",style:{width:40,height:40}})}),e.jsxs(n,{children:[e.jsx(i,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,children:m.value}),e.jsx(i,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,children:m.title})]})]}),e.jsxs(n,{mr:2,sx:{...m.percentage==null&&{display:"none"}},children:[e.jsx(Bn,{sx:{color:"#00B69B"}}),e.jsx(i,{color:"#00B69B",children:m.percentage})]})]})},k)),e.jsx(ra,{open:o,handleClose:g})]})}const Ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANySURBVHgB7ZldThsxEMdnnDyiEk7QjfiQ+lRyA3qCqidglws0PUHCCYB3kmxvwA3KDchbpbaI7QmaPvSJYHcGxatJSdbexkYRyk9I8ZrZXc96xn9/AGzYsBIIgblJ09YrgI8GMQXEhOuMMWNEHN9rffomzwsISFAH7rLs+AHgnBreWmIyMeTEfp6fQyCCOXCbpl2j1JmPbcOYtD0afYYAKAjA1zRNKGR69pq+SkHOvGtovbM3HCL1yAeus/9/QDznUIMABHGggdi3YcMNVVp39i8vr9t5PuG6vcHgiuuEE60tpboQgDAOALy1ZeqJT7bhEq7TWmf2mpw5hgAEcYAafWjL/LWX2TUBxuIygQA8SWJKxh7Fbx/WENS6v5vnp7LuSQ+sa+OZRW176gDAKawpi9rm1IHbLLuxMU5J2DnI8zFE5HuaHqFSXx4bR+q9Oxh0quydSawBfpbGjUYCz4g25rfLxukAddFEPDCI+FRBcZ7YMjXuzmXvdIDCp7BlDDT0VSHfIXt/GcrDYCLKryEyON/LE5e904GH+RDaWWbH+vHj5MTw7yo2RvQAit5fhjsHtC5KY6WW9oAdo6t0xMeGQmi7tEdcvQeaYhZpniOJEdvlu6fTwmXvMxeSXyGByKDIs7bH6s3pAM8i5VAaah6/iLv5ZzvDh/GajdJwVgpK6/EvDvc1E5jxcoCGtlJQps1mApFA8XF8VJjxXQ+UgkKL8gQiIVWYRoxwIQQiHjFiCEkVNmL0q8IvhEQ80lCaQCSkCqOHBjBeDkg1pgX8NkTCROsBocY0IrUhElKFaU1Q+Nzj5YBUY4w4oZP5ZabTOEkMEZPY7qUyf0KG0D/7PK1YamzEx+ks2FtahPe+kBFaEEONaRqRiMsCPPF2QBnzy5ZjqPF0fgRyrsQs3g5ohxrbLY+qbZkqmzmB9FRhpulriA413h8O+/TTr3pGlQ0Nm4mZlU2MEOI9GluOocbymb4qzPiHkNalAwrxOMJI9L4sKXXteY+/A3QsdC3CiPf3exCIx0X+TAP4DIHPFnzv9c6BGZx8Z7MXdWmHIaGEvmDnoCbcg1sAhxQuPVoHH9n6unuztc/IvmVZziEEEaBFzMXBaNStc0/tAw56QRpjB/t/Gs/U7gELKycd1vV55xrFEVMdWLBoDXBFp5Z5O/Ku94YNL5W/nhNKkLkE8qkAAAAASUVORK5CYII=",Gs=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:x,setSelectedUsers:l})=>{const[g,A]=a.useState(t.user&&t.user.id||""),[I,y]=a.useState([]),[w,S]=a.useState(t.task?t.task.priority:"Pes"),[C,m]=a.useState(t.task?t.task.status:"Başlanmadyk"),[k,r]=a.useState("");a.useState("");const[b,h]=a.useState(t.task&&t.task.startDate||""),[d,u]=a.useState(t.task&&t.task.endDate||""),c=O(v=>v.users.data),[F,M]=a.useState([t&&t.user]),[T,E]=a.useState(0),{id:B}=Ke(),K=JSON.parse(localStorage.getItem("CRM_USER")),Q=ne(),Z=v=>{A(v.target.value)},_=v=>{S(v.target.value)},R=v=>{m(v.target.value)},p=(v,se)=>{E(se)};a.useEffect(()=>{t&&(r(t.task&&t.task.name||""),S(t.task?t.task.priority:"Pes"),m(t.task?t.task.status:"Başlanmadyk"),h(t.task&&t.task.startDate||""),M(t&&t.user||[]),u(t.task&&t.task.endDate||""),E(t.task&&t.task.completionTask||0),A(t.user&&t.user.id||""))},[t]),a.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(se=>{y(se.data.data)})})()},[]);const D=()=>{const v={taskId:t.task&&t.task.id,completionTask:T,userId:g||t.user&&t.user.id,name:k,status:C,priority:w,startDate:N(b).format("YYYY-MM-DD"),endDate:N(d).format("YYYY-MM-DD")};k!==""&&C!=""&&w!==""&&b!==null&&d!==null?(Q(Bt({body:v,projectID:B})),s()):f.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(ae,{open:t!==void 0>0&&o,onClose:()=>{S(""),m(""),s()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,...K.role=="USER"?{height:430}:{height:500},bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t.user&&t.user.name," ",t.user&&t.user.surname]}),e.jsx(H,{onClick:()=>{S(""),m(""),s()},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,defaultValue:N(t.task&&t.task.startDate).isValid()?N(t.task&&t.task.startDate):null,onChange:v=>{h(v||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,defaultValue:N(t.task&&t.task.endDate).isValid()?N(t.task&&t.task.endDate):null,onChange:v=>{u(v||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt...",autoComplete:"off",value:k,fullWidth:!0,onChange:v=>r(v.target.value),sx:{borderRadius:"8px",height:56}}),K.role==="USER"?"":e.jsxs(re,{children:[e.jsx(ue,{id:"age-label",children:"Işgärler"}),e.jsx(ie,{labelId:"age-label",value:g,label:"Işgärler",onChange:Z,children:c.map(v=>e.jsxs(J,{value:v.id,children:[v.name," ",v.surname]}))})]}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,onChange:_,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,onChange:R,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsxs(n,{direction:"row",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",width:"40%",children:"Işiň näçe % edildi"}),e.jsx(Nn,{color:T==0?"error":"success",value:T,onChange:p,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,marks:!0,max:100})]}),e.jsx(n,{alignItems:"end",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:D,children:"Ýatda sakla"})})]})]})})})},ia=({open:o,handleClose:t,details:s})=>{a.useState(!1);const[x,l]=a.useState(s?s.priority:"Pes"),[g,A]=a.useState(s?s.status:"Başlanmadyk"),I=JSON.parse(localStorage.getItem("CRM_USER")),[y,w]=a.useState((s==null?void 0:s.name)||""),[S,C]=a.useState(s?s.startdate&&z(s.enddate).format("YYYY-MM-DD"):null),[m,k]=a.useState(s?s.startdate&&z(s.startdate).format("YYYY-MM-DD"):null);O(M=>M.users.status);const r=O(M=>M.users.data);a.useEffect(()=>{s&&(w(s.name||""),l(s.priority||""),A(s.status||""),k(s.startdate||""),C(s.enddate||""))},[s]);const b=ne();a.useState([]);const h=M=>{l(M.target.value)},d=M=>{A(M.target.value)};a.useEffect(()=>{b(Re())},[b]);const u=M=>{w(M.target.value)},c=(M,T)=>{},F=()=>{const M={userId:I.id,projectId:s&&s.project_id,archived:!1,name:y,status:g,priority:x,startDate:N(m).format("YYYY-MM-DD"),endDate:N(S).format("YYYY-MM-DD")};y!=""&&x!=""&&m!==null&&S!=null?(b(Wt(M)),t()):f.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(ae,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:y,fullWidth:!0,onChange:u,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,defaultValue:s&&s.users,fullWidth:!0,options:r,getOptionLabel:M=>`${ee(M.name)} ${ee(M.surname==null?"":M.surname)}`,disabled:!0,onChange:c,renderInput:M=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...M,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...M.InputProps,endAdornment:e.jsx(e.Fragment,{children:M.InputProps.endAdornment})}}),popupIcon:e.jsx(Ge,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,defaultValue:N(s&&s.startdate).isValid()?N(s&&s.startdate):null,onChange:M=>{k(M?M?N(M).format("YYYY-MM-DD"):N(s&&s.startdate):N(s&&s.startdate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,defaultValue:N(s&&s.enddate).isValid()?N(s&&s.enddate):null,onChange:M=>{C(M&&M?N(M).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:x,onChange:h,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:d,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:F,children:"Ýatda sakla"})})]})]})})})};function Xs({data:o,value:t}){return e.jsx(On,{title:t,TransitionComponent:Ln,TransitionProps:{timeout:600},sx:{fontSize:25},children:o})}N.locale("tk");const la=()=>{const[o,t]=a.useState(null),[s,x]=a.useState(null),[l,g]=a.useState(""),[A,I]=a.useState(!1),[y,w]=a.useState(""),[S,C]=a.useState(),m=O(W=>W.project.status),k=O(W=>W.project.error),r=O(W=>W.project.data);a.useState(r);const b=O(W=>W.users.data),h=O(W=>W.users.status),[d,u]=a.useState(!1),c=()=>u(!0),F=()=>u(!1),[M,T]=a.useState(!1),E=we(),B=ne(),K=()=>I(!0),Q=()=>I(!1);console.log(o),console.log(r);const Z=m==="succeeded"?r.filter(W=>W.id!==9&&W.name.toLowerCase().includes(l.toLowerCase())):[];console.log(Z);const _=W=>{w(W.target.value),Q()},R=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{B(Re())},[B]),a.useEffect(()=>{y!==""&&B(_e(y.id))},[B,y]),a.useEffect(()=>{B(Xe())},[B]);const p=()=>{x(null),t(null),g(""),w(""),B(Xe())},D={p:"0 10px",textAlign:"center",fontFamily:"DM Sans"},v={fontSize:"14px",textAlign:"center",fontFamily:"DM Sans",maxWidth:"250px",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},se=W=>{if(W){const ge={projectId:W,responsibleUserId:R.id};B(Ut(ge))}},oe=()=>{T(!0)},Fe=()=>{T(!1)},ke=Is({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}}),G={modal:{position:"absolute",top:"25%",left:"30%",transform:"translate(-50%, -50%)",width:700,height:400,bgcolor:"background.paper",border:"0.5px solid gray",boxShadow:24,p:"8px 25px",borderRadius:"10px"}};return e.jsx($,{mt:1.5,width:"100%",backgroundColor:"#fff",children:e.jsxs(n,{width:"100%",height:"90%",borderRadius:"12px",p:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignContent:"center",justifyContent:"space-between",p:"10px 10px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"80%",alignContent:"center",justifyContent:"center",children:e.jsx(i,{fontFamily:"DM Sans",fontWeight:600,fontSize:18,children:"Proýektleriň mazmuny"})}),e.jsxs(n,{height:"100%",direction:"row",spacing:4,alignItems:"center",justifyContent:"center",children:[e.jsx(X,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray"},onClick:p,children:"Arassala"}),e.jsxs(X,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray",gap:"10px"},onClick:K,children:[e.jsx(Qn,{}),"Filter"]}),e.jsx(ae,{disableAutoFocus:!0,open:A,onClose:Q,closeAfterTransition:!0,children:e.jsx(Je,{in:A,children:e.jsxs($,{sx:G.modal,children:[e.jsx(n,{alignItems:"end",fullWidth:!0,children:e.jsx(H,{onClick:Q,children:e.jsx(he,{sx:{width:28,height:28,color:"#474747"}})})}),e.jsxs(n,{direction:"row",flexWrap:"wrap",children:[e.jsxs(n,{direction:"row",width:"100%",children:[e.jsx(L,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{width:"100%",color:"#000",borderRadius:"40px",mr:"20px",mt:2},onChange:W=>g(W.target.value),value:l,placeholder:"Proýektleriň ady boýunça gözle",InputProps:{sx:{backgroundColor:"#F0F7FF",height:"45px",color:"#000",fontWeight:"500",borderRadius:"40px",padding:"none","& ::placeholder":{color:"#000"}}}}),e.jsx(n,{width:"100%",mt:2,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ue,{id:"age-label",shrink:M||!!y,sx:{position:"absolute",top:M||y?0:"50%",left:14,transform:"translateY(-50%)",padding:0,paddingRight:1,margin:0,fontSize:"16px",transition:"all 0.2s ease-in-out",color:"#8b8f94",width:"100%",fontFamily:"DM Sans"},children:"Işgärler"}),e.jsx(ie,{labelId:"age-label",value:y,label:"Işgärler   ",onChange:_,onFocus:oe,onBlur:Fe,sx:{borderRadius:"20px",backgroundColor:"#F0F7FF",width:"100%",height:45,padding:0,"& .MuiSelect-select":{padding:"10px 14px",display:"flex",alignItems:"center"}},children:h=="succeeded"&&b.map(W=>e.jsxs(J,{value:W,children:[W.name," ",W.surname]},W.id))})]})})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,adapterLocale:"tk",localeText:Fo,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",width:"100%",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(dan)"}),e.jsx(le,{value:N(o,"YYYY-MM-DD").isValid()?N(o,"YYYY-MM-DD"):null,onChange:W=>{t(W?N(W).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(çenli)"}),e.jsx(os,{theme:ke,children:e.jsx(le,{value:N(s,"YYYY-MM-DD").isValid()?N(s,"YYYY-MM-DD"):null,onChange:W=>{x(W?N(W).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})})]})]})})})})]})]})})})]})]}),e.jsxs(n,{children:[m==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):m==="failed"?f.error(k):m==="succeeded"?e.jsx(n,{children:Z.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(qe,{children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Do.map(W=>e.jsx(V,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:W.title},W.id))})}),e.jsx(Ne,{sx:{cursor:"pointer"},children:Z.map((W,ge)=>e.jsxs(it,{children:[e.jsx(Xs,{value:W.name,data:e.jsx(V,{sx:D,onClick:()=>E(`/projects/${W.project_id?W.project_id:W.id}`),children:e.jsx(i,{sx:v,children:W.name})})}),e.jsxs(V,{onClick:()=>E(`/projects/${W.project_id?W.project_id:W.id}`),sx:D,children:[W.users?W.users[0]?W.users[0].name:"":y.name+" "+y.surname,W.users&&W.users[1]?` , ${W.users[1].name}`:""," ",W.users&&W.users[2]?` , ${W.users[2].name}`:""]}),e.jsxs(V,{onClick:()=>E(`/projects/${W.project_id?W.project_id:W.id}`),sx:D,children:[z(W.startdate).format("DD.MM.YYYY")," -"," ",z(W.enddate).format("DD.MM.YYYY")]}),e.jsx(V,{onClick:()=>E(`/projects/${W.project_id?W.project_id:W.id}`),sx:D,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${W.completion}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.ceil(W.completion)}%`})]})}),e.jsx(V,{onClick:()=>E(`/projects/${W.project_id?W.project_id:W.id}`),sx:{...D},children:W.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",border:"0.5px solid gray",children:"Pes"}):W.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"0.5px solid #9A93FF",children:"Ýokary"})}),e.jsx(V,{onClick:()=>E(`/projects/${W.project_id?W.project_id:W.id}`),sx:D,children:W.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",border:"0.5px solid #E79124",children:"Dowam edýän"}):W.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",border:"0.5px solid #FF6A54",color:"#FF6A54",children:W.status})}),e.jsx(V,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>{c(),C(W)},children:e.jsx(Qe,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>se(W.project_id?W.project_id:W.id),children:e.jsx("img",{style:{width:20,height:20},src:Ye,alt:""})})]})})]},ge))})]})})}):"",e.jsx(ia,{open:d,handleClose:F,details:S})]})]})})},da=({setProjectName:o})=>{const[t,s]=a.useState(""),[x,l]=a.useState(!1),[g,A]=a.useState([]);Ke();const I=O(r=>r.projectDetail.status),y=O(r=>r.projectDetail.error),w=O(r=>r.projectDetail.data);a.useState([w]);const S=ne(),C=JSON.parse(localStorage.getItem("CRM_USER")),m=we();a.useEffect(()=>{S(_e(C.id))},[S]),I==="succeeded"&&o(w);const k={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500};return e.jsxs(n,{children:[I==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):I==="failed"?f.error(y):I==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:w.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(qe,{children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Os.map(r=>e.jsx(V,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:r.title},r.id))})}),e.jsx(Ne,{children:w.map(r=>e.jsxs(it,{sx:{cursor:"pointer"},children:[e.jsx(V,{onClick:()=>m(`/projects/${r.project_id?r.project_id:r.id}`),sx:k,children:r.name}),e.jsxs(V,{onClick:()=>m(`/projects/${r.project_id?r.project_id:r.id}`),sx:k,children:[z(r.startDate).format("DD.MM.YYYY")," -"," ",z(r.endDate).format("DD.MM.YYYY")]}),e.jsx(V,{onClick:()=>m(`/projects/${r.project_id?r.project_id:r.id}`),sx:k,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(r.completion)}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.floor(r.completion)}%`})]})}),e.jsx(V,{onClick:()=>m(`/projects/${r.project_id?r.project_id:r.id}`),sx:{...k},children:r.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):r.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(V,{onClick:()=>m(`/projects/${r.project_id?r.project_id:r.id}`),sx:k,children:r.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):r.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:r.status})})]}))})]})})}):"",e.jsx(Gs,{user:t,setSelectedUsers:s,openUserModal:x,handleCloseUserModal:()=>l(!1),setWorkers:A})]})},ca=()=>{const[o,t]=a.useState("");O(x=>x.users.data),a.useState(!1),we();const s=x=>{t(x)};return e.jsx($,{height:"90vh",p:"0 15px",width:"100%",backgroundColor:"#F8F9FA",overflow:"auto",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:2,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsx(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:e.jsx(n,{width:"100%",children:e.jsx(i,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektler"})})}),e.jsx(da,{setProjectName:s})]})})},ua=()=>{const o=JSON.parse(localStorage.getItem("CRM_USER"));return e.jsx($,{height:"100vh",p:"10px",width:"100%",backgroundColor:"#fff",overflow:"auto",children:o.role==="ADMIN"?e.jsxs(e.Fragment,{children:[e.jsx(Vs,{}),e.jsx(la,{})]}):e.jsx(ca,{})})},ha=({selectedDay:o,setDateNote:t})=>e.jsx(fe,{dateAdapter:je,children:e.jsx(le,{defaultValue:N(o,"DD/MM/YYYY").isValid()?N(o,"DD/MM/YYYY"):null,onChange:s=>{t(s?s.format("YYYY-MM-DD"):null)},format:"DD/MM/YYYY",slotProps:{textField:{InputProps:{sx:{backgroundColor:"#f6e9e2",borderRadius:"40px",color:"#ff730f !important",padding:"0 16px",height:45,width:190,"&:hover":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #FF9E58"},"& .MuiSvgIcon-root":{color:"#ff730f",opacity:.7},"& .MuiInputBase-input":{color:"#ff730f",fontFamily:"DM Sans"}}}}}})}),pa=()=>{a.useState();const[o,t]=a.useState(""),[s,x]=a.useState("+993"),[l,g]=a.useState(""),[A,I]=a.useState(""),[y,w]=a.useState(""),[S,C]=a.useState("");a.useState("");const[m,k]=a.useState(!1),[r,b]=a.useState(""),[h,d]=a.useState("TKM"),[u,c]=a.useState(""),[F,M]=a.useState(""),[T,E]=a.useState(N()),[B,K]=a.useState([]),Q=p=>{b(p.target.value)},Z=p=>{d(p.target.value)};ne();const _=we();a.useEffect(()=>{(async()=>{await U.get("/position/get").then(D=>{K(D.data)})})()},[]);const R=async p=>{p.preventDefault();try{if(o.trim().length<=0||S.trim().length<=0)f.error("Dogry maglumatyňyzy giriziň!");else{k(!0);const D=await U.post("/user/registration",{login:l,pass:S,surname:ee(A),name:ee(y),mail:o,phoneNumber:s,birthday:T,whereStudy:u,whereLive:F,languages:h,role:"USER",positionId:r}).then(v=>v.data?(setTimeout(()=>_("/login"),2e3),f.success("Üstünlikli registrasiýa!"),t(""),x("+993"),g(""),I(""),w(""),C(""),k(!1),c(""),b(""),d(""),M(""),E(N())):"")}}catch(D){f.error(D.message==="Network Error"?"Internet baglanyşygy ýok":D.response.data),k(!1)}};return e.jsxs(n,{width:"100%",height:600,justifyContent:"center",borderRadius:"20px",mt:-5,children:[e.jsx(i,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Ady",type:"text",value:y,name:"password",onChange:p=>w(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:A,onChange:p=>I(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:l,onChange:p=>g(p.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(re,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Wezipe"}),e.jsx(ie,{labelId:"simple-select-label",id:"simple-select",value:r,onChange:Q,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:B.map(p=>e.jsx(J,{value:p.id,children:p.name},p.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(fe,{dateAdapter:je,sx:{width:"100%",pt:0},children:e.jsx(Ie,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(le,{label:"Doglan senesi",value:T,format:"DD.MM.YYYY",onChange:p=>E(p),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(L,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:o,onChange:p=>t(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:u,name:"password",onChange:p=>c(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:F,onChange:p=>M(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:s,onChange:p=>x(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(re,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Dili"}),e.jsxs(ie,{labelId:"simple-select-label",id:"simple-select",value:h,onChange:Z,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(J,{value:"ENG",children:"ENG"}),e.jsx(J,{value:"RUS",children:"RUS"}),e.jsx(J,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:S,onChange:p=>C(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:p=>C(p.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:e.jsx(X,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:m?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Hasaba almak"})})]})]})},Zs=()=>{a.useState("");const[o,t]=a.useState(!1),s=()=>t(!0),x=()=>t(!1);a.useState(""),a.useState("+993"),a.useState(""),a.useState(""),a.useState(""),a.useState(""),a.useState(!1);const l=O(d=>d.getWorkTime.status),g=O(d=>d.getWorkTime.error),A=O(d=>d.getWorkTime.data),[I,y]=a.useState(""),[w,S]=a.useState(N()),C=ne(),m=we();JSON.parse(localStorage.getItem("CRM_USER")),a.useEffect(()=>{C(Tt(N(w).format("YYYY-MM-DD")))},[w,C]);const k=l==="succeeded"?A.users&&A.users.filter(d=>d.id!==9&&d.name.toLowerCase().includes(I.toLowerCase())):[],r={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},b={p:1,textAlign:"center",fontFamily:"DM Sans"},h=()=>e.jsx(i,{color:"tomato",fontSize:14,children:"-"});return z().set({year:2024,month:8,date:28,hour:9,minute:0,second:0,millisecond:0}).toISOString(),e.jsxs($,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 30px 8px 0",children:[e.jsx(i,{p:"0px 5px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Işgärler"}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(L,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{color:"#000",minWidth:"150px",borderRadius:"40px",mr:"20px"},onChange:d=>y(d.target.value),value:I,placeholder:"Ady boýunça gözle",InputProps:{sx:{height:"45px",color:"#000",fontWeight:"600",borderRadius:"40px",padding:"none"}}}),e.jsx(ha,{selectedDay:w,setDateNote:S}),e.jsxs(X,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:s,children:[e.jsx(Fs,{}),"Işgär goşmak"]})]})]}),e.jsxs(n,{backgroundColor:"#fff",minHeight:"78vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",children:[e.jsx(Ue,{}),e.jsx(ae,{open:o,onClose:x,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs($,{sx:r,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:x,children:"X"})}),e.jsx(pa,{})]})})]}),e.jsx(n,{children:l==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):l==="failed"?f.error(g):l==="succeeded"?e.jsx(n,{children:k===void 0?e.jsx(i,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(qe,{sx:{height:"77vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Ao.map(d=>e.jsx(V,{sx:{color:"#222222",fontWeight:500,fontSize:18,textAlign:"center"},children:d.title},d.id))})}),e.jsx(Ne,{children:k.map((d,u)=>{var c,F,M,T,E,B,K,Q,Z,_;return e.jsxs(it,{onClick:()=>m(`/employees/${d.id}?date=${w}`),style:{cursor:"pointer"},children:[e.jsx(V,{sx:b,children:u+1}),e.jsx(V,{sx:{...b,textAlign:"start"},children:d.name}),e.jsx(V,{sx:b,children:d.surname}),e.jsx(V,{sx:b,children:d.employeeRegistrationTimes.length>0&&((c=d.employeeRegistrationTimes[0])!=null&&c.comeTime)?N(d.employeeRegistrationTimes[0].comeTime).format("HH:mm"):e.jsx(h,{})}),e.jsx(V,{sx:b,children:d.employeeRegistrationTimes&&d.employeeRegistrationTimes.length>0&&d.employeeRegistrationTimes[d.employeeRegistrationTimes.length-1]?d.employeeRegistrationTimes[d.employeeRegistrationTimes.length-1].leaveTime===null?"Bellik edilmedi":N(d.employeeRegistrationTimes[d.employeeRegistrationTimes.length-1].leaveTime).format("HH:mm"):e.jsx(h,{})}),e.jsx(V,{sx:{...b,color:"tomato"},children:new Date((F=d.employeeRegistrationTimes[0])!=null&&F.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getHours()>=9&&(new Date((M=d.employeeRegistrationTimes[0])!=null&&M.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0||new Date((T=d.employeeRegistrationTimes[0])!=null&&T.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getMinutes()>0)?e.jsxs(e.Fragment,{children:[new Date((E=d.employeeRegistrationTimes[0])!=null&&E.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0&&new Date((B=d.employeeRegistrationTimes[0])!=null&&B.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getHours()-9+"(sag)",new Date((K=d.employeeRegistrationTimes[0])!=null&&K.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getMinutes()>0&&e.jsxs(e.Fragment,{children:[new Date((Q=d.employeeRegistrationTimes[0])!=null&&Q.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0&&":",new Date((Z=d.employeeRegistrationTimes[0])!=null&&Z.comeTime?d.employeeRegistrationTimes[0].comeTime:"").getMinutes(),"(min)"]})]}):""}),e.jsx(V,{sx:{maxWidth:"230px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:d.employeeRegistrationTimes.length>0&&((_=d.employeeRegistrationTimes[0])!=null&&_.note)?d.employeeRegistrationTimes[0].note:""},u)]},d.id)})})]})})}):""})]})]})},xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHcSURBVHgB7ZiBccIwDEV/mYARNAIjZIN2g3oENsAbQCeADWCDZAO6AWxAO0EbX8IhC9sJSexwXN6djhCHWJHlLwVg4sV5w2NkpVF9XJR2xpOwLO1S2h+zE27OjgaVdoTtGLcNRoRQRYk7ZKJ4EN/nGIk9bOc0cyYX55OjYDunxPgSdhSTwyO0dYybSPJNkyEhc9jRI891ml2TIyELNvExcJ18kAwRmME98ZVf+PlBJdZXPhCBGfrxxY7fkQiCXS1CcJ08IBE8t0ISwqUmtJmicG6Y2JzjMqORGF7Olo5xXmWa0iAKfPmkxrXVyagQ/A0BHxvNQUOoIeBjSasIRzYEPIq82hhbB+5DqHLWVKUtBoy4bAi0GJcys3Lcw9WJX6OuMAAyiiTGd3C/BhDsNPDZqXaU0APe8ruah41jYhm1AlWt3sHvbOflb5Nv2jOpcVTqKNWOnuCOaKdXiDb5RrAFvkBzRJTDUYWOyKX07VzC40uVI1y5WrODe1P0hUcxQ0807vNshe6sYD/wIGgMIxmfGCj/XBDcO9HYvp5s4fmt2alr3D9gFBT8jnL9zGvzyQshMqq0bzRXD2lFCuc4hEoqjCZeGhzLmm726P+DXTD5RrhVCPO6eq4/Jyaenn/GPB3kZCDDsgAAAABJRU5ErkJggg==",ga="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHXSURBVHgB7ZfxccIgFId/eg7gCIxgN0g3aCeoI+gEkgnsBrYTtBvYTmCdwGxQN7C8Ey6AJHlgmvzDd/fuTA4en4QHCZDJZDL/ysS7nqvYqhAYh0rFWsW5qcFKxWXkWNlCU09wjvFxHGbgQdP+g35ZqNggclIkwtP+qxP2RaFzhsaSdsNpS5JPXBctQf/yoOIF90M59qhnrtJjBWkTPKp4RC1JvOH6WFJZ6RyGSo9xbOrQJmgnqKx7EmmS1GfbkfuGLkE7kV0kEnGSG7hri3I9oEOO4AgCtaS9VqSKHaPvDq7ct851ZvRlC0InfFbxbt1bqvhAeKuge3vdxkB9CzDlYgVtqdK6ftIiArdyhXWvhCvLIkWQkHAlF6glKQ5w980S3v7GhXuShLh41wJXSfO7rS2bVEG/Kg2iob1pWyKSlEfMqUpTUClV7xAj2FaVX6g33Qr1lhRT9Swkwoe2OYsbD/WIvBedSzDGZc2gwP1VKdFc9a10CYpAojXStgwJV1KAKeknMVNNa+UE99EscT9LL+dJj8VaOhLNL6wF+mMB5gsrZx+kLcM8mgL9IVW8djWaBWR8zKfoULS+SJBM09QPEbQehS00CUhSA4nhP94rPW6FTCaTGY4/Fb/NMOfMGLwAAAAASUVORK5CYII=",ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgB7ZjLccIwFEVPPgVQgkogHWiZXShBy+xCB9BBSAW4g6QD6IB0AKkAOiDSYE+ejWRb+EdmODNvBluydO13n2wEN5rxEDg/svFq4zk93nFlbGwcRSxtKK6ECXlxVyd0Sligi62NGQMy5k/MPj1e4xdqGIiVEDJNzxlOonxCFT0j07wqtBn8Qnv156gw+ajQrmzM8Xt0Rk9CfWkuomwkDOTPsjQXUYT9aegIl9a9mGxc4xqDX6i7QUUHfIlJ5hHXub69FJImvybGoPD7Myuk1pBp1sSj6LiQFmLQBZejCReSpgGay9PswxDhzzvq4YRli/WHjUNFf9eeVPSbc+7FnY2nGuN7BztGxrLGuIpzfxrZ4Z56jOiGQ9W5R+rxIn4nNn6onjgpaXc3/MbpbSVvfmfjm0g0+YpriiG/dGWx5sJFPCHOVyE0+Q8QKUzTALkkaOJRAWHuKRoaIv9AxabXees9IGxOS4WXEP8WcRPP8PtsSYsrQvGrWtW4xj3xLR34zIcRE2wq+mr8Pmv8ni1DTmgCfZSNT/w+m9IhivL0hnzWagGUYcj7RzLFXwDuSSp6Qm4emfScpscCKEMVBLjKDBXAhAGo2jzqzWchDGFxiyGFZTgBxQ3MNQPtC5Z98htOotacV/KNf8Mv2zwspa7JlfkAAAAASUVORK5CYII=",fa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgB7VgxdtNAEP0CDuAjiBPEdO5QOsrkBIQbyCVVyAUs5QQ4JwA6uojOpXMCdATRQWX+JxJPXtYSO7JFwvN/b63dWY31NbMzOyvgiP8cUcjN8/n89WazOWP3Js/zj2PoPkMY8iiKJrwmbEEErbo7LZimqf5sunVzFN02fVrjFAHo0S1p1dKrBz+5lH94ye4EI4Gk5ySZu/I/CJJbTHJfMT4qknxOjlVb6FuDcVuJ7a41ftnqf0EYdume4N5TzZIq0EPwN/hGd3yjpBkzEjdNP8uyBAHYpUu51mayS+8JwlDoh8QLhKOw6AYR5Juf8gEv2D1HIKy6oXkQdPkaRlh0Owkymk8Y1bc4LKZdk30WnJBkgn+I0CAZHX0WXCvD44CghzJ0uLkvD37jwi5wQDAPVl3zj97FXjCy5ZIzz1ThWpz3XuhK+RIGBBNUGVaXTr5K55Lz2vBLFR0cv2+yAMcmkiYL9kEWJrEP2C48YhgQvAZVDmnLYrvicGtnkEzW85AzwxQkdfW7xHZ6kKwpOCvsCUOi2F2DMZuqcFnyvG7XGAgzQW38JPCG3U+NjK7VaWEiC9cnt8GWNBNUlCoqWUYp3bTX4hR7hDUPZrW1lrg/ErRJ7W39CSaCIldfL5yp9ZB60QeTi0nsyiMuFRiOrG3NEgaYCC4Wi3d1Lrxmu1HFo7F7+NY5Vy+jNtpW13q4XJn23aeXwQA87mrmoZ5J5Dot7l+n/ZHPJKUreOoKVqvV99ls9oPEXmE8VHzeWyb9z+5E1+e3GHuqSP4Ca/ej0RFHPBT8BA8hA+XxDhf8AAAAAElFTkSuQmCC",ja="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANkSURBVHgB7VexUhsxEN1zUrh0OrocXbpAZ2hiuqSK/wCno8OmSwV8gc0X4FQpAx2pclSQKk5HqhxdyqNLGsh7zMqWZcn24WhC4TejkXS70j1pd6WVyBJL/F8kZZTb7XYDVardrNfr5RIZcxEEsXaSJPto1qzP+d3d3VZskk+nCcErBbFPaK55xClVtERDJSRQcl9knFyBcmo6kG9DryYRESRYqVS6MvI3kjmESVe73W4T3Uw/k1zUHfSaGLvSApmm6aP9DsT6Vv8UhBtso95FdSCR4N1Bms5q9xEIfUeF/ULbNY3uKJggqD7VMP3b29tDVweECxA/sj7tSyT4djC12oPQMQLiPdOmuWPtoo/gMCrhazehgdxFGQUL0ZQIqMgCwAKGZsYuvpUI8BHMrZ8+lymAvGt1v0sE+AgWVjt4CPP6E8tfsZtRzsMJgupb19rlEZLKJLlU72ZD7jDWnez1QfxwYHUnnF9vGbO7OcgdSCSEgiSz2mPOz3PSuWW2JCJCBE9MA6ZccxKCqMmBCy9B9adMu2MJgSMjjiUiggmrJqnmGCmYyWgAUbYG2TejCxlEvU5gnhRVF/qp+napgHoSEtTr9StMuoNmVcufy8vLjDLUvyC/gfz1/SqTBN06v5/L5CI/0k3QXWGN0oZuAyWB/kBmYGrK79nFdXv1nU6nj2rbGpJbQXNsUrIpoD6TkeD7ZuabBCRoSpNVD5AXrjtyJg27zjC6gh1M53QDEGb0b/v+A3lfPOYPmtgApviqpiZW0K/BNJ+NHO2zzc1NLrRhDasaohj7Hovagd4VygnGf8C3Z7qA4SLU/E3Kofd7boLz+NvFxUWmP15F94V+5q69AbkzZ76CRFGOMOZa/dMQZf3D9s2538WuKUORa67GMpGKufk4a+i8HU5cmqBO1BdPUCx6D2Pen6KJh86XGdlME9ugaRx/q8FELZiq6h4x82Jvb49Jh7k6c9cqpQgS9DeHZJXHycbGBoneoNDHinnmws7RGkNz0rzu2VjKxDash33qyvAj3uV84PNNM/CMZTDs89C2PucIqFVX98EErZ+1NDdMp6gNQPp+V3nleXSDvrwwQQMlyh15KeXA46j14JukLPSYaeo190rC6RmJHdgR68M/J+hC/S2VEVGaOjeZ0RJLPHb8BR8GmX2wDLX0AAAAAElFTkSuQmCC",ba="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPcSURBVHgB7Vg7UhtBEG3JThx5b+DlBEBGkRifAPkEWjJnWhE5Q1wASSdgFTpChI5YIsgQJ9ByAit0BH5P20uNxPR+VC5XuUqvajS70709b3pmenokssUWW/zfaMmGiOM4QLWH0mm1Wp9RhyiBihcvLy8z1BnK9Wg0msqGaExQifVAKnYJ6fNC3wOnjchAOEE9AdlMGqDdRBnk6K05ygCvj+i0j7KjnYu+9/U5QdlHOeE7v0G5gY1IGqC2B2F4qF6jN07giVTbQyWdXFxcLMn0+/0Rqh70vjh6EXTO8BiiHc2jfp1+a3nw9PT0UslN6JWiU8UVST8/P58XDdAZSD7FZ0Ubvll6FHamtEWbNbqWd1UK9ByqbzB+jk7i+/v7347sCJ19h2zsbgTqHB4efsBjdHBwcIv3rGi/u7v7AVkL38SQBWj7WdZ/u4IcpyXmqEFg4FPROlkXwKOc5hUvFsBSGKBKaZvrWjYhqGuLxjl9fUN+zLXn25loI7lbyI90568AHvzKAUB+6ZNXEmy3213JF/S5ERqO+APy15YNbgZ9jMQzANqWPBTFlg1zF2MnzpVg4v0QnlE5197Cp4NBBpBzCrnzU8NOJHlg31Gvr+C97yNdF6FjwATk5hpCp8VjWGGnOJVSqUMQ6GgH++L3ToAOH7j+3PDigwb1LmOi5EffOkj+RvtMpQ5BfPCJxODymU/O8MIa5B6rji7ozmCP61kM3QzL6UnP8zewNskeRvwoNl7PWKlGMQNhic7cklsEOYULseEmCVXIqhTgjCfH5graJR/9kn+HxnGQntmRaoQ1dCq9jdn6aMktgpluFAvZWudlCLUuWw7mmvfuYijziOrpbs3Exi6PPCnHXkHQ0OUgAwT1udQlCPB06Gl8MqHBN5IaYNwsk1tHpkWQ8W+ZssObE6PD4h5yDZ2y9cUYyKPutkxu3Vu8BHkmIqEcwyizmRnT33Ud5kkwPtTsOPXZ0SOzqwlH4pFHKvc6gTDDTJHPMeUy0qFixF2xUZzTqbwl95rOiSefrCSo6RDvGCR35ZFnkiedHd8AlEDXyhexKZipl6Vz5QSVBL00Zmrlu0Mw1Rcjn9N8UnzJBG0xDdOrQiIlqHWrw2GeoKI3psyu3RFr3hi4+Zx6j9nOtLjpaTvDyaXmiJPhcBhV9V3rVqeGuGk663dbZxm4d48B21zv6Z36ofBcHXJEo38W3Lut5KGDU5xqPOyhRGhr8Z6h6Xwi+UY51gx8oXfqad0+N/nrI8Q0kcjyzqLNVX99MBqMGRl8af1fJbhGtqMpf4iyK6uJwZPeQ+itWVNiW2yxRU38ATxkKvkv+ktbAAAAAElFTkSuQmCC",ya="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPKSURBVHgB7Vg9VtwwEB5v0sdlupgTxHRAtdxgOQFQpsJLlQ5vlwrvnoDlBCxdOkzFdpATxDkB5AKQ7zPjrHAk/+7Ly8vje09PsiXNfB5pRiOLvOI/hyc9EUWRjypECbQQDyh3LNPp9EF6oDNBEBuhOvI8b1g17unpKUV1DqJz6YDWBEFsCFJnsrJWU2QgO2lLdNBmMMglIHclxlJC6QxlD2UjSRKPhW2UXfSfk5iODfhhkHEiLdDYgsfHx2dQelAQg7LZ4+PjtMkeA6kI40nMz5V63vz09PRQGqARQbVcpI93tBiIZdICkBGY1ocMfty4bl4tQQg+0D1XkNvt6pn0eCUZKskxWUpXgqWvzpRcJj2gMm/lebm5hzeqPvhtjbyRrJZkYiOncZDhhmNDfU1Lz1AvysopA3MOMf5CSXLrxC4ClV4MIUfazGzhobAGSmyQI0JuC/ZxTHkeZC1QpSUd7Qgy3olhPQc5M+Rca8ih5TJ9l49RK78Axl1q01ddVlQtsWmR1NIfy8vlj42+CGEpxvsTHcO+qDR/jpIYulKLjsolLgg+2PYeLLOv9bxELgfiXCyrZdwvW1H35g99/CgOOAlC6AfWsMK3cp+5JAjWly4ZmHuuTZILLEPutd6QtgTXhMxo+5b+2njqJIiv/8kalnwn1YpDcSN0zCngSw2qLJhpHZQ7dE+mbDNM2EKJerkZpjKLjt9xUxyo8uJiUh4GoCA1OxlONBf0NZQwFC0KxWZK5ghTQ+MxFQeqLLgw2qNyJ4MtSBSKAw3M91rMpMCVAx4YbacFK8/i8XhMRUOpODM1lTqSP7cCU7IJws3UMocf9F0fL5FDjhwUqs9ifn2xjIPBgEu2Vx6j2chUrwDmnkqh2OWlsaGjezZD4ES4gJCRCqtNjxrIO4GcOFfeIHGtjYMIxBSQqcCk6tysA+cW5CgTsid1c5pm1KFu/CKH2+yYUZt5IHPLu7p5jU4SCuLy6mMRVgJpCCPzyQOzbpVaco0JKsl5Kaxc2NIoGzQ5DZRcq6tnq7NYM5SZPobw7KRuDi9csrqDzGyZTxXeSEssl8uv29vb9Or3VLy1tcV317ax9FhUn/WRv0H2pCU6ZTN6Kc/YZrqPgL5fHsMAbnosr6rSAX3+zTi9Ur3+1iDX+TbY6++W/qe5MonkQl+exZtNPXbtBJUkz+LCWTKtg1y4541tZ3EbtHaSMuAgy52dHX7oUJ6Xu4h1E5zFX6QnehMkbm5uUng27xV5OIHlFiD3SdaAuj8LjQGLcal5O/P1/P73QM9ucwS+4m/gFxzL99Cfde1MAAAAAElFTkSuQmCC",wa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI3SURBVHgB7Zf/cYIwFMcfnAMwAp2g7QZ2gzpBdQNxAXEBYYPaCXSDXieobsAITiD9fjFcY44fIVL9o3zvcjExyfuQvPcIIoMGDRr0v+Xpjfl8HqBKUEK5jzKUKE3TY9kxMgZMPc+byh2V5/kBVVq2feP/QO6vC4aRzQw8VYRqL/3qCae1lJZNsQLkQoB8gW/0AglfH9vAUb7UQ+3k7LRUgPZ3FEVvcqW4Btb61OAyZasb4Ol0OnDXNEhqg6dfiqMwd841tK6MNmhLugJSONLMhMTTxi6Qi8ViibmJCUcbTfMaAQ3IvSsk4bBGrHXt0X5ug7MC1CF1XyEkDL+3zeUYA+5L7dxRLGQVxQqSC07g5BvURbDA0BQAAXxoZhpUb6Utxoy17o8kSabSQVY7qIsGsHursg2AV0YlgEIdjn0oY23cqiucEyC1Xq9jHVLOSbeAZGFKYp8Ohx2OxUHWR1yh3GiHKr8Vv1vGWstpByuislQoFTch19REdQasi0rUepAc0TdxiXpT1kfcFpX4n2loy9+EU+/tnW3UXwVYRqU0OL4CejDn8gEAxTy6VPMY9QymSS+Juo+obIr6trm+BRx3Liz70I5cUkYFZGgDWQvo+/6jCYedm8FQKo4iJNcQA5K2pCsgfUWDO6r350auFNfgRUF+oz5UtiplEySEK46GN2HpT7FoH0d1MgGrQj8w7nF/rQsG84g3Ug15K2UoF9d/zxyhIjeWG3+8w40yVLFNbhw0aNCgHvUDmNRJVHDtVaoAAAAASUVORK5CYII=",Ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJLSURBVHgB7VjRcYJAEF2TFBArCKlA/YtfIRXEVCDpAG1ArQA/82esIHYQ/PPTdIAVhAo0b2WZ4MkBB6MmM7yZnQNu7+6xt3u7QFSjRo1MNKgCXNdto7nNUQun0+maSqIUQSE2azQa7YJDgt1u9wSiARnCmCDIWSD2iUuLzBCCZMeU5A2Zw6VfciHkK0f/TvTZFRzImAxgTBDWa8XXsMgLLOJn6cPiPYz5kFubTNfTTGqRfgu92PdAcIAmLwDa0Pfkei1j0hCkbf8RweFwOMIkY7oAsC44Tg9e4ICgsh0XgUS7H9+rPpg8NgLIhs6DOJAYNsSPO7RBgjeZ403GdAZg58bYuVFa3xX9cdQEq6JMJjkCfIj9x1Yer9UjowwqW1COJnZyWxF0uQ5VhNaCHFVYgMN/kpPguY9zslp28TM/Yxy/nI3GwVp9MiUoJB2eABP5aOeQBciGSR2u9dDfoePUuFZ1hVRcNDyzpSkHhXxQJmKZCdklRdbZkxALB2ljJa9zAuAiwy5CqijBubR9Ddn9wToY7OOAC9IgocNWSkoWltD/xvheWqc2SHhBz/MctPeQV4qspoOVDBCKLGZlkGNSE8zbxBr2drvV1pS5Wyzb986S2C5bSq4WFfgmgWxAxqeoNFuk+WZpgilkWRbxM3F6FktRZ73QhAxVJZgGIRCSJkiqos7FVVETrIr/W25xAscR8khnANaydH0qQZ8khVGUHbQDT4iD7+zr5M1qtQq63W4Tlw90ASDbcGn3lnxW5s/CqRCU+ftVo8ap8QNUl9vzmHALiwAAAABJRU5ErkJggg==",Aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACQCAYAAACoG+FoAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7FSURBVHgB7Z0xcBvXEYZ33x0Vj8biUIXsJNSMmMpmZaURS8ORHVlpRDK1QqZ17JFQRbELS4VlpQI9tNOatHpSqhxbtESXVBNWpjtTM2YyYzkjRpooHuHubfbdAeTd4UDgANzheLffDAng3TuCFH+u9u3bt4swRGqr343B0aMVIDWBil4BwAn/w0ATIOSJXf7Y9h9pm4gegNbr8NNPm9WZX+3CkEDIkH3BUgWVfUFEWhCItllJ6yzq2/D06XqWgs5EwLXP/1VB274EBBV+OQZCwaElI+bquRdvQcqkJmBjbdXR5y8RwmUQ0ZYTtsyk4RqAu149/4ttSIGBCziRcImeIOKOBtywQO+gUjsKaMu7BLADQm5goYw75I4qtI+R1pMuqHH+XU3y7+lMx5tZyAi4dOnciWswYAYq4NrnP8yjgvcBcaLtJBYtoVqxFaxpZW9Zuv4EhEMNAZ5xtZ5lORkxj7ef6Fvk6vkXlmBADETA7ONOoGV/yk8rsRMCokWg+yAUloCYZw6YdIu0Ux2EW9G3gGt/f3jZs7px7gILl99hGe0jS2Jpy4XLlpg0NYUcZ5V3yaVqv9a4ZwEbXxePPs/ugufrhhHhCg0CQn47dgLBwuVzJ6rQIz0J2HMZlLXKvu7pmC94HzRcsWxZhAn7+EKG9/jp2ZjLm+Q6M724FIkF3BDvvZaFmm91F22FyyAIbdAa5zTpd1g/x0IXvAWe+1pSEScScFvxcsgLNVwUqyt0Q8Ma34Sob9yDiFW3E9uJ17gMaI9cEPEK3WKxweOPaTbHX4UusLaMxozWuv1aXQm4nXg5ZLJsKba8slATEsKRq8e2rd5iq/tZ+EIyEXcl4MaCbSI8Sh+PKLoOgtAHtoUfGC2FBo2ILXu1tvqoYwpCRwEvfPGwFo02GMvLi7VFEIQB4GkpaokBTuNR5/1O9x64iPO2hi38NDTIfotn+gVhwNRduIkYzq0gx61Wf/fzhXb3tBVwY3v4HxDeYdvxFmzi8wopwJGJUY5QmBTMYHSCd+ycX7eLTLR1IdC2axAUr8kc07JgE9LDLOz446K3p7DPWCPPJpZYARvXgR3d6fBXh0UJlQlpY0JsClV0fVXxNBlDrIAbyTn7rxHWZIdNyAqlaJkIQlmLRpNxUYkWAX9059+t+bwuSLhMyBRlwZWQK2E0+dyzlsSxkIDNwo238ubDU+hjcR2ErDGuBCq1FBxDS12KWuGIBbYqEeu7gxpXQBCGgDKx4ciCLmqFQwKO+r5sfVfF+grDwo9KtFrh4Os9Ade++HG6JVFHrK8wZOKssCnTsHd9f9wNh81IrK8wfDwrjGolPGbvWWFPwLV7j8Z40lxwkmUpsb5CLiCAtdAAcly4sZjzLfAztxK5Z0dODwt5wVasxehi7uizinnScCFa3AcRr5Arom4EEFbMgydgBHw1eE3cByFvRN0I9o0veI+e/1t3HgUv2gpeAkHIEV6mGtHd4GFQ+q99XIHjhJLVvWPxgpAzTDSCP4ejYuwHK9C6Ehwjpb4BQcghiLgRGiCaUPsV0RuTiCT2K+QSBB3SJu/SvaJQ4angoEL4FgQhh2hSIQETwa8UL+9C2T2uoscgCDkELb929N5rhFM2P06EBp/BE7ChNLhq5Bg59XH+yUchZbyAvDBQjFRDFrgs+Q9+eSP8EHR9yh8hSBtHm8+4glpyrHvB5Ag7oRGc6Lq0VJFwHJzRLt1m0U5B5tCsVnCTxfwyCH1TOgG7jjsJim5gtDpihqB/bFxEPABKJ2CtrE8gHxifW0TcJyVarhkfFM8gULikp9ZfjdjqgzS6IjXKiN49YEpTxBd5+17Clz1QKgscLVsEJm30yM/+nGVLr5j3EkvcB+VyIQhCoTI0dWozrjSktPsn/j6i1lZE3COlEjAhDG3hto/12EJTPklEPAhKGUYbNiazSkQ8GETAQ0JEPBhEwENERNw/IuAhIyLuDxFwDhAR944IOCeIiHtDBJwjRMTJEQHnDBFxMkTAOURE3D0i4JwiIu4OEXCOERF3RgScc0TEByMCPgSIiNsjAj4kiIjjEQEfIjqJ2HVgHEqGCDhFlIaWZHlS+Afog4NErBFuQMko1Zm4rDFiIxfuh48y0Tz/dz8P/RLTpt28jynUUqZ+1mKBUwYh2xa96DivQ4kQAaeMbdGa6XYKQiqIgDPAVrioAK8ASDmpQSM+cEYoRatsLVZdcicV2gM7XOoS3eAFXemiD01EwBljobWVRSHBsiAuhHCoEQELh5pSuhAcL11TiMta2Vug6yAcXsolYIJVtEeu+4F+AkvEe+gplYC9Ev8B0frtBTjwr/Bl0jTFm1scHaCT+3fg92BCXwrZUtNX0iIgf5TShfDKrBLNaffZlFfoWlPcziw0xHySr5tK7vN1l54gqjvSIiA/lErAe30xgKYIvW3eRPf7Vd1plhTM8h+B9LrIAaWJQjjaWNxB9sVo9rrAGRCGRikscJ2tLtvaWUxmcDvi97qgG3UXx0csyXcYBoW3wCzeW8jWsusbiP3chA3PEekdFvHbIGROoQXsW16aTHIPEl6wFFzkZxcT3SciHgqFFbARUyLL26C5KEOVvOm5EbHpQQdCZhRSwCbaYMQEw0DRuya+DEImFFLAHCobZi+4Ud4ceReETCicgP2wVjK/d/DQbBlPCA+DIlrgXPigZKu+Th8L3VEoAbt+XHYIDbxj0HpWfOH0KZSA2fc9A/nB+MJDdmWKT6EEzDtt+TpSrvAsCKlSMAscTIUcPkQ6V99PESnWIg7zVeAOCcSFSJnCJPP4C7hYdiyFVxR0t7PWPC9smU72Cn7TzT0u+96a9HvgpVuGkFBaypQgGw03eEv5fi8H2anLQiSm5oPWaiY3EZASUfhsNGJRpb2p4DruJEG+/O+yUBgLbEqZujHjJmeXFNx1NHSFreAl8+if3oC7Xd2krHZnO+S0RsoUxgKbUqYmlxdyBIqAU6dYcWClNiBHkFLfgJAqxRIw6Vwde1ckx/DTplgbGahyJRiybBFwyhRKwBbSFhHkQzREq2Uq9T8sChdGsxBXIAdYlsrF91F0Cidgs6kAw179s/U1mycgpE5BNzK8cv7De3fCRcgAb/s8Wp0dOZxYIgopYK8IH9FnMBSyKTdl6rvpmLN/5NK3UCIKmwthW/iB48KZpBlqZtvZCJA0jidtBUCAyyMK9qwvi+yz9PIjYgoSmoWjjaXaPCl0Mg9a8BZvB9+EBFlhpt4Zi3eDSL+BiWpR4daIouvNV15dCswwucdUFMrIdckThU7maaRExrVlbUuj3tkstqZGHgAv2mx7r5JPnayzmdal8MSrL5axUmbhs9GMiG0LLqTnE9N1W+GVZszXZKaBdv4KWWByP0zEw5TDsk33o/Jhs5f3gK3OqeZA0weEgmF8YnJxw0UyRUf6Tq/0CgBq93qLcPgfz0Z4C1JGk/ME7Oe+L9NmScyhhd1SFbhGi9b4B17j1fsMAc3zH2/iI0hGuErhohfnVVbLdbMbCBlgsYNfugY1hKORhfW2zeuU73hszwKjhfxLpUL7Uo3NjlWvhpqm13k9/zoRTUKc34v8vxHpbxXwws4+stJsECNkDxEcC7+m/9ik6UFwtU0lOsdl+Q1cTDf5ZWgEpTDw8+8dKcLGUkG6Gg0VBXpSB4KHxvgqNsubwUmEWOqDiEa0zQ8QcgWBCmmTLfAD/p8Rt0OztJaDiUIuaVmzaL2u4Ii1Hpk3LjW9hHwS2Rj66blNVX3t+K4JpQWGpaaXkDuclrp3uF2dOb7bWJ3QrdA1qekl5A1sKZu7bj75Aia1HrqkdeLeEoKQJrxgmwq/dm+bR1/Avh+8G7g+6uSrVKlQYrzWwNHw7tMj6+bBE7DnBxN8HZogboSQF1rcB1wy/q95tp/Mo2AhNEcqjAs5wD91Em6X1nQfDHsCrr5xYh0ibgS4zhwIwhDRbrTvHkcfzr24F3QIpVOyG/FR+DXNiRUWhoVnfTFifUFfC74O5wMfsY0bIVZYyAXG+oYXb7xr7I6sB+eEBNxYzLVaYel5JmRMXLdVct3l6vnj28Gx1hMZnhUO5UeMaoQbIAhZ4kKk2yn7vudfvBqd1iJgf2s57Gcgwpk6oTTuEzLB0TRHkY5TUU02aXvsduHOw3t8VyUw9Bg1TJfx4KCQHcZ10C7dDh6qJdK3OfIwHTe/7aFOcuw/QmRBZ46cS1RCSAujLa3hZuhEOOIu6COX293TVsDGWSYNYVfC/HXU638DQUiDev1GdMuYrW81unALcuCx+uqbJxYIMBSVMP4w703/BQRhgNRdfLfF79X0UfW3LywddF/nuhAj1lX+vBkepHlTeQYEYQA0qhhF9xs2q2++cLnTvR0F7EUlXHsmEloDE6MTSyz0i7G8rVWMcNvXXGe6Lv5V+/zRBFruPba+E8Fx3vhYUyMjV6QauZAEs2Ajx/mktfihEa/12kF+b2g2JKCtiAF2lIZS1uYSkuOFyky0oaWEQzLxGhLVRvMiE/wGLe6E30zwlmx2CJ0wmxRenHcA4vXugh7wLbFjqtucjvmSd1DTh2KNhSB+51P8sE295E3j8yYVr6EnATepffnjAgJdirtGhIvKK7gsQi4z3uZE3WQ06vm4krUmVAb/G7naPGGRlL4EbKh9+cM8Atb46Vj0mlfdhnBFhFw+OgnX7LCRS9fMXgP0Qd8CNhiXApSzwJscF9rP8tpfrXr9K4TC4h0GVniWXPf37YqEE9DX4I7M9+IyRBmIgJv41li9H41SBDFWmS226WksYi4AjXDYZCfR+vBCDfS1TrtrSRiogJvUvnh4lX+QuYOEHPgWNviH3wLt/pODIlt8j8l6eyIuR75oHmrQlvUyknMSlPVL9l+n2Ik92bEdg3EXjK/71F7o1ddt+6UhJTy3wqpXOllkocCkKNy9t4AMqK39OA2unvatslBoPNG6X4NSC42T7um+HWRIbfXRGBxzK76Y1atimYuBVxxS0y2w1To7f+tpWds4MhVwFE/QzzunQesKv5zgv94JfhxjcZ/iQPIYCLlhv4IpbfPvZpst7KZXWzpjwUb5PxY7UQrHPcirAAAAAElFTkSuQmCC",Sa=o=>e.jsx(Ze,{...o,sx:{maxHeight:300,overflow:"scroll"}}),qs=({open:o,handleClose:t,userId:s})=>{const x=O(d=>d.users.data),[l,g]=a.useState([]),[A,I]=a.useState([]),[y,w]=a.useState(""),[S,C]=a.useState(""),m={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},k=ne();a.useEffect(()=>{k(Re())},[k]);const r=(d,u)=>{u.some(c=>c.id==="selectAll")?(g(x),I(x.map(c=>c.id))):(g(u),I(u.map(c=>c.id)))},b=[{id:"selectAll",name:"Ählisi",surname:""},...x],h=()=>{const d={title:S,description:y,usersId:A,userId:s};S&&y&&A.length?(k(Xt(d)),t(),C(""),w(""),g([]),I([])):f.error("Maglumatlary giriziň!")};return e.jsx(ae,{open:o,onClose:t,children:e.jsxs($,{sx:m,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(L,{label:"Tertip - düzgünnama ady",value:S,onChange:d=>C(d.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(De,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,value:l,fullWidth:!0,isOptionEqualToValue:(d,u)=>d.id===u.id,options:b,getOptionLabel:d=>`${ee(d.name)} ${ee(d.surname||"")}`,onChange:r,PaperComponent:Sa,renderInput:d=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...d,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...d.InputProps,endAdornment:e.jsx(e.Fragment,{children:d.InputProps.endAdornment})}})}),e.jsx(L,{label:"Beýan",multiline:!0,minRows:15,maxRows:15,value:y,onChange:d=>w(d.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2,height:"100%"}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(X,{onClick:h,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},ka=o=>e.jsx(Ze,{...o,sx:{maxHeight:300,overflow:"scroll"}}),cs=({openUpdate:o,handleClose:t,data:s,userId:x})=>{const l=O(F=>F.users.data),[g,A]=a.useState([s&&s]),[I,y]=a.useState([]),[w,S]=a.useState([]),[C,m]=a.useState(s&&s.description),[k,r]=a.useState(s&&s.title);a.useEffect(()=>{s&&A(s),s&&r(s.title),s&&m(s.description)},[s]);const b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},h=ne();a.useEffect(()=>{h(Re())},[h]);const d=(F,M)=>{M.some(T=>T.id==="selectAll")?(y(l),S(l.map(T=>T.id))):(y(M),S(M.map(T=>T.id)))},u=[{id:"selectAll",name:"Ählisi",surname:""},...l],c=()=>{const F={id:g.id,title:k,description:C,usersId:w.length?w:g.users.map(M=>M.id),userId:x};k&&C?(h(Zt(F)),t(),r(""),m(""),y([]),S([])):f.error("Maglumatlary giriziň!")};return e.jsx(ae,{open:o,onClose:t,children:e.jsxs($,{sx:b,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:g.title}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"98%",p:1,minHeight:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(L,{label:"Tertip - düzgünnama ady",value:k,onChange:F=>r(F.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(De,{id:"combo-box-demo",multiple:!0,fullWidth:!0,defaultValue:s&&s.users,isOptionEqualToValue:(F,M)=>F.id===M.id,options:u,getOptionLabel:F=>`${ee(F.name)} ${ee(F.surname||"")}`,onChange:d,PaperComponent:ka,renderInput:F=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%",height:"95px"}},...F,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...F.InputProps,endAdornment:e.jsx(e.Fragment,{children:F.InputProps.endAdornment})}})}),e.jsx(L,{label:"Beýan",value:C,onChange:F=>m(F.target.value),variant:"outlined",multiline:!0,minRows:13.7,maxRows:18,fullWidth:!0,sx:{mt:2,"& .MuiOutlinedInput-root":{resize:"vertical"}}}),e.jsx(n,{alignItems:"end",pt:2,mb:1,children:e.jsx(X,{onClick:c,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},Da=()=>{const[o,t]=a.useState(!1),[s,x]=a.useState(!1),[l,g]=a.useState(),A=()=>t(!0),I=()=>t(!1),y=u=>{g(u),x(!0)},w=()=>x(!1),S=ne(),C=O(u=>u.standarts.status),m=O(u=>u.standarts.error),k=O(u=>u.standarts.data),r=JSON.parse(localStorage.getItem("CRM_USER")),b=O(u=>u.users.data),h=k.filter(u=>u.users.length==b.length);k.filter(u=>(u.users&&u.users.length)!==b.length),a.useEffect(()=>{r.role==="ADMIN"?S(at(r.id)):S(et(r.id))},[S]);const d=u=>{const c={laborId:u,userId:r.id};S(rt(c))};return e.jsxs($,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(Ue,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(i,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama"}),r.role==="USER"?"":e.jsxs(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:A,children:[e.jsx(Ge,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(qs,{open:o,userId:r.id,handleClose:I})]}),e.jsx(n,{children:C==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):C==="failed"?f.error(m):C==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:h.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(Ve,{container:!0,item:!0,height:"100%",xs:12,md:6,lg:12,spacing:2,children:e.jsx(n,{width:"100%",children:h.map((u,c)=>e.jsx(Ve,{item:!0,xs:12,mt:c==0?"":2,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...u.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(i,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[u.title,u.users&&u.users.length===b.length?e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...c==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):u.users.map((F,M)=>e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:60,height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...M==0?{ml:3}:{ml:1}},variant:"outlined",children:F.name},M))]}),r.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>y(u),children:e.jsx(Qe,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>d(u.id),children:e.jsx("img",{style:{width:20,height:20},src:Ye,alt:""})}),e.jsx(cs,{data:l,openUpdate:s,handleClose:w,userId:r.id})]})]}),e.jsx(i,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:u.description})]})})},c))})})})})}):""})]})},Ia=({userData:o,userId:t,params:s,handleClose:x})=>{JSON.parse(localStorage.getItem("CRM_USER"));const l=o&&o.user,[g,A]=a.useState(!1),[I,y]=a.useState(l.mail),[w,S]=a.useState(l.phoneNumber);a.useState("");const[C,m]=a.useState(l.surname),[k,r]=a.useState(l.name);a.useState("");const[b,h]=a.useState(l.position?l.position.id:"ADMIN"),[d,u]=a.useState(l.languages?l.languages.split(","):[]),[c,F]=a.useState(l.whereStudy),[M,T]=a.useState(l.whereLive),[E,B]=a.useState(N(l.birthday)),[K,Q]=a.useState([]),Z=D=>{h(D.target.value)},_=ne();we(),a.useEffect(()=>{(async()=>{await U.get("/position/get").then(v=>{Q(v.data)})})()},[]),O(D=>D.imgAccount.updated);const R=async D=>{D.preventDefault();try{if(I.trim().length<=0||k.trim().length<=0||I.trim().length<=0||w.trim().length<=0||c.length<10)f.error("Dogry maglumatyňyzy giriziň!");else{A(!0);const v={userId:t,date:z(s).format("YYYY-MM-DD")},se=await U.put("/user/updata/info",{userId:l.id,surname:ee(C),name:ee(k),mail:I,phoneNumber:w,birthday:E.add(1,"day"),whereStudy:c,whereLive:M,languages:d.join(","),positionId:b}).then(oe=>{oe.data&&(f.success("Maglumat üýtgedildi!"),_(Le(v)),x(),A(!1))})}}catch(v){f.error(v.message==="Network Error"?"Internet baglanyşygy ýok":v.response.data),A(!1)}},p=D=>{const{name:v,checked:se}=D.target;u(oe=>se?[...oe,v]:oe.filter(Fe=>Fe!==v))};return e.jsx(n,{direction:"column",width:"95%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(L,{id:"outlined-basic",type:"text",value:k,name:"password",onChange:D=>r(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:C,onChange:D=>m(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(re,{fullWidth:!0,children:e.jsx(ie,{labelId:"simple-select-label",id:"simple-select",value:b,onChange:Z,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:K.map(D=>e.jsx(J,{value:D.id,children:D.name},D.id))})})]})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(fe,{dateAdapter:je,sx:{width:"100%",pt:0},children:e.jsx(le,{value:E,format:"DD.MM.YYYY",onChange:D=>B(D),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:I,onChange:D=>y(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri (doly ady)"}),e.jsx(L,{id:"outlined-basic",type:"text",value:c,error:c.length<10,name:"password",onChange:D=>F(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri (doly ady)"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:M,onChange:D=>T(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:w,onChange:D=>S(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(i,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(Js,{handleChange:p,selectedLanguages:d})]})]})]}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(X,{onClick:R,disabled:l.name===I&&l.surname===C,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:g?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})},Fa=({id:o,handleCloseDocsModal:t,params:s})=>{const[x,l]=a.useState(null),[g,A]=a.useState(""),[I,y]=a.useState(""),w=ne(),S=O(b=>b.uploadPDf.docType),C=O(b=>b.uploadPDf.status);a.useEffect(()=>{w(nt(o))},[w]);const m=b=>{const h=b.target.files[0];h&&f.success("Faýl saýlandy"),l(h)},k=b=>{y(b.target.value)},r=()=>{if(!g){f.warn("Faýl ady giriz!");return}if(!x){f.warn("Faýl saýlaň");return}if(!I){f.warn("Faýl görnüşini saýlaň");return}const b=new FormData;b.append("userId",o),b.append("title",g),b.append("documentTypeId",I),b.append("file",x);const h={body:b,userId:o,date:z(s).format("YYYY-MM-DD")};w(Mt(h)),l(null),t(),A("")};return e.jsxs(e.Fragment,{children:[e.jsx(Ue,{}),e.jsxs(n,{width:"80%",spacing:"20px",height:"80%",position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",justifyContent:"space-between",spacing:1,height:"100%",children:[e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:b=>A(b.target.value),fullWidth:!0,value:g,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(re,{fullWidth:!0,children:[e.jsx(ue,{id:"demo-simple-select-label",shrink:!0,sx:{transform:"translate(14px, 11px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"},height:"45px"},children:"Resminama görnüşi"}),e.jsx(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,label:"Resminama görnüşi",onChange:k,sx:{height:"45px",borderRadius:"30px"},children:C==="succeeded"&&S.map(b=>e.jsx(J,{value:b.id,children:b.name},b.id))})]}),e.jsx("input",{type:"file",onChange:m,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"}),x?e.jsx(n,{children:e.jsxs(i,{children:["Ady: ",x.name," - ",(x.size/1024).toFixed(2)," KB"]})}):e.jsx(i,{children:"Faýl saýlaň"})]}),e.jsx(X,{sx:{color:"#fff",background:"#9FC2A5",textTransform:"revert",width:"100%",height:"45px",borderRadius:"50px",fontSize:23,fontWeight:500,"&:hover":{background:"#9FC2A5"}},onClick:r,children:"Ýatda sakla"})]})]})},va=o=>e.jsx(Ze,{...o,sx:{maxHeight:300,overflow:"scroll"}}),Ma=({open:o,handleClose:t,userId:s,defaultUser:x})=>{const l=O(u=>u.users.data),[g,A]=a.useState([]),[I,y]=a.useState([]),[w,S]=a.useState(""),[C,m]=a.useState(""),k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},r=ne();a.useEffect(()=>{A([x])},[x]),a.useEffect(()=>{r(Re())},[r]);const b=(u,c)=>{c.some(F=>F.id==="selectAll")?(A(l),y(l.map(F=>F.id))):(A(c),y(c.map(F=>F.id)))},h=[{id:"selectAll",name:"Ählisi",surname:""},...l],d=()=>{const u={title:C,description:w,usersId:g[0].id,userId:g[0].id};C&&w&&I?(r(Gt(u)),t(),m(""),S("")):f.error("Maglumatlary giriziň!")};return e.jsx(ae,{open:o,onClose:t,children:e.jsxs($,{sx:k,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(L,{label:"Tertip - düzgünnama ady",value:C,onChange:u=>m(u.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(De,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,defaultValue:[x],value:[x],disabled:!0,fullWidth:!0,isOptionEqualToValue:(u,c)=>u.id===c.id,options:h,getOptionLabel:u=>`${ee(u.name)} ${ee(u.surname||"")}`,onChange:b,PaperComponent:va,renderInput:u=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...u,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...u.InputProps,endAdornment:e.jsx(e.Fragment,{children:u.InputProps.endAdornment})}})}),e.jsx(L,{label:"Beýan",multiline:!0,rows:4,value:w,onChange:u=>S(u.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(X,{onClick:d,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Goşmak"})})]})]})})},Ra=({userData:o})=>{const[t,s]=a.useState(!1),[x,l]=a.useState(!1),[g,A]=a.useState(),I=()=>s(!0),y=()=>s(!1),w=()=>l(!1),S=ne(),C=O(u=>u.standarts.status),m=O(u=>u.standarts.error),k=O(u=>u.standarts.data),r=JSON.parse(localStorage.getItem("CRM_USER")),b=O(u=>u.users.data);k.filter(u=>(u.users&&u.users.length)===b.length);const h=k.filter(u=>(u.users&&u.users.length)!==b.length);a.useEffect(()=>{S(et(o.id))},[S]);const d=u=>{const c={laborId:u,userId:r.id,id:o.id};S(Vt(c))};return e.jsxs($,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(i,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500"}),r.role==="USER"?"":e.jsxs(X,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:I,children:[e.jsx(Ge,{sx:{color:"#90BAEB",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(Ma,{open:t,userId:r.id,handleClose:y,defaultUser:o})]}),e.jsx(n,{children:C==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):C==="failed"?f.error(m):C==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:k.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(Ve,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:h.map((u,c)=>e.jsx(Ve,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center"},children:e.jsxs(n,{width:"95%",p:"15px 0",sx:{...u.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(i,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[u.title,u.users&&u.users.length===b.length?e.jsx(X,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...c==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):u.users.map((F,M)=>e.jsx(X,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:60,height:25,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...M==0?{ml:3}:{ml:1}},variant:"outlined",children:F.name},M))]}),r.role==="USER"||u.users.length>1?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>d(u.id),children:e.jsx("img",{style:{width:20,height:20},src:Ye,alt:""})}),e.jsx(cs,{data:g,openUpdate:x,handleClose:w,userId:r.id})]})]}),e.jsx(i,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",children:u.description})]})})},c))})})}):""})]})},Ya=({open:o,handleClose:t,data:s})=>{const[x,l]=a.useState(null),[g,A]=a.useState(s.title);console.log(s),a.useEffect(()=>{A(s.title)},[g,s]);const I=ne(),y=C=>{const m=C.target.files[0];m&&f.success("Faýl saýlandy"),l(m)},w=()=>{if(g==""){f.warn("Faýl ady giriz!");return}const C=new FormData;C.append("userId",user.id),C.append("documentId",s.id),C.append("title",g),C.append("file",x),C.append("documentTypeId",s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const m={title:g,userId:user.id,documentId:s.id,documentTypeId:s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},k={userId:user.id,body:x?C:m,files:x||null};I(ot(k)),l(null),A(""),t()},S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:430,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(ae,{open:o,onClose:()=>{l(null),t()},children:e.jsxs($,{sx:S,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{l(null),t()},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(i,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:C=>A(C.target.value),fullWidth:!0,value:g,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(i,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:y,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),x?e.jsx(n,{children:e.jsxs(i,{children:["Saýlanan faýl:",x.name," - ",(x.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:w,children:"+ Goş"})})]})})]})})},Ta=()=>{const[o,t]=a.useState(!1),[s,x]=a.useState(!1),[l,g]=a.useState(!1),[A,I]=a.useState(!1),y=()=>t(!0),w=()=>t(!1),S=()=>x(!0),C=()=>x(!1),m=()=>g(!0),k=()=>g(!1),r=()=>I(!0),b=()=>I(!1),{id:h}=Ke(),[d]=Cs(),u=O(p=>p.getWorkDate.statusMonth),c=O(p=>p.getWorkDate.employeerTime);JSON.parse(localStorage.getItem("CRM_USER"));const F=d.get("date");we();const[M,T]=a.useState(c.user&&c.user.status||!1),E=ne(),B=[{img:xa,title:"Jaň ",link:`tel:${c.user&&c.user.phoneNumber}`,target:"_blank"},{img:ma,title:"Sms",link:"/chat",target:""},{img:ga,title:"Poçta",target:"_blank",link:`mailto:${c.user&&c.user.mail}`}];a.useEffect(()=>{T(c.user&&c.user.status)},[c]),a.useEffect(()=>{const p={userId:h,date:z(F).format("YYYY-MM-DD")};E(Le(p))},[E]);const K=()=>{const p={userId:h,date:z(F).format("YYYY-MM-DD")};E(jo({body:p,data:{userId:h,status:M!==!0}}))},Q=p=>{p&&(T(p.target.checked),K())},Z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:550,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},R=(p,D)=>{const v={userId:p,documentId:D,date:z(F).format("YYYY-MM-DD")};E(Yt(v))};return e.jsxs(n,{backgroundColor:"#fff",width:"40%",height:"82vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",position:"relative",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"30px",height:"55%",children:u==="loading..."?e.jsx(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:e.jsx(pe,{})}):u==="failed"?e.jsx(i,{textAlign:"center",height:"43%",mt:4,children:"Maglumat ýok"}):u==="succeeded"?c.length===0?e.jsx(i,{width:"100%",pt:5,textAlign:"center",fontSize:25,children:"Goşmaça resminama ýok"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{width:"40%",alignItems:"center",children:[e.jsxs(n,{alignItems:"center",children:[e.jsx(H,{sx:{height:96,width:96},children:c.user&&c.user.img===null?e.jsx(qt,{alt:c.user&&c.user.name,src:c.user&&c.user.img,sx:{background:"#2F6FD0",height:96,width:96}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${c.user&&c.user.img}`,alt:""})}),e.jsxs(i,{fontFamily:"DM Sans",fontWeight:"400",mt:1,fontSize:18,children:[c.user&&c.user.name," ",c.user&&c.user.surname]}),e.jsx(Kt,{control:e.jsx(as,{checked:M,onChange:Q,color:"primary"}),label:`Işgär ${M?"Aktiw":"Aktiw däl"}`})]}),e.jsx(n,{mt:3,direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:B.map((p,D)=>e.jsxs(n,{sx:{...p.link=="tel:null"||p.link=="mailto:null"?{display:"none"}:{display:"block"}},width:50,alignItems:"center",children:[e.jsx(H,{sx:{width:50,height:50,borderRadius:"100%",border:"1px solid #000",alignItems:"center",justifyContent:"center"},children:e.jsx("a",{href:p.link,style:{width:25,height:25},target:p.target,rel:"noopener noreferrer",children:e.jsx("img",{src:p.img,style:{width:25,height:25},alt:""})})}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:14,color:"#727272",children:p.title})]},D))})]}),e.jsxs(n,{width:"60%",children:[e.jsxs(n,{alignItems:"end",position:"absolute",top:1,right:10,children:[e.jsx(H,{onClick:y,children:e.jsx(Qe,{sx:{color:"#727272",width:20,height:20}})}),e.jsx(ae,{open:o,onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs($,{sx:Z,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:w,children:"X"})}),e.jsx(Ia,{userData:c,userId:c.user&&c.user.id,params:F,handleClose:w})]})})]}),e.jsxs(n,{children:[c.user&&c.user.mail&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:wa,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:c.user&&c.user.mail})]}),c.user&&c.user.phoneNumber&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:ja,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:c.user&&c.user.phoneNumber})]}),c.user&&c.user.languages&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:ba,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:c.user&&c.user.languages})]}),c.user&&c.user.whereStudy&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Ca,style:{width:25,height:25},alt:"mail2"}),e.jsx(Xs,{value:c.user&&c.user.whereStudy,data:e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:c.user&&c.user.whereStudy})})]})]}),e.jsxs(n,{children:[c.user&&c.user.birthday&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"16px",children:[e.jsx("img",{src:fa,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:z(c.user&&c.user.birthday).format("DD/MM/YYYY")})]}),c.user&&c.user.whereLive&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:ya,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:c.user&&c.user.whereLive})]}),e.jsx(X,{variant:"contained",sx:{background:"#2F6FD0",mt:2,textTransform:"revert",fontSize:16,"&:hover":{background:"#2F6FD0"}},onClick:r,children:"Düzgünnama Goşmak"})]})]})]}):null}),e.jsx(ae,{open:A,onClose:b,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs($,{sx:_,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:b,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(Ra,{userData:c.user})]})}),e.jsx(We,{}),e.jsxs(n,{height:"45%",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:2,children:[e.jsx(i,{fontFamily:"DM Sans",fontWeight:"400",fontSize:18,children:"Resminamalar"}),e.jsx(H,{onClick:S,sx:{width:44,height:36,borderRadius:"10px"},children:e.jsx("img",{style:{width:44,height:36},src:Aa,alt:"add"})}),e.jsx(ae,{open:s,onClose:C,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs($,{sx:Z,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:C,children:"X"})}),e.jsx(Fa,{id:c.user&&c.user.id,params:F,handleCloseDocsModal:C})]})})]}),c.documents&&c.documents.length==0?e.jsx(i,{color:"#727272",textAlign:"center",height:205,fontSize:18,fontFamily:"DM Sans",children:"Resminama ýok"}):e.jsxs(n,{height:"100%",className:"times2",overflow:"auto",children:[console.log(c.documents),c.documents&&c.documents.map((p,D)=>e.jsxs(n,{spacing:"18px",direction:"row",alignItems:"center",justifyContent:"space-between",mt:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(i,{color:"#727272",mr:2,fontFamily:"DM Sans",children:[D+1,"."]}),e.jsx(Hn,{sx:{color:"#727272",mr:2}}),e.jsx(ze,{to:`http://192.168.1.46/files/${p.pathPdf}`,target:"_blank",style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},children:e.jsx(i,{color:"#727272",fontFamily:"DM Sans",children:p.title})})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:m,children:e.jsx(Qe,{sx:{color:"#2F6FD0",width:20,height:20}})}),e.jsx(Ya,{open:l,handleClose:k,data:p}),e.jsx(H,{children:e.jsx(ze,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${p.pathPdf}`,children:e.jsx(rs,{sx:{color:"#2F6FD0"}})})}),e.jsx(H,{onClick:()=>R(c.user&&c.user.id,p.id),children:e.jsx("img",{style:{width:24,height:24},src:Ye,alt:"Delete"})})]})]},p.id))]})]})]})},Ea=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:x,setSelectedUsers:l,allUsers:g})=>{a.useState([]);const[A,I]=a.useState([]),[y,w]=a.useState(""),[S,C]=a.useState("Başlanmadyk"),[m,k]=a.useState("");a.useState("");const[r,b]=a.useState(null),[h,d]=a.useState(null),[u,c]=a.useState(t),F=E=>{w(E.target.value)},M=E=>{C(E.target.value)};a.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(B=>{I(B.data.data)})})()},[]);const T=()=>{const E={userId:t.length&&t[t.length-1].id,name:m,status:S,priority:y,startDate:N(r).format("YYYY-MM-DD"),endDate:N(h).format("YYYY-MM-DD")};m!==""&&S!=""&&y!==""&&r!==null&&h!==null?(s(t),w(""),k(""),C(""),x(B=>[...B,E])):f.error("Dogry maglumatyňyzy giriziň!")};return a.useEffect(()=>{t.length&&c(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Ue,{}),e.jsx(ae,{open:t!==void 0>0&&o,onClose:()=>{w(""),C(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{w(""),C(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:E=>{b(E||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:E=>{d(E||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:m,fullWidth:!0,onChange:E=>k(E.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:F,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,onChange:M,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:T,children:"Ýatda sakla"})})]})]})})]})},Wa=({open:o,handleClose:t,details:s,userData:x})=>{a.useState(!1);const[l,g]=a.useState(s?s.priority:"Pes"),[A,I]=a.useState(s?s.status:"Başlanmadyk");JSON.parse(localStorage.getItem("CRM_USER"));const{id:y}=Ke(),[w,S]=a.useState((s==null?void 0:s.name)||""),[C,m]=a.useState(s?s.endDate&&z(s.endDate).format("YYYY-MM-DD"):null),[k,r]=a.useState(s?s.startDate&&z(s.startDate).format("YYYY-MM-DD"):null);O(T=>T.users.status);const b=O(T=>T.users.data);a.useEffect(()=>{s&&(S(s.name||""),g(s.priority||""),I(s.status||""),r(s.startDate||""),m(s.endDate||""))},[s]);const h=ne();a.useState([]);const d=T=>{g(T.target.value)},u=T=>{I(T.target.value)};a.useEffect(()=>{h(Re())},[h]);const c=T=>{S(T.target.value)},F=(T,E)=>{},M=()=>{const T={userId:y,projectId:s&&s.id,archived:!1,name:w,status:A,priority:l,startDate:N(k).format("YYYY-MM-DD"),endDate:N(C).format("YYYY-MM-DD")};w!=""&&l!=""&&k!==null&&C!=null?(h(Pt(T)),t()):f.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(ae,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:w,fullWidth:!0,onChange:c,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,defaultValue:x,fullWidth:!0,options:b,getOptionLabel:T=>`${ee(T.name)} ${ee(T.surname==null?"":T.surname)}`,disabled:!0,onChange:F,renderInput:T=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...T,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...T.InputProps,endAdornment:e.jsx(e.Fragment,{children:T.InputProps.endAdornment})}}),popupIcon:e.jsx(Ge,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,defaultValue:N(s&&s.startDate).isValid()?N(s&&s.startDate):null,onChange:T=>{r(T?T?N(T).format("YYYY-MM-DD"):N(s&&s.startDate):N(s&&s.startDate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,defaultValue:N(s&&s.endDate).isValid()?N(s&&s.endDate):null,onChange:T=>{m(T&&T?N(T).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:d,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,onChange:u,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:M,children:"Ýatda sakla"})})]})]})})})},Ua=({setProjectName:o,userData:t})=>{const[s,x]=a.useState(""),[l,g]=a.useState(!1);a.useState([]);const{id:A}=Ke(),I=O(h=>h.projectDetail.status),y=O(h=>h.projectDetail.error),w=O(h=>h.projectDetail.data);a.useState([w]);const S=ne(),C=JSON.parse(localStorage.getItem("CRM_USER")),m=we();a.useEffect(()=>{S(_e(A))},[A,S]),I==="succeeded"&&o(A);const k={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},r=h=>{g(!0),x(h)},b=h=>{const d={projectId:h.id,userId:A,responsibleUserId:C.id};h&&A&&S(Ot(d))};return e.jsxs(n,{children:[I==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):I==="failed"?f.error(y):I==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"540px"},children:w.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(qe,{children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Os.map(h=>e.jsx(V,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center",zIndex:1e3},children:h.title},h.id))})}),e.jsx(Ne,{children:w.map(h=>e.jsxs(it,{sx:{cursor:"pointer"},children:[e.jsx(V,{onClick:()=>m(`/projects/${h.project_id?h.project_id:h.id}`),sx:k,children:h.name}),e.jsxs(V,{onClick:()=>m(`/projects/${h.project_id?h.project_id:h.id}`),sx:k,children:[z(h.startDate).format("DD.MM.YYYY")," -"," ",z(h.endDate).format("DD.MM.YYYY")]}),e.jsx(V,{onClick:()=>m(`/projects/${h.project_id?h.project_id:h.id}`),sx:k,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(h.completion)}%`,height:"14px",backgroundColor:"#2F6FD0",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#2F6FD0"},children:`${Math.floor(h.completion)}%`})]})}),e.jsx(V,{onClick:()=>m(`/projects/${h.project_id?h.project_id:h.id}`),sx:{...k},children:h.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):h.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(V,{onClick:()=>m(`/projects/${h.project_id?h.project_id:h.id}`),sx:k,children:h.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):h.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:h.status})}),e.jsx(V,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>r(h),children:e.jsx(Qe,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>b(h),children:e.jsx("img",{style:{width:20,height:20},src:Ye,alt:""})})]})})]}))})]})})}):"",e.jsx(Wa,{open:l,handleClose:()=>g(!1),details:s,userData:t})]})},za=({open:o,handleClose:t,userData:s})=>{const[x,l]=a.useState(!1),[g,A]=a.useState("Orta"),[I,y]=a.useState("Başlanmadyk"),[w,S]=a.useState([]),[C,m]=a.useState([]);a.useState("");const[k,r]=a.useState(""),[b,h]=a.useState(""),[d,u]=a.useState("");O(p=>p.users.status);const c=O(p=>p.users.data),F=ne(),[M,T]=a.useState([]),E=p=>{A(p.target.value)},B=p=>{y(p.target.value)},K=p=>{p.length?(l(!0),m(p)):S(p)},Q=p=>{p?(S(D=>D.filter(v=>v.id!==p)),m(D=>D.filter(v=>v.id!==p))):S(newValues),l(!1)};a.useEffect(()=>{F(Re())},[F]);const Z=p=>{r(p.target.value)},_=(p,D)=>{D.length<w.length?(M.filter(v=>!D.some(se=>se.id===v.id)),S(D),T(M.filter(v=>D.some(se=>se.id!==v.id))),m(C.filter(v=>D.some(se=>se.id!==v.id)))):(D||D[0].id)&&(K(D),S(()=>D.map(v=>({id:v.id?v.id:v.userId,name:v.name,surname:v.surname}))))},R=()=>{const D={body:{name:k,status:I,priority:g,startDate:N(d).format("YYYY-MM-DD"),endDate:N(b).format("YYYY-MM-DD"),tasks:[{userId:s[0].id,name:k,status:I,priority:g,startDate:N(d).format("YYYY-MM-DD"),endDate:N(b).format("YYYY-MM-DD")}]},userId:s[0].id};k!=""&&g!=""&&d!==""&&b!=""&&s.length!=0?(F(Qt(D)),t(),S([]),T([]),r("")):f.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(ae,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:k,fullWidth:!0,onChange:Z,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,defaultValue:s,fullWidth:!0,options:c,getOptionLabel:p=>`${ee(p.name)} ${ee(p.surname==null?"":p.surname)}`,disabled:!0,onChange:_,renderInput:p=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...p,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...p.InputProps,endAdornment:e.jsx(e.Fragment,{children:p.InputProps.endAdornment})}}),popupIcon:e.jsx(Ge,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:p=>{u(p||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:p=>{h(p||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:E,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,onChange:B,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:R,children:"Ýatda sakla"})})]})]})}),e.jsx(Ea,{user:C,setSelectedUsers:m,openUserModal:x,handleCloseUserModal:Q,setWorkers:T,allUsers:c})]})},Pa=({data:o})=>{const[t,s]=a.useState("");O(S=>S.users.data),a.useState(!1);const[x,l]=a.useState(!1),[g,A]=a.useState([o]);a.useEffect(()=>{A([o])},[o]);const I=()=>l(!0),y=()=>l(!1);we();const w=S=>{s(S)};return e.jsx($,{height:"90vh",p:"0 15px",backgroundColor:"#F8F9FA",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:1,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"100%",children:e.jsx(i,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektleri"})}),e.jsxs(X,{sx:{color:"#fff",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:I,children:[e.jsx(Ge,{}),"Proýekt goşmak"]}),e.jsx(za,{open:x,userData:g,handleClose:y})]}),e.jsx(Ua,{setProjectName:w,userData:g})]})})},Ba=({projectId:o,allUsers:t,openUserModal:s,handleCloseUserModal:x})=>{const[l,g]=a.useState(),[A,I]=a.useState([]),[y,w]=a.useState(""),[S,C]=a.useState("Başlanmadyk"),[m,k]=a.useState("");a.useState("");const[r,b]=a.useState(null),[h,d]=a.useState(null),u=ne(),c=E=>{w(E.target.value)},F=E=>{C(E.target.value)};a.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(B=>{I(B.data.data)})})()},[]);const M=E=>{g(E.target.value)},T=()=>{const E={projectId:o,userId:l,name:m,status:S,priority:y,startDate:N(r).format("YYYY-MM-DD"),endDate:N(h).format("YYYY-MM-DD")};m!==""&&S!=""&&y!==""&&r!==null&&h!==null?(u(Lt({body:E,projectID:o})),x(),w(""),k(""),C(""),g()):f.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(ae,{open:s,onClose:()=>{w(""),k(""),C(""),g(),x()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs($,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:440,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsx(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"flex-end",alignItems:"end",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:e.jsx(H,{onClick:()=>{w(""),k(""),C(""),g(),x()},children:e.jsx(he,{sx:{color:"#fff"}})})}),e.jsxs(n,{p:"15px 20px 30px ",spacing:"10px",children:[e.jsxs(re,{children:[e.jsx(ue,{id:"age-label",children:"Işgär"}),e.jsx(ie,{labelId:"age-label",value:l,label:"Işgärler",onChange:M,children:t.map(E=>e.jsxs(J,{value:E.id,children:[E.name," ",E.surname]}))})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:je,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{pt:0,width:"100%",direction:"row",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:E=>{b(E||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{pt:0,width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(le,{fullWidth:!0,onChange:E=>{d(E||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:m,fullWidth:!0,onChange:E=>k(E.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:c,label:"Wajyplygy",children:[e.jsx(J,{value:"Ýokary",children:"Ýokary"}),e.jsx(J,{value:"Orta",children:"Orta"}),e.jsx(J,{value:"Pes",children:"Pes"})]})]}),e.jsxs(re,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ie,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,onChange:F,label:"Statusy",children:[e.jsx(J,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(J,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(J,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(J,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:T,children:"Ýatda sakla"})})]})]})})})},Na=({setProjectName:o})=>{const[t,s]=a.useState(""),[x,l]=a.useState(!1),[g,A]=a.useState([]),{id:I}=Ke(),y=O(h=>h.projectDetail.status),w=O(h=>h.projectDetail.error),S=O(h=>h.projectDetail.data);a.useState([S]);const C=ne(),m=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{C(zt(I))},[C]),y==="succeeded"&&o(S);const k={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},r=h=>{l(!0),s(h)},b=h=>{const d={projectId:I,taskId:h.id,responsibleUserId:m.id};h&&I&&C(Nt({body:d,age:I}))};return e.jsxs(n,{children:[y==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):y==="failed"?f.error(w):y==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:S.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(qe,{children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Io.map(h=>e.jsx(V,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:h.title},h.id))})}),e.jsx(Ne,{children:S.map(h=>h.tasks&&h.tasks.map(d=>e.jsxs(it,{children:[e.jsx(V,{sx:k,children:d.name}),e.jsxs(V,{sx:k,children:[d.user&&d.user.name," ",d.user&&d.user.surname]}),e.jsxs(V,{sx:k,children:[z(d.startDate).format("DD.MM.YYYY")," -"," ",z(d.endDate).format("DD.MM.YYYY")]}),e.jsx(V,{sx:k,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${d.completionTask}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${d.completionTask}%`})]})}),e.jsx(V,{sx:{...k},children:d.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):d.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(V,{sx:k,children:d.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):d.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:d.status})}),e.jsx(V,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{sx:{...d.user&&d.user.id===m.id||m.role==="ADMIN"?{display:"flex"}:{display:"none"}},onClick:()=>r({task:d,user:d.user}),children:e.jsx(Qe,{sx:{color:"#0099ED",width:20,height:20}})}),m.role==="USER"?"":e.jsx(H,{onClick:()=>b(d),children:e.jsx("img",{style:{width:20,height:20},src:Ye,alt:""})})]})})]})))})]})})}):"",e.jsx(Gs,{user:t,setSelectedUsers:s,openUserModal:x,handleCloseUserModal:()=>l(!1),setWorkers:A})]})},Oa=()=>{const[o,t]=a.useState(""),s=O(S=>S.users.data),[x,l]=a.useState(!1),g=JSON.parse(localStorage.getItem("CRM_USER")),A=we(),I=S=>{t(S)},y=()=>{l(!0)},w=()=>{l(!1)};return e.jsxs($,{height:"100vh",p:2,width:"100%",backgroundColor:"#f4f5f9",overflow:"auto",children:[g.role==="USER"?"":e.jsx(Vs,{}),e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:g.role==="USER"?"97%":"80%",borderRadius:"12px",p:"20px",mt:2,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",sx:{...g.role==="USER"?"":{justifyContent:"space-between"}},p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(ze,{to:"#",onClick:()=>A(-1),style:{textDecoration:"none",color:"#474747",display:"flex",height:"100%",alignItems:"center",gap:"10px",padding:"15px 0"},children:e.jsx(vs,{})}),e.jsx(i,{width:"90%",textAlign:"center",fontSize:"24px",fontFamily:"DM Sans",fontWeight:"600",children:o!==""&&o&&o[0].name})]}),e.jsx(n,{height:"100%",alignItems:"center",justifyContent:"center",sx:{...g.role==="USER"?{display:"none"}:{display:"block"}},children:e.jsxs(X,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:y,children:[e.jsx(Fs,{}),"Ýerine Ýetirýän"]})})]}),e.jsx(Na,{setProjectName:I}),g.role==="USER"?"":e.jsx(Ba,{openUserModal:x,handleCloseUserModal:w,allUsers:s,projectId:o!==""&&o[0].id})]})]})},La=()=>{a.useState("");const{id:o}=Ke(),[t]=Cs(),s=we(),x=ne(),l=O(r=>r.getWorkDate.statusMonth),g=O(r=>r.getWorkDate.errorMonth),A=O(r=>r.getWorkDate.employeerTime),I=t.get("date"),[y,w]=a.useState(null);a.useEffect(()=>{const r={userId:o,date:z(I).format("YYYY-MM-DD")};x(Le(r))},[x]);const S=r=>{w(b=>b===r?null:r)},C={p:0,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},m=l==="succeeded"&&A.employeerTime.reduce((r,b)=>{const h=new Date(b.comeTime).toISOString().split("T")[0];if(r[h]||(r[h]={totalMinutes:0,firstComeTime:b.comeTime,lastLeaveTime:b.leaveTime,note:b.note,workSessions:[]}),b.comeTime&&b.id){const d=new Date(b.comeTime);let c=(new Date(b.leaveTime)-d)/(1e3*60);c<0&&(c=0),r[h].totalMinutes+=c,r[h].workSessions.push({comeTime:b.comeTime,leaveTime:b.leaveTime,duration:c,note:b.note}),r[h].firstComeTime>b.comeTime&&(r[h].firstComeTime=b.comeTime),(!r[h].lastLeaveTime||r[h].lastLeaveTime<b.leaveTime)&&(r[h].lastLeaveTime=b.leaveTime),!r[h].note&&b.note&&(r[h].note=b.note)}return r},{}),k=Object.keys(m).map(r=>{const{totalMinutes:b,firstComeTime:h,lastLeaveTime:d,note:u}=m[r],c=Math.floor(b/60),F=b%60;return{date:r,totalHours:c,totalMinutes:Math.ceil(F),firstComeTime:h,lastLeaveTime:d,workSessions:m[r].workSessions,note:u}});return e.jsxs($,{backgroundColor:"#fff",overflow:"auto",height:"100vh",children:[e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.jsxs(ze,{to:"#",onClick:()=>s(-1),style:{textDecoration:"none",color:"#474747",display:"flex",alignItems:"center",marginLeft:10},children:[e.jsx(vs,{}),e.jsx(i,{p:"5px 10px",fontSize:"20px",fontFamily:"Montserrat",fontWeight:"600",sx:{"&:hover":{textDecoration:"underline"}},children:"Işgärler / Profili"})]})}),e.jsxs(n,{pb:1,direction:"row",alignItems:"center",justifyContent:"space-around",children:[e.jsx(Ta,{data:A}),e.jsx(n,{backgroundColor:"#fff",width:"57%",height:"82vh",borderRadius:"20px",pb:"20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(n,{children:l==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):l==="failed"?f.error(g):l==="succeeded"?e.jsx(n,{children:e.jsx(qe,{sx:{height:"79vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:ko.map(r=>e.jsx(V,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center"},children:r.title},r.id))})}),e.jsx(Ne,{children:k.map((r,b)=>e.jsxs(e.Fragment,{children:[e.jsxs(ye,{children:[e.jsxs(V,{sx:{...C,direction:"row",justifyContent:"space-between"},children:[e.jsx(H,{onClick:()=>S(r.date),children:y===r.date?e.jsx(Jn,{}):e.jsx(Vn,{})}),z(r.date).format("DD.MM.YYYY")]}),e.jsx(V,{sx:C,children:z(r.firstComeTime).format("HH:mm")}),e.jsx(V,{sx:C,children:r.lastLeaveTime==null?e.jsx(i,{color:"tomato",children:"-"}):z(r.lastLeaveTime).format("HH:mm")}),e.jsx(V,{sx:C,children:`${r.totalHours}:${r.totalMinutes}`}),e.jsx(V,{sx:{...C,color:"tomato"},children:new Date(r.firstComeTime).getHours()>=9&&(new Date(r.firstComeTime).getHours()-9>0||new Date(r.firstComeTime).getMinutes()>0)?e.jsxs(e.Fragment,{children:[new Date(r.firstComeTime).getHours()-9>0&&new Date(r.firstComeTime).getHours()-9+"(sag)",new Date(r.firstComeTime).getMinutes()>0&&e.jsxs(e.Fragment,{children:[new Date(r.firstComeTime).getHours()-9>0&&":",new Date(r.firstComeTime).getMinutes(),"(min)"]})]}):""}),e.jsx(V,{sx:C,children:r.note})]},r.date),e.jsx(ye,{children:e.jsx(V,{colSpan:7,sx:{paddingBottom:0,paddingTop:0},children:e.jsx(Gn,{in:y===r.date,timeout:"auto",unmountOnExit:!0,children:e.jsxs($,{margin:1,children:[e.jsx(i,{variant:"h6",children:"Işlän wagtlary:"}),e.jsxs(Pe,{size:"small",children:[e.jsx(Be,{children:e.jsxs(ye,{children:[e.jsx(V,{children:"Gelen wagty"}),e.jsx(V,{children:"Giden wagty"}),e.jsx(V,{children:"Işlän sagady"}),e.jsx(V,{children:"Belligi"})]})}),e.jsx(Ne,{children:r.workSessions.map((h,d)=>e.jsxs(ye,{children:[e.jsx(V,{children:h.comeTime?z(h.comeTime).format("HH:mm"):"-"}),e.jsx(V,{children:h.leaveTime?z(h.leaveTime).format("HH:mm"):"-"}),e.jsx(V,{children:h.leaveTime?`${Math.floor(h.duration/60)}(sag):${Math.ceil(h.duration%60)}(min)`:"-"}),e.jsx(V,{children:h.note?h.note:""})]},d))})]})]})})})})]}))})]})})}):""})})]}),e.jsx(Pa,{data:A.user})]})},Ks="/assets/pattern-7eLabnOn.png",Qa=({openModal:o,events:t,setStartDate:s,setEndDate:x})=>{z.locale("tk"),z.updateLocale("tk",{weekdays:Bs.slice(0,7)}),z.updateLocale("tk",{months:Ns}),JSON.parse(localStorage.getItem("CRM_USER"));const[l,g]=a.useState(z()),[A,I]=a.useState(null);a.useState(""),a.useState(!1);const[y,w]=a.useState("month"),S=()=>{let c,F;if(y==="month")c=l.clone().startOf("month").startOf("isoWeek"),F=l.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(y==="week")c=l.clone().startOf("isoWeek"),F=l.clone().endOf("isoWeek").subtract(1,"day");else return[];const M=c.clone().subtract(1,"day"),T=[];for(;M.isBefore(F,"day");)T.push(Array(7).fill(0).map(()=>M.add(1,"day").clone()));return T.length===5&&T[4][6].isBefore(F,"day")&&T.push(Array(7).fill(0).map(()=>M.add(1,"day").clone())),{calendar:T,firstDay:c.format("YYYY MM DD"),lastDay:F.format("YYYY MM DD"),endDay:F,startDay:c}};a.useEffect(()=>{const{startDay:c,endDay:F}=S();s(c.format("YYYY-MM-DD")),x(F.format("YYYY-MM-DD"))},[l,y,s,x]);const C=c=>c.day()===0,m=c=>{I(c),C(c)||o(c.format("YYYY-MM-DD"))},k=c=>t.some(F=>z(F.comeTime).isSame(c,"day")),r=c=>t.filter(F=>z(F.comeTime).isSame(c,"day")),b=()=>{if(y==="day")return renderDayView();{const c=S();return e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{children:z.weekdays().map((F,M)=>e.jsx(V,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...M===0?{borderTopLeftRadius:"12px"}:"",...z.weekdays().length-1===M?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:F},M))})}),e.jsx(Ne,{children:c.calendar.map((F,M)=>e.jsx(ye,{children:F.map((T,E)=>e.jsxs(V,{onClick:()=>{m(T)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:C(T)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:T.month()===l.month()?"#474747":"#959494",...T.month()===l.month()?"":{backgroundImage:`url(${Ks})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...z().isSame(T,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%"}},children:T.format("D")}),k(T)?t.filter(B=>z(B.comeTime).isSame(T,"day")).map((B,K)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:B.color?"#e5dffb":"white",color:T?B.color:"blue",borderLeft:`6px solid ${B.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(i,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:ee(B.note)}),r(T).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:B.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",r(T).length-1]})]},K)):t.filter(B=>z(B.date,"DD/MM/YYYY").isSame(T,"day")).map((B,K)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:B.color?"#e5dffb":"white",color:T?B.color:"blue",borderLeft:`6px solid ${B.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(i,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:ee(B.note)}),r(T).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:B.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",r(T).length-1]})]},K))]},E))},M))})]})}},h=()=>{g(l.clone().subtract(1,"month"))},d=()=>{g(l.clone().add(1,"month"))},u=()=>{g(z())};return e.jsxs(n,{p:"10px 15px 5px 15px",children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(X,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",minHeight:"40px"},onClick:u,children:"Şu gün"}),e.jsxs(n,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656"},onClick:h,children:e.jsx(Ms,{sx:{width:18,height:20}})}),e.jsx(i,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:l.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656"},onClick:d,children:e.jsx(Rs,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...y==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"}}:{background:"#fff"}},onClick:()=>w("week"),children:"Hepde"}),e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...y=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>w("month"),children:"Aý"})]})]})]}),b()]})},Ha="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFMSURBVHgBzZUxTgMxEEX/2Bu0QkLKEZYKIVHkCOEGUIDELeihCAJEyRFSUqTIFcIJki6CBucESU/sYTdRCmKTmYQt8prVjvfPt72eMUGgM+w2bZ63UmMecJ3TG7dJn0HAHh61CdxPjgWclw+3SW8gYCg4/APZwPvZX2MecwcBgoKnjx6n4vcnV6JeXMEC5kkUAjso0BkYmiJ2mKikmo8QWJVsdwOm6EcTmS8oUBkw4qPKwde3RQbk1mPEPNNpFQRjomScMN3ZIFnNZOpbQaqaNVW8mAeUrFezpoorxG66gpnfy4wFltOaYl9Qb1F18TTy/MLDIsAPpItmK4OX8VvhbTYsz2azeq8anfnG5d3Z9UjSqk6Rp6y7Sr6cFRV8QK8ara4XgY+jCHMBBUoDRFtRNrsBFKgMLDdu6XdrGM29fUDdPI577efPfmsbzQ/mEmtiWItDBwAAAABJRU5ErkJggg==",Ja="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH2SURBVHgB7ZlNTsJAFIDfVHCNC3TrEeAIbiTEhV7BE0hPQDlB4QSegYVRcYGeQI/gzgRi5ADQ57zYmmaYAr5Oh4mZLyHpzwTmy5u+94YCeDyePAKYxPcfp+KgdisPW/LTgBL0zpvseRA1YJAKvELJyZsiAA5BMARHBAiWhBDBJVgknsxao8d5v+g+azmplF3TmyABAWKKAhpSBG46zYE6hrecLJEJQLp0pUiki4izEqpARpIka1F3UqJIAFfJIOyeROp45yT+KkA4JcERILTZaTiZY/6ck33ih3kPVvgcXhy/7TSeKUBUEonR02dfBBCLupjGd7PWtvFlBAjjEiSAmETpaWObSFkBwriEJgUWipgQIIxLhJ1mhAhqVV0TMSVAGGk7VEgkli2CEJCvrpnIGdRpD2BGgKhEgtgkkh3nx28S2JYtK60TRUsLDEUgo/JiVyDyS1kBwkrFLhIxIUBYaztUEVMCRGUPto7sYZfFBEwJEFYlCBIBwzi9s9sVL+EKXsIVuNlpAbnWQe1tbMOLhICdtpxVgEkyVq+xJHBZu4afaNhFiAXgYU+9zJIIu0fvuKq15TZ0DDaQk0fAF1wetOm31dvsip1+2RU4gE+xrvAvJLT/7Mm8/wUW3wSVfb+hj8Qe6wAHrcTe6gATrYT1OuDxeIzyDSk9ACXAXvuiAAAAAElFTkSuQmCC",ds=()=>{const[o,t]=a.useState(!1),[s,x]=a.useState(!1),[l,g]=a.useState([]),[A,I]=a.useState("#7551E9"),[y,w]=a.useState(null),[S,C]=a.useState({}),[m,k]=a.useState(""),[r,b]=a.useState(""),[h,d]=a.useState(""),[u,c]=a.useState([]),[F,M]=a.useState(),[T,E]=a.useState(),B=ne(),K=JSON.parse(localStorage.getItem("CRM_USER")),Q=O(Y=>Y.getWorkDate.data),Z=O(Y=>Y.getWorkDate.statusMonth),_=O(Y=>Y.getWorkDate.employeerTime.employeerTime),R=O(Y=>Y.getWorkDate.adminNotes),p=O(Y=>Y.getWorkDate.adminNote),D=O(Y=>Y.getWorkDate.statusAdminNote),v=O(Y=>Y.getWorkDate.status);z.locale("tk"),a.useEffect(()=>{g([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]);const se=Y=>{const de={userId:K.id,date:Y};B(ht(de))},oe=Q.filter(Y=>Y.leaveTime===null);a.useEffect(()=>{const Y={userId:K.id,date:z(r).add(13,"days").format("YYYY-MM-DD")};r!==""&&B(Le(Y))},[r,B]),a.useEffect(()=>{const Y={startDate:r,endDate:h,userId:K.id};(Y.startDate||Y.endDate!=="")&&(B(ft(Y)),B(Dt(K.id)))},[r,h,B]);const Fe=Z==="succeeded"&&_.reduce((Y,de)=>{if(de.note!==null){const xe=z(de.comeTime).format("YYYY-MM-DD");Y[xe]||(Y[xe]=[]),Y[xe].push(de)}return Y},{});D==="succeeded"&&R.reduce((Y,de)=>{if(de.note!==null){const xe=z(de.date,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD");Y[xe]||(Y[xe]=[]),Y[xe].push(de)}return Y},{});const ke=Y=>{I(Y)},G=()=>{x(!1),t(!1),c([])},W=Y=>{console.log(Y),w(Y),t(!0),se(Y)},ge=()=>{const Y={userId:K.id,comeStatus:!0,userGetTime:{id:K.id,date:y}};B(pt(Y))},ce=()=>{const Y={userId:K.id,leaveStatus:!0,userGetTime:{id:K.id,date:y}};B(xt(Y))},Se=Z==="succeeded"?_.filter(Y=>Y.note!==null):[],P=()=>{const Y={id:Q[Q.length-1].id,note:m,color:A,userGetTime:{id:K.id,date:y}};m!==""&&B(gt(Y)),k("")},be=()=>{const Y={id:T.id,note:m,color:A,userGetTime:{id:K.id,date:y}};m!==""?B(mt(Y)):f.error("Maglumatlary giriziň!"),k("")},Te=Y=>{Y.preventDefault(),y&&(C({text:m,color:A}),P(),t(!1))},Ce=()=>{be(),C({text:m,color:A}),x(!1)},Ae=Y=>{k(Y.note),E(Y),x(!0),M(Y.id)},$e=Y=>{const de={id:Y,userId:K.id,date:z(r).add(13,"days").format("YYYY-MM-DD")};de.id&&de.userId&&B(It(de))};return e.jsx($,{backgroundColor:"#fff",children:e.jsxs(n,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsxs(n,{direction:"column",width:"28%",height:"88vh",children:[e.jsx(n,{backgroundColor:"#fff",spacing:2,width:"90%",borderRadius:"20px",m:"0px 20px ",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",mb:"14px",sx:{display:"flex",minHeight:"200px",maxHeight:"35%"},className:"notes",overflow:"auto",children:e.jsxs(n,{maxHeight:"100%",children:[e.jsx(i,{textAlign:"start",fontWeight:600,color:"#DC6262",fontSize:15,mb:"10px",p:"15px 20px 0 20px",children:"Admindan bellik"}),e.jsx(n,{children:D==="loading..."?e.jsxs(n,{direction:"column",height:"10%",alignItems:"center",sx:{gap:"10px",mt:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):D==="failed"?e.jsx(i,{textAlign:"center",color:"tomato",height:"33%",mt:4,children:"Ýalňyşlyk!"}):D==="succeeded"?R.length==0&&p.length==0?e.jsx(i,{pt:4,textAlign:"center",children:"Bellik ýok"}):R.map(Y=>e.jsxs(n,{children:[e.jsx(We,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"3px",borderRadius:"5px"},direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:Ha,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:ee(Y.title)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:z(Y.date).format("DD.MM.YYYY HH:mm")})]})]})]},Y.id)):""}),e.jsx(n,{children:p.map(Y=>e.jsxs(n,{children:[e.jsx(We,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"5px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:Ja,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:ee(Y.content)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:z(Y.createdAt).format("DD.MM.YYYY HH:mm")})]})]},Y.id)]},Y.id))})]})}),e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"90%",sx:{height:"100%"},borderRadius:"20px",alignItems:"center",m:"0px 20px ",p:"20px 10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",overflow:"auto",children:[e.jsx(n,{children:e.jsx(i,{textAlign:"start",fontWeight:600,fontSize:15,children:"Ýetişik bellikleri"})}),e.jsx(We,{sx:{width:"100%"}}),Z==="loading..."||D==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):Z==="failed"||D==="failed"?e.jsx(i,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):Z==="succeeded"||D==="succeeded"?Se.length===0||Se===void 0?e.jsx(i,{pt:4,children:"Bellik ýok"}):e.jsx(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:e.jsx(n,{children:Object.keys(Fe).map((Y,de)=>e.jsxs(Ys,{children:[e.jsx(Ts,{expandIcon:e.jsx(Es,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:z(Y).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:Fe[Y].length})]})}),e.jsx(Ws,{sx:{p:0},children:Fe[Y].map(xe=>e.jsxs(n,{children:[e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:xe.color}),e.jsxs(n,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:ee(xe.note)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:z(xe.comeTime).format("DD.MM.YYYY HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...z().isSame(xe.comeTime,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>Ae(xe),sx:{mr:-1},children:e.jsx(is,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>$e(xe.id),children:e.jsx("img",{style:{width:24,height:24},src:Ye,alt:""})})]})]}),e.jsx(We,{sx:{width:"100%"}})]},xe.id))})]},de))})}):"",z(y).isAfter(z(),"day")?"":e.jsx(ae,{closeAfterTransition:!0,open:o,onClose:G,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Je,{in:o,children:e.jsxs($,{sx:Co,height:"605px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{...z().isSame(y,"day")?{marginBottom:"0px"}:{marginBottom:"85px"}},children:[e.jsx(i,{textAlign:"end",fontFamily:"Montserrat",fontSize:32,width:"70%",color:"#474747",fontWeight:500,children:z(y).format("DD.MM.YYYY")}),e.jsx(H,{onClick:G,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})]}),e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"center",spacing:"20px",pt:"10px",pb:"10px",sx:{...z().isSame(y,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(X,{disabled:oe.length>0,sx:{...oe.length==0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,border:"1px solid #D5D5D5",borderRadius:"50px",height:55,"&:hover":{background:"#78a880"}},onClick:ge,children:"Geldim"}),e.jsx(X,{disabled:oe.length==0,sx:{...oe.length>0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,"&:hover":{background:"#78a880"}},onClick:ce,children:"Gitdim"})]}),v==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(pe,{}),"Loading..."]}):v==="failed"?e.jsx(i,{textAlign:"center",sx:{...z().isSame(y,"day")?{height:"28%"}:{height:"36%"}},mt:4,fontSize:35,children:"Maglumat ýok"}):v==="succeeded"?Q.length===0?e.jsx(i,{mt:4,textAlign:"center",sx:{...z().isSame(y,"day")?{height:"35%"}:{height:"36%"}},fontSize:35,children:"Maglumat ýok"}):e.jsxs(n,{sx:{...z().isSame(y,"day")?{minHeight:"42%",maxHeight:"28%"}:{height:"70%"}},className:"times",overflow:"scroll",children:[e.jsxs(n,{spacing:"10px",direction:"row",justifyContent:"space-between",p:"0 10px 20px 30px",width:"100%",position:"sticky",top:"0",backgroundColor:"#fff",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,textAlign:"center",children:"Gelen wagty"}),e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Giden wagty"}),e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Işlän sagady"})]}),e.jsx(n,{direction:"column",width:"100%",spacing:"10px",children:Q.map((Y,de)=>e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.jsx(i,{fontFamily:"Montserrat",color:"#000",textAlign:"center",fontSize:15,children:de+1}),e.jsxs(n,{width:"100%",spacing:"5px",direction:"row",alignItems:"center",justifyContent:"space-between",border:"1px solid #d5d5d5",p:"0 40px",borderRadius:"50px",backgroundColor:"#F8F9FA",children:[e.jsx(n,{height:25,color:"#A6A6A6",fontSize:15,fontWeight:400,justifyContent:"flex-start",alignItems:"center",direction:"row",children:e.jsx(i,{fontFamily:"Montserrat",color:"#A6A6A6",textAlign:"center",fontSize:15,children:z(Y.comeTime).format("HH:mm")})}),e.jsx(n,{height:35,color:"#A6A6A6",fontSize:15,fontWeight:400,alignItems:"start",justifyContent:"center",children:Y.leaveTime!=null?z(Y.leaveTime).format("HH:mm"):""}),e.jsx(n,{height:25,fontSize:15,fontWeight:400,alignItems:"start",color:"#A6A6A6",justifyContent:"center",children:Y.comeTime&&Y.leaveTime?z.duration(z(Y.leaveTime).diff(z(Y.comeTime))).hours()+":"+z.duration(z(Y.leaveTime).diff(z(Y.comeTime))).minutes():""})]})]}))},ds)]}):"",e.jsx(n,{direction:"column",sx:{...z().isSame(y,"day")?{display:"flex"}:{display:"none"}},children:e.jsxs("form",{onSubmit:Te,children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(L,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:m,autoComplete:"off",name:"eventText",onChange:Y=>k(Y.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"9px",children:l.map(Y=>e.jsx(n,{onClick:()=>ke(Y.color),style:{backgroundColor:Y.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:A===Y.color?e.jsx(st,{}):""},Y.color))}),e.jsx(X,{sx:{backgroundColor:"#F5F6FA",color:"#474747",textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,mt:-.5,"&:hover":{background:"#78a880",color:"#F5F6FA"}},type:"submit",children:"Goşmak"})]})]})," "]})]})})]})})}),e.jsx(ae,{closeAfterTransition:!0,open:s,onClose:G,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Je,{in:s,children:e.jsxs($,{sx:ls,height:"565px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(H,{onClick:G,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})}),e.jsx(i,{textAlign:"center",fontFamily:"Montserrat",fontSize:32,color:"#474747",fontWeight:500,children:T!==void 0?z(T.comeTime).format("DD.MM.YYYY"):""}),e.jsx(H,{onClick:Ce,children:e.jsx(st,{sx:{width:38,height:38,color:"#9FC2A5"}})})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"10px",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(L,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:m,autoComplete:"off",name:"username",onChange:Y=>k(Y.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:l.map(Y=>e.jsx(n,{onClick:()=>ke(Y.color),style:{backgroundColor:Y.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:A===Y.color?e.jsx(st,{}):""},Y.color))})]})]})})})]})]}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(Qa,{openModal:W,color:A,events:Se,setEvents:C,setStartDate:Y=>b(Y),setEndDate:Y=>d(Y)})})]})})},Va=()=>{const o=JSON.parse(localStorage.getItem("CRM_USER")),t=we();return a.useEffect(()=>{o.role==="ADMIN"&&t("/employees")},[o]),e.jsx($,{height:"100vh",width:"100%",className:"notes",backgroundColor:"#f5f6fa",overflow:"auto",children:o.role==="USER"?e.jsx(ds,{}):o.role==="MODERATOR"?e.jsx(ds,{}):o.role==="ADMIN"?e.jsx(Zs,{}):""})},us="http://192.168.1.46",Ga=async o=>{const t=await fetch(`${us}/api/chat/chats/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},ys=async o=>{const t=await fetch(`${us}/api/chat/users/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},He=zs(`${us}:5022`),Xa={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Za=()=>{const[o,t]=a.useState({name:"",surname:"",img:""}),[s,x]=a.useState(""),[l,g]=a.useState(),[A,I]=a.useState(null),[y,w]=a.useState(!1),[S,C]=a.useState(null),m=Number(l),[k,r]=a.useState(""),b=a.useRef(null),[h,d]=a.useState([]),[u,c]=a.useState([]),[F,M]=a.useState(null),[T,E]=a.useState(null),[B,K]=a.useState(null),[Q,Z]=a.useState(null),[_,R]=a.useState([]),p=a.useRef(null),D=h.length?h.filter(G=>G.name&&G.name.toLowerCase().includes(k.toLowerCase())):h;a.useEffect(()=>{const G=JSON.parse(localStorage.getItem("CRM_USER"));g(G.id)},[l]),a.useEffect(()=>{(async()=>{const W=await Ga(l);d(W)})()},[]),a.useEffect(()=>((async()=>{const W=await ys(l);c(W.users),d(W.chats),b.current&&b.current.focus()})(),He.emit("register",l),He.on("message",W=>{const{senderId:ge,receiverId:ce,text:Se}=W;R(P=>[...P,{senderId:Number(l),receiverId:ce,text:Se}])}),()=>He.off("message")),[l]),a.useEffect(()=>{p.current&&(p.current.scrollIntoView({behavior:"smooth"}),b.current&&b.current.focus())},[_]);const v=async(G,W)=>{He.emit("createchat",{senderId:G,receiverId:W});const ge=await ys(l);c(ge.users),d(ge.chats)},se=G=>{G.preventDefault(),s&&A&&(He.emit("message",{senderId:l,recipientId:A,message:s,chatId:F,oppositeChatId:Q,oppositeSenderId:T,oppositeReceiverId:B}),x(""))},oe=(G,W)=>(He.emit("getchat",{chatId:W,senderId:G}),He.on("getchat",ge=>{const{chatHistory:ce}=ge;R(ce)}),b.current&&b.current.focus(),()=>He.off("getchat")),Fe=(G,W,ge,ce,Se,P,be,Te,Ce,Ae)=>{I(G),t({name:W,surname:ge,img:ce}),M(Se),E(P),K(be),Z(Te),C(Ce),oe(Ae,Se)},ke=(G,W,ge)=>{I(G),t(W),v(ge,G),w(!1)};return e.jsx($,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{width:"30%",height:"100%",borderRadius:"10px",backgroundColor:"#f0f0f0",children:e.jsxs(n,{spacing:1,justifyContent:"center",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",spacin:2,width:"100%",sx:{p:{lg:"15px 5px 0 10px",xs:"0 5px 0 5px"},gap:"5px"},children:[e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,onChange:G=>r(G.target.value),value:k,sx:{},InputProps:{startAdornment:e.jsx("img",{src:Hs,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsx(H,{onClick:()=>w(!0),sx:{width:"45px",height:"45px",border:"0.5px solid #cdcdcd",color:"#fff",background:"#2F6FD0","&:hover":{background:"#2F6FD0"}},children:"+"})]}),h.length==0?"Does not have chats":D.map((G,W)=>e.jsxs(n,{onClick:()=>Fe(G.id,G.name,G.surname,G.img,G.chatId,G.oppositeSenderId,G.oppositeReceiverId,G.oppositeChatId,G.receiverId,G.senderId),direction:"row",spacing:2,p:"8px",sx:{...W==0?{borderTop:"1px solid #CDCDCD"}:"",borderBottom:"1px solid #CDCDCD","&:hover":{backgroundColor:"#F5F5F5"}},children:[G.img?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${G.img}`,alt:""}):e.jsx(qt,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(n,{sx:{cursor:"pointer"},height:45,width:"90%",justifyContent:"center",children:[e.jsxs(i,{fontFamily:"Montserrat",color:"#4399FF",fontWeight:600,children:[G.name," ",G.surname]}),e.jsx(i,{color:"#959595"})]})]},W))]})}),e.jsx("div",{className:"chat-messages",style:{position:"relative",background:"#fff",height:"100%"},children:o.name==""?e.jsx(i,{fontFamily:"Montserrat",color:"#cdcdcd",mt:6,fontSize:30,textAlign:"center",fontWeight:600,children:"Söhbetdeşlik saýlaň"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)",p:1,children:[o.img!=null?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${o.img}`,alt:""}):e.jsx(qt,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(i,{fontSize:18,fontWeight:500,color:"#4399FF",children:[o.name," ",o.surname]})]}),e.jsxs("ul",{style:{height:"500px !important"},children:[_.map((G,W)=>e.jsx("li",{style:{textAlign:G.senderId===m?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:G.senderId===m?"#D0E7FF":"#D4F8E8",position:"relative",alignItems:"center"},children:[e.jsx("b",{className:"chat-messages__div-b",children:G.senderId===m?"":o.name}),e.jsxs(n,{width:"100%",spacing:2,direction:"row",alignItems:"end",justifyContent:"space-between",children:[e.jsxs("span",{className:"chat-messages__div-span",children:[G.text," "]}),e.jsx("span",{style:{color:"gray",fontSize:11,marginBottom:"-4px"},children:z(G.createdAt).format("HH:mm")})]})]})},W)),e.jsx("div",{ref:p})]}),e.jsx(n,{className:"chat-input",style:{position:"absolute",bottom:10,right:"2%",width:"95%",alignItems:"center"},children:e.jsxs("form",{onSubmit:se,children:[e.jsx("input",{ref:b,type:"text",placeholder:"Tekst...",value:s,onChange:G=>x(G.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})})]}),e.jsx(ae,{open:y,onClose:()=>w(!1),children:e.jsxs($,{sx:Xa,children:[e.jsx(i,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:u.map(G=>e.jsx("li",{onClick:()=>ke(G.id,G.name,l),children:G.name},G.id))})})]})})]})})},qa=({open:o,handleClose:t,data:s})=>{const[x,l]=a.useState(null),[g,A]=a.useState(s=="Goşmaça"?s:s.title),I=JSON.parse(localStorage.getItem("CRM_USER")),[y,w]=a.useState(I);a.useEffect(()=>{A(s=="Goşmaça"?s:s.title),w(I)},[s]),console.log(s);const S=ne(),C=r=>{const b=r.target.files[0];b&&f.success("Faýl saýlandy"),l(b),A(b.name)},m=()=>{if(g==""){f.warn("Faýl ady giriz!");return}if(!x){f.warn("Faýl saýlaň");return}const r=new FormData;r.append("userId",y.id),r.append("title",g),r.append("file",x),r.append("documentTypeId",s!=="Goşmaça"?s.docTypeId:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const b={userId:y.id,body:r};S(vt(b)),l(null),A(""),t()},k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(ae,{open:o,onClose:t,children:e.jsxs($,{sx:k,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Goşmaça resminama"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"95%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(i,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:r=>A(r.target.value),fullWidth:!0,value:g,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"80%",spacing:2,children:[e.jsx(i,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:C,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"})]}),x?e.jsx(n,{children:e.jsxs(i,{children:["Ady: ",x.name," - ",(x.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:m,children:"+ Goş"})})]})})]})})},Ka=({open:o,handleClose:t,data:s})=>{const[x,l]=a.useState(null),[g,A]=a.useState(s&&s.originalName||"Goşmaça"),I=JSON.parse(localStorage.getItem("CRM_USER")),[y,w]=a.useState(I);a.useEffect(()=>{A(s&&s.originalName),w(I)},[s]);const S=ne(),C=r=>{const b=r.target.files[0];b&&f.success("Faýl saýlandy"),l(b)},m=()=>{if(g==""){f.warn("Faýl ady giriz!");return}const r=new FormData;r.append("userId",y.id),r.append("documentId",s.id),r.append("title",g),r.append("file",x),r.append("documentTypeId",s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const b={title:g,userId:y.id,documentId:s.id,documentTypeId:s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},h={userId:y.id,body:x?r:b,files:x||null};S(ot(h)),l(null),A(""),t()},k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:430,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(ae,{open:o,onClose:()=>{l(null),t()},children:e.jsxs($,{sx:k,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{l(null),t()},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(i,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:r=>A(r.target.value),fullWidth:!0,value:g,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(i,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:C,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),x?e.jsx(n,{children:e.jsxs(i,{children:["Saýlanan faýl:",x.name," - ",(x.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:m,children:"+ Goş"})})]})})]})})},$a=()=>{const[o,t]=a.useState(""),[s,x]=a.useState(""),[l,g]=a.useState(!1),[A,I]=a.useState(!1),y=JSON.parse(localStorage.getItem("CRM_USER")),[w,S]=a.useState(y);a.useEffect(()=>{S(y)},[]);const C=O(P=>P.uploadPDf.data),m=O(P=>P.uploadPDf.docType),k=O(P=>P.uploadPDf.status),r=O(P=>P.uploadPDf.error),b=O(P=>P.uploadPDf.uploadProgress),h=ne();a.useEffect(()=>{h(nt(w.id)),h(Ft(w.id))},[h]),console.log(m);const d=C.filter(P=>P.documentType&&P.documentType.name==="Dogluş hakynda şahadatnama"),u=C.filter(P=>P.documentType&&P.documentType.name==="Pasport"),c=C.filter(P=>P.documentType&&P.documentType.name==="Sertifikat"),F=C.filter(P=>P.documentType&&P.documentType.name==="Diplom , Attestat"),M=C.filter(P=>P.documentType&&P.documentType.name==="Nika hakynda şahadatnama"),T=C.filter(P=>P.documentType&&P.documentType.name==="Harby bilet"),E=C.filter(P=>P.documentType&&P.documentType.name==="Sürüjilik şahadatnamasy"),B=C.filter(P=>P.documentType&&P.documentType.name==="Zagran"),K=C.filter(P=>P.documentType&&P.documentType.name==="Goşmaça"),Q=(P,be)=>P.filter(Te=>Te.name===be).map(Te=>Te.id),Z=Q(m,"Dogluş hakynda şahadatnama"),_=Q(m,"Pasport"),R=Q(m,"Sertifikat"),p=Q(m,"Diplom , Attestat"),D=Q(m,"Nika hakynda şahadatnama"),v=Q(m,"Harby bilet"),se=Q(m,"Sürüjilik şahadatnamasy"),oe=Q(m,"Zagran"),ke=[{id:Z[0],doc:d,defaultTitle:"Dogluş hakynda şahadatnama"},{id:_[0],doc:u,defaultTitle:"Pasport"},{id:D[0],doc:M,defaultTitle:"Nika hakynda şahadatnama"},{id:p[0],doc:F,defaultTitle:"Diplom , Attestat"},{id:R[0],doc:c,defaultTitle:"Sertifikat"},{id:v[0],doc:T,defaultTitle:"Harby bilet"},{id:se[0],doc:E,defaultTitle:"Sürüjilik şahadatnamasy"},{id:oe[0],doc:B,defaultTitle:"Zagran"}].map(({doc:P,defaultTitle:be,id:Te})=>{var Ce,Ae,$e,Y,de;return{originalName:((Ce=P==null?void 0:P[0])==null?void 0:Ce.title)||"",pathPdf:((Ae=P==null?void 0:P[0])==null?void 0:Ae.pathPdf)||"",docTypeId:Te,id:($e=P==null?void 0:P[0])==null?void 0:$e.id,title:((de=(Y=P==null?void 0:P[0])==null?void 0:Y.documentType)==null?void 0:de.name)||be}}),G=P=>{const be={userId:w.id,documentId:P};h(Rt(be))},W=P=>{t(P),g(!0)},ge=()=>g(!1),ce=P=>{x(P.documentType&&P.documentType.id),t(P),I(!0)},Se=()=>{I(!1)};return e.jsxs($,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(i,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Resminama"}),e.jsx(Ue,{}),e.jsx(n,{direction:"row",backgroundColor:"#fff",spacing:"60px",minHeight:"80vh",borderRadius:"10px",m:"0px 20px ",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",padding:"0px 0 30px",justifyContent:"space-between",children:e.jsx(n,{width:"100%",justifyContent:"flex-start",alignItems:"center",children:k==="loading..."?e.jsxs(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(pe,{}),e.jsxs(i,{children:[b,"% Loading..."]})]}):k==="failed"?e.jsxs(i,{textAlign:"center",height:"43%",mt:4,children:["Maglumat ýok: ",r]}):k==="succeeded"?e.jsxs(n,{width:"95%",mt:2,children:[e.jsxs(n,{width:"100%",children:[e.jsx(i,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pb:1,width:"100%",children:"Esasy"}),e.jsx(We,{}),ke.map((P,be)=>e.jsxs(n,{direction:"row",sx:{borderBottom:"1px solid lightgray"},alignItems:"center",justifyContent:"space-between",backgroundColor:"#fff",children:[e.jsxs(n,{width:"80%",height:45,alignItems:"center",direction:"row",pl:2.5,minHeight:"45px",children:[e.jsx(ts,{sx:{color:"#2F6FD0",width:36,height:36}}),e.jsxs(i,{fontFamily:"DM Sans",fontWeight:"400",fontSize:18,pl:5,color:"#474747",width:"100%",children:[P.title," ",P.originalName?`(${P.originalName})`:""]},be)]}),e.jsxs(n,{direction:"row",children:[P.pathPdf?e.jsxs(e.Fragment,{children:[e.jsx(H,{onClick:()=>ce(P),children:e.jsx(Qe,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(ze,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${P.pathPdf}`,children:e.jsx(rs,{sx:{color:"#9FA1C2"}})})})]}):"",P.pathPdf?e.jsx(H,{sx:{width:38,height:38},onClick:()=>G(P.id),children:e.jsx("img",{style:{width:24,height:24},src:Ye,alt:"Delete"})}):e.jsx(H,{sx:{width:38,height:38,position:"relative",overflow:"hidden"},onClick:()=>W(P),children:e.jsx(ms,{sx:{color:"#2F6FD0",cursor:"pointer",width:28,height:28}})})]})]},be))]}),e.jsxs(n,{direction:"row",alignItems:"center",pl:2.5,children:[e.jsx(ts,{sx:{color:"brown",width:36,height:36}}),e.jsx(i,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pt:1,pl:5,width:"100%",children:"Goşmaça"}),e.jsxs(n,{direction:"row",pt:1,children:[e.jsx(H,{sx:{width:38,height:38,position:"relative",overflow:"hidden"},onClick:()=>W("Goşmaça"),children:e.jsx(ms,{sx:{color:"brown",cursor:"pointer",width:28,height:28}})}),e.jsx(qa,{open:l,data:o,handleClose:ge})]})]}),e.jsx(Ka,{open:A,handleClose:Se,data:o,docId:s}),K.map(P=>e.jsxs(cn.Fragment,{children:[e.jsx(n,{direction:"column",justifyContent:"space-between",width:"100%",minHeight:"40px",p:"5px 0 0 20px",children:e.jsxs(n,{direction:"row",children:[e.jsx(Me,{to:`http://192.168.1.46/files/${P.pathPdf}`,style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(ts,{sx:{color:"brown",width:36,height:36}}),e.jsx(i,{fontFamily:"DM Sans",fontWeight:"400",fontSize:18,pl:3,width:"100%",children:ee(P.title)})]})}),P.pathPdf&&e.jsxs(e.Fragment,{children:[e.jsx(H,{onClick:()=>ce(P),children:e.jsx(Qe,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(ze,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${P.pathPdf}`,children:e.jsx(rs,{sx:{color:"#9FA1C2"}})})})]}),e.jsx(H,{onClick:()=>G(P.id),children:e.jsx("img",{style:{width:24,height:24},src:Ye,alt:"Delete"})})]})}),e.jsx(We,{})]},P.id))]}):null})})]})},_a=({openModal:o})=>{a.useState();const[t,s]=a.useState(""),[x,l]=a.useState("+993"),[g,A]=a.useState(""),[I,y]=a.useState(""),[w,S]=a.useState(""),[C,m]=a.useState("");a.useState("");const[k,r]=a.useState(!1),[b,h]=a.useState(""),[d,u]=a.useState("TKM"),[c,F]=a.useState(""),[M,T]=a.useState(""),[E,B]=a.useState(N()),[K,Q]=a.useState([]),Z=v=>{h(v.target.value)},_=v=>{u(v.target.value)},R=()=>{o(!0)};ne();const p=we();a.useEffect(()=>{(async()=>{await U.get("/position/get").then(se=>{Q(se.data)})})()},[]);const D=async v=>{v.preventDefault();try{if(t.trim().length<=0||C.trim().length<=0)f.error("Dogry maglumatyňyzy giriziň!");else{r(!0);const se=await U.post("/user/registration",{login:g,pass:C,surname:ee(I),name:ee(w),mail:t,phoneNumber:x,birthday:E,whereStudy:c,whereLive:M,languages:d,role:"USER",positionId:b}).then(oe=>oe.data?(setTimeout(()=>p("/login"),2e3),f.success("Üstünlikli registrasiýa!"),s(""),l("+993"),A(""),y(""),S(""),m(""),r(!1),F(""),h(""),u(""),T(""),B(N()),o(!1)):"")}}catch(se){f.error(se.message==="Network Error"?"Internet baglanyşygy ýok":se.response.data),r(!1)}};return e.jsx(n,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(n,{width:{lg:"65%",md:"80%",sm:"97",xs:"97%"},height:650,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(i,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:D,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Ady",type:"text",value:w,name:"password",onChange:v=>S(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:I,onChange:v=>y(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:g,onChange:v=>A(v.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(re,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Wezipe"}),e.jsx(ie,{labelId:"simple-select-label",id:"simple-select",value:b,onChange:Z,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:K.map(v=>e.jsx(J,{value:v.id,children:v.name},v.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(fe,{dateAdapter:je,sx:{width:"100%",pt:0},children:e.jsx(Ie,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(le,{label:"Doglan senesi",value:E,format:"DD.MM.YYYY",onChange:v=>B(v),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(L,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:t,onChange:v=>s(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:c,name:"password",onChange:v=>F(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:M,onChange:v=>T(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:x,onChange:v=>l(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(re,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Dili"}),e.jsxs(ie,{labelId:"simple-select-label",id:"simple-select",value:d,onChange:_,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(J,{value:"ENG",children:"ENG"}),e.jsx(J,{value:"RUS",children:"RUS"}),e.jsx(J,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:C,onChange:v=>m(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:v=>m(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:[e.jsx(n,{direction:"row",spacing:2,children:e.jsx(X,{onClick:R,style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},children:"Siziň hasabyňyz barmy? Şu ýere giriň"})}),e.jsx(X,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:k?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Hasaba gir"})]})]})]})})},er="/assets/Logo-DZQxkVEy.png",tr="/assets/login (2)-C6oMrZMN.png",sr="/assets/login (1)-CZfUSTBP.png",nr=()=>{a.useState();const[o,t]=a.useState(""),[s,x]=a.useState(""),[l,g]=a.useState(""),[A,I]=a.useState(!1),[y,w]=a.useState(!1),[S,C]=a.useState(!1),m=()=>{w(u=>!u)},k=u=>{u.preventDefault()};a.useEffect(()=>{g("")},[o,s]);const r=ne(),b=we(),h=async u=>{u.preventDefault();try{if(o.trim().length<=0||s.trim().length<=0)f.error("Dogry maglumatyňyzy giriziň!");else{I(!0);const c=await U.post("/user/login",{login:o,pass:s});if(c.data.status===404)f.error(c.data.message=="Неправелный пароль"?"Login ýada Açar söz nädogry!":c.data.message),I(!1);else{const F=c.data;r(ro(F)),localStorage.setItem("CRM_USER",JSON.stringify(F)),setTimeout(()=>b("/"),500),f.success("Üstünlikli giriş!"),I(!1)}}}catch(c){c.message==="Network Error"?f.error("Internet baglanyşygy ýok"):c.response.status?f.error("Login ýada Açar söz nädogry!"):c.response.data.message,r(io(c.message||"Login failed")),I(!1)}},d=()=>{C(!S)};return e.jsxs($,{children:[e.jsx(Ue,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},children:[e.jsxs(n,{width:"40%",maxHeight:"100vh",backgroundColor:"#3763f5",sx:{display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:[e.jsxs(n,{left:"30px",top:"30px",position:"absolute",width:250,direction:"row",alignItems:"center",children:[e.jsx("img",{src:er,style:{width:"85px",height:"95px"},alt:""}),e.jsx(i,{textAlign:"center",color:"#fff",fontWeight:"500",fontSize:20,ml:-3,fontFamily:"Montserrat",children:"ÄLEM TILSIMAT"})]}),e.jsx("img",{src:tr,style:{width:"100%",height:"49.4vh"},alt:""}),e.jsx(i,{textAlign:"center",color:"#fff",fontWeight:"600",fontSize:65,position:"absolute",top:"45%",left:"3%",fontFamily:"Montserrat",children:"CRM"}),e.jsx("img",{src:sr,style:{width:"100%",height:"49.5vh"},alt:""})]}),S===!1?e.jsx(n,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(n,{width:{lg:"60%",md:"80%",sm:"97",xs:"97%"},height:500,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(i,{mb:"30px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:7.4,children:"Giriş"}),e.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",width:"100%",gap:"40px",alignItems:"center",justifyContent:"center"},children:[e.jsx(L,{id:"outlined-basic",label:"Ady",type:"text",variant:"outlined",autoComplete:"off",name:"username",onChange:u=>t(u.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"}},InputLabelProps:{sx:{color:"#757575"}}}),e.jsx(L,{name:"password",label:"Açar söz",fullWidth:!0,variant:"outlined",type:y?"text":"password",onChange:u=>x(u.target.value),InputProps:{endAdornment:e.jsx(Xn,{position:"end",children:e.jsx(H,{"aria-label":"toggle password visibility",onClick:m,onMouseDown:k,edge:"end",children:y?e.jsx(Zn,{}):e.jsx(qn,{})})})},InputLabelProps:{sx:{color:"#757575"}},sx:{width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"},transition:"all ease-in-out 0.2s","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},backgroundColor:"#fff",height:"60px",color:"#000",outline:"none",boxShadow:"none"}}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",spacing:2,children:[e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(ze,{to:"/",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textAlign:"center"},children:"Paroly dikeltmek"}),e.jsx(X,{to:"/register",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},onClick:d,children:"Hasaba alyş"})]}),e.jsx(X,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:A?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Dowam et"})]})]})]})}):e.jsx(_a,{openModal:d})]})]})},hs="http://192.168.1.46",or=async o=>{const t=await fetch(`${hs}/api/chat/chats/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},ws=async o=>{const t=await fetch(`${hs}/api/chat/users/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},tt=zs(`${hs}:5022`),ar={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},rr=()=>{const[o,t]=a.useState(""),[s,x]=a.useState(""),[l,g]=a.useState(sessionStorage.getItem("userId")),[A,I]=a.useState(null),[y,w]=a.useState(!1);a.useState(null);const S=Number(sessionStorage.getItem("userId")),[C,m]=a.useState([]),[k,r]=a.useState([]),[b,h]=a.useState(null),[d,u]=a.useState(null),[c,F]=a.useState(null),[M,T]=a.useState(null),[E,B]=a.useState([]),K=a.useRef(null);a.useEffect(()=>{(async()=>{const p=await or(S);m(p)})()},[]),console.log(k),a.useEffect(()=>((async()=>{const p=await ws(S);r(p.users),m(p.chats)})(),tt.emit("register",l),tt.on("message",p=>{const{senderId:D,receiverId:v,text:se}=p;B(oe=>[...oe,{senderId:Number(D),receiverId:v,text:se}])}),()=>tt.off("message")),[l]),a.useEffect(()=>{K.current&&K.current.scrollIntoView({behavior:"smooth"})},[E]);const Q=async(R,p)=>{tt.emit("createchat",{senderId:R,receiverId:p});const D=await ws(S);r(D.users),m(D.chats)},Z=R=>{R.preventDefault(),s&&A&&(tt.emit("message",{senderId:l,recipientId:A,message:s,chatId:b,oppositeChatId:M,oppositeSenderId:d,oppositeReceiverId:c}),x(""))},_=(R,p,D)=>{I(R),t(p),Q(D,R),w(!1)};return e.jsx($,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsx(H,{className:"iconIoAdd",onClick:()=>w(!0),children:"+"}),e.jsx("div",{className:"chat-header",children:e.jsxs("h2",{children:["Chat",e.jsx("span",{children:": "+o})]})}),e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{}),e.jsxs("div",{className:"chat-messages",children:[e.jsx("h3",{children:"Messages"}),e.jsxs("ul",{children:[E.map((R,p)=>e.jsx("li",{style:{textAlign:R.senderId===S?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:R.senderId===S?"#D0E7FF":"#D4F8E8"},children:[e.jsx("b",{className:"chat-messages__div-b",children:R.senderId===S?"":o}),e.jsx("span",{className:"chat-messages__div-span",children:R.text})]})},p)),e.jsx("div",{ref:K})]}),e.jsx("div",{className:"chat-input",children:e.jsxs("form",{onSubmit:Z,children:[e.jsx("input",{type:"text",placeholder:"Type a message",value:s,onChange:R=>x(R.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})]}),e.jsx(ae,{open:y,onClose:()=>w(!1),children:e.jsxs($,{sx:ar,children:[e.jsx(i,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:k.map(R=>e.jsx("li",{onClick:()=>_(R.id,R.name,sessionStorage.getItem("userId")),children:R.name},R.id))})})]})})]})})},ir=()=>{const[o,t]=a.useState(!1),[s,x]=a.useState([]),[l,g]=a.useState({}),[A,I]=a.useState({}),[y,w]=a.useState(N()),S=ne(),C=JSON.parse(localStorage.getItem("CRM_USER")),m=we();a.useEffect(()=>{(async()=>{try{t(!0);const u=await U.get("/user/status");x(u.data.messagge)}catch(u){console.error("Error fetching user status:",u)}finally{t(!1)}})()},[]),a.useEffect(()=>{const d=s.reduce((c,F)=>(c[F.id]=F.status,c),{}),u=s.reduce((c,F)=>(c[F.id]=F.role==="MODERATOR",c),{});g(d),I(u)},[s]);const k=a.useCallback(d=>{const u=!l[d];S(ct({userId:d,status:u})),g(F=>({...F,[d]:u}))},[l,S]),r=a.useCallback((d,u)=>{const c={editorId:C.id,userId:d,newRole:u};S(ut(c)),I(F=>({...F,[d]:u==="MODERATOR"}))},[C.id,S]),b=s.filter(d=>d.role!=="ADMIN"&&d.status===!1),h={p:1,textAlign:"center",fontFamily:"DM Sans"};return e.jsxs(n,{backgroundColor:"#fff",width:"80%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"10px 24px 17px",m:"15px 0 10px 15px",children:[e.jsx(i,{textAlign:"center",fontFamily:"DM Sans",mb:2,fontSize:20,children:"Ulanyjylar"}),e.jsx(n,{height:"100%",children:o?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):e.jsx(n,{children:s.length===0?e.jsx(i,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(qe,{sx:{height:"78vh",overflowY:"auto",borderRadius:"20px"},children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",position:"sticky",top:0,zIndex:100,boxShadow:"0px 12px 7px -14px rgba(71,71,71,1)"},children:So.map(d=>e.jsx(V,{sx:{color:"#222222",fontWeight:500,fontFamily:"DM Sans",fontSize:18,textAlign:"center"},children:d.title},d.id))})}),e.jsx(Ne,{children:b.map((d,u)=>e.jsxs(ye,{onClick:()=>m(`/employees/${d.id}?date=${y}`),style:{cursor:"pointer"},children:[e.jsx(V,{sx:h,children:u+1}),e.jsx(V,{sx:h,children:d.name}),e.jsx(V,{sx:h,children:d.surname||"-"}),e.jsx(V,{sx:h,children:e.jsx(Kt,{control:e.jsx(as,{checked:l[d.id]||!1,onChange:()=>k(d.id),color:"primary"}),label:""})}),e.jsx(V,{sx:h,children:e.jsx(Kt,{control:e.jsx(as,{checked:A[d.id]||!1,onChange:()=>r(d.id,A[d.id]?"USER":"MODERATOR"),color:"primary"}),label:""})})]},d.id))})]})})})})]})},lr=()=>{const o=O(w=>w.workTime.data),t=O(w=>w.workTime.status),[s,x]=a.useState(null),[l,g]=a.useState(null),A=ne(),I=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{A(Ht())},[A]),a.useEffect(()=>{t==="succeeded"&&o.length>0&&(x(o[0].startTime),g(o[0].endTime))},[t,o]);const y=()=>{const w={userId:I.id,startTime:s,endTime:l};s!==null&&l!==null?A(Jt(w)):f.error("Wagtlary giriz!")};return e.jsx($,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs(n,{p:1,direction:"row",alignItems:"center",height:"100%",children:[e.jsxs(n,{backgroundColor:"#fff",width:"40%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",children:[e.jsx(i,{textAlign:"center",fontFamily:"DM Sans",mb:2,fontSize:20,children:"Iş wagtyny sazlamak"}),t==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):t==="failed"?f.error("Ýalnyşlyk"):t==="succeeded"?e.jsxs(n,{children:[e.jsx(fe,{dateAdapter:je,children:e.jsxs(n,{direction:"row",spacing:1,children:[e.jsx(fs,{label:"Başlanýan wagty",format:"HH:mm",value:s?N(s,"HH:mm"):null,onChange:w=>{x(w?w.format("HH:mm"):null)},renderInput:w=>e.jsx(L,{...w}),ampm:!1}),e.jsx(fs,{ampm:!1,value:l?N(l,"HH:mm"):null,onChange:w=>{g(w?w.format("HH:mm"):null)},label:"Tamamlanýan wagty",renderInput:w=>e.jsx(L,{...w}),format:"HH:mm"})]})}),e.jsx(X,{variant:"contained",onClick:y,style:{marginTop:"10px",background:"#2F6FD0"},children:"Ýatda sakla"})]}):""]}),e.jsx(ir,{}),e.jsx(Ue,{})]})})},dr=({openModal:o,events:t,setStartDate:s,setEndDate:x})=>{z.locale("tk"),z.updateLocale("tk",{weekdays:Bs.slice(0,7)}),z.updateLocale("tk",{months:Ns});const l=JSON.parse(localStorage.getItem("CRM_USER")),[g,A]=a.useState(z()),[I,y]=a.useState(null);a.useState("");const[w,S]=a.useState(!1),[C,m]=a.useState(null),[k,r]=a.useState("month");N.locale("tk");const b=()=>{let Q,Z;if(k==="month")Q=g.clone().startOf("month").startOf("isoWeek"),Z=g.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(k==="week")Q=g.clone().startOf("isoWeek"),Z=g.clone().endOf("isoWeek").subtract(1,"day");else return[];const _=Q.clone().subtract(1,"day"),R=[];for(;_.isBefore(Z,"day");)R.push(Array(7).fill(0).map(()=>_.add(1,"day").clone()));return R.length===5&&R[4][6].isBefore(Z,"day")&&R.push(Array(7).fill(0).map(()=>_.add(1,"day").clone())),{calendar:R,firstDay:Q.format("YYYY MM DD"),lastDay:Z.format("YYYY MM DD"),endDay:Z,startDay:Q}};a.useEffect(()=>{const{startDay:Q,endDay:Z}=b();s(Q.format("YYYY-MM-DD")),x(Z.format("YYYY-MM-DD"))},[g,k,s,x]);const h=Q=>Q.day()===0,d=Q=>{y(Q),h(Q)||o(Q.format("YYYY-MM-DD"))},u=Q=>t.some(Z=>z(Z.date).isSame(Q,"day")),c=Q=>t.filter(Z=>z(Z.date).isSame(Q,"day")),F=()=>{m(null),S(!w)},M=Q=>{m(N(Q)),A(g.clone().month(Q.month()).date(Q.date()).year(Q.year()))},T=()=>{if(k==="day")return renderDayView();{const Q=b();return e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsx(ye,{children:z.weekdays().map((Z,_)=>e.jsx(V,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,..._===0?{borderTopLeftRadius:"12px"}:"",...z.weekdays().length-1===_?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:Z},_))})}),e.jsx(Ne,{children:Q.calendar.map((Z,_)=>e.jsx(ye,{children:Z.map((R,p)=>e.jsxs(V,{onClick:()=>{d(R)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:h(R)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:R.month()===g.month()?"#474747":"#959494",...R.month()===g.month()?"":{backgroundImage:`url(${Ks})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...z().isSame(R,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%"}},children:R.format("D")}),u(R)&&t.filter(D=>z(D.date).isSame(R,"day")).map((D,v)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:D.color?"#e5dffb":"white",color:R?D.color:"blue",borderLeft:`6px solid ${D.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(i,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:l.role==="USER"?ee(D.note):ee(D.title)}),c(R).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:D.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",c(R).length-1]})]},v))]},p))},_))})]})}},E=()=>{A(g.clone().subtract(1,"month"))},B=()=>{A(g.clone().add(1,"month"))},K=()=>{A(z())};return e.jsxs(n,{p:"10px 15px 5px 15px",children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(X,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",height:"40px"},onClick:K,children:"Şu gün"}),e.jsx(X,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",minHeight:"40px",...w?{backgroundColor:"tomato",color:"#fff","&:hover":{backgroundColor:"tomato"}}:{backgroundColor:"#fff"}},onClick:F,children:w?"X":"Sene"}),e.jsx(Je,{in:w,children:e.jsx(n,{width:"50%",children:e.jsx(fe,{dateAdapter:je,adapterLocale:"tk",children:e.jsx(le,{value:C,onChange:M,format:"DD/MM/YYYY",openTo:"year",views:["year","month","day"],slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"75%",border:"1px solid #ccc"}}}},renderInput:Q=>e.jsx("input",{...Q})})})})})]}),e.jsxs(n,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",ml:-13,children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656"},onClick:E,children:e.jsx(Ms,{sx:{width:18,height:20}})}),e.jsx(i,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:g.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656"},onClick:B,children:e.jsx(Rs,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...k==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"}}:{background:"#fff"}},onClick:()=>r("week"),children:"Hepde"}),e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...k=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>r("month"),children:"Aý"})]})]})]}),T()]})},cr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFhSURBVHgB7ZeNTcNADIUdxAAdIWzQDUg3KBMQJkk7ATAB3QCxQdiAEdiAbnA8S257SXOtnbOqSO2TrIsuce6T7fsjumlCKrQfhhBmaJakV1sUxS95CQBL2F+wqdb+/0753StsRg6SiHZ0TzqV0n7DNkqflo4BntG8oV0gVT9kURTiDxopBoj+w6ktd++06ciSRGATdb2bizYnEr0IsFbnHCoeSKw6BxF/4wIgTvXQFBuCwHMjfY0bgAWCiyp0143GBcACIX3zIZAsACtEAuTzFEBI1FzWFJUFZwHbSle8t6zxftVzKWG1WOkCkQBJASTlslj1QEwALO3eoQJBnh/Qbq2+rsv2GAB3iLGaBIS1JqqQsZ1TNC0pmk1aiJYB6DDPc8UA+0ONNh0vsC/yEQ/+FJ8nVJEQB8tJ26TJF+YjipAyNO7eIbuil2rtuJ10yB6wpgtr8BrIEUEzpzz5XgOvQv8C+jI7OK+spwAAAABJRU5ErkJggg==",ur=()=>{const[o,t]=a.useState(!1),[s,x]=a.useState(!1),[l,g]=a.useState(!1),[A,I]=a.useState(!1),[y,w]=a.useState([]),[S,C]=a.useState("#7551E9"),[m,k]=a.useState(null),[r,b]=a.useState({});a.useState("");const[h,d]=a.useState(""),[u,c]=a.useState(""),[F,M]=a.useState(""),[T,E]=a.useState(""),[B,K]=a.useState(null),[Q,Z]=a.useState(null),[_,R]=a.useState(),[p,D]=a.useState(),[v,se]=a.useState(),[oe,Fe]=a.useState(),[ke,G]=a.useState("");N.locale("tk");const W={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},ge=Is({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}});a.useEffect(()=>{const j=document.querySelector(".MuiTypography-overline");j&&(j.textContent="Your custom text")},[]);const ce=ne(),Se=O(j=>j.project.data);a.useEffect(()=>{ce(Xe())},[ce]);const P=O(j=>j.getWorkDate.adminNotes),be=O(j=>j.getWorkDate.statusAdminNote),Te=O(j=>j.users.status),Ce=O(j=>j.users.data),Ae=_!==void 0?_.HolidayShares&&_.HolidayShares.map(j=>({userId:j.userId,name:j.User.name,surname:j.User.surname})):[],$e=Te==="succeeded"&&Ce.filter(j=>Ae&&!Ae.some(te=>te.userId===j.id));a.useState(Ae);const[Y,de]=a.useState([]),xe=JSON.parse(localStorage.getItem("CRM_USER"));O(j=>j.getWorkDate.data),O(j=>j.getWorkDate.statusMonth),O(j=>j.getWorkDate.employeerTime.employeerTime);const $t=O(j=>j.getWorkDate.adminNote);z.locale("tk"),a.useEffect(()=>{w([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]),a.useEffect(()=>{ce(Re())},[ce]),a.useEffect(()=>{const j={startDate:h,endDate:u};(j.startDate||j.endDate!=="")&&(ce(jt(j)),ce(yt(xe.id)))},[h,u,ce]);const lt=be==="succeeded"?P.reduce((j,te)=>{if(te.note!==null){const me=z(te.date).format("YYYY-MM-DD");j[me]||(j[me]=[]),j[me].push(te)}return j},{}):"",ps=j=>{C(j)},ve=()=>{x(!1),t(!1),I(!1),g(!1),de([]),M(""),E(""),K(),Z(null),k(null),D(),E(""),G("")},$s=j=>{k(j),t(!0)},_s=Ae&&Ae.map(j=>({id:j.userId})),en=[{id:"selectAll",name:"Ählisi",surname:""},...Ce],tn=()=>{Y.map(te=>({id:te.id}));const j={title:F,date:z(Q===null?m:Q).format("YYYY-MM-DD"),dateHour:p,color:S,startDate:h,endDate:u,users:Y};F!==""&&(Q!==null||m)&&p!==void 0?(ce(bt(j)),ve()):f.error("Maglumatlary giriziň!")},sn=()=>{const j={userId:T,authorId:xe.id,content:F,project:ke};F!==""&&T!==""&&ke!==""?(ce(wt(j)),ve()):f.error("Maglumatlary giriziň!")},xs=(j,te)=>{te.some(me=>me.id==="selectAll")?de(Ce):(de(()=>[...te.map(me=>({id:me.id?me.id:me.userId,name:me.name,surname:me.surname}))]),E(te.length>0?te[0].id:null))},nn=j=>{ce(At({id:j,startDate:h,endDate:u}))},on=j=>{const te={id:j,authorId:xe.id};ce(St(te))},an=()=>{const j={noteId:v,content:F,date:z(_&&_.date).format("YYYY-MM-DD"),dateHour:p??z(B).format("HH:mm"),startDate:h,endDate:u,authorId:xe.id,users:Y.length==0?_s:Y,color:S};F!==""&&(Y.length!==0||Ae&&Ae.length!==0)?(ce(kt(j)),ve()):f.error("Maglumatlary giriziň!")},rn=j=>{R(j),I(!0),K(j.date),M(j.title),se(j.id)},ln=()=>{const j={authorId:xe.id,noteId:v,content:F,projectId:ke==""?oe.projectId:ke,userId:T==""?oe.userId:T};F!==""?(ce(Ct(j)),ve()):f.error("Maglumatlary giriziň!")},dn=j=>{Fe(j),g(!0),se(j.id),M(j.content)};return e.jsx($,{height:"100vh",backgroundColor:"#fff",children:e.jsxs(n,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsx(n,{direction:"column",width:"28%",children:e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"97%",sx:{height:"87.5vh"},borderRadius:"20px",alignItems:"center",m:"0px 10px ",p:"20px 10px 10px 20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",children:[e.jsxs(X,{sx:{color:"#fff",background:"#DC6262",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px",fontWeight:600,"&:hover":{background:"#9FC2A5"}},onClick:()=>t(!0),children:[e.jsx(Kn,{})," Duýduryş goşmak"]}),e.jsxs(X,{sx:{color:"#fff",background:"#90BAEB",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px","&:hover":{background:"#9FC2A5"},gap:"10px",fontWeight:600},onClick:()=>x(!0),children:[e.jsx("img",{style:{width:20,height:20},src:cr,alt:"check"})," ","Bellik goşmak"]}),be==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):be==="failed"?e.jsx(i,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):be==="succeeded"?P.length===0&&$t.length==0?e.jsx(i,{pt:4,children:"Bellik ýok"}):e.jsxs(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:[e.jsxs(n,{children:[e.jsx(i,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,children:"Duýduryşlar"}),e.jsx(We,{sx:{width:"100%",mb:2}}),Object.keys(lt).length===0?e.jsx(i,{mb:3,textAlign:"center",children:"Duýduryş ýok"}):Object.keys(lt).map((j,te)=>e.jsxs(Ys,{children:[e.jsx(Ts,{expandIcon:e.jsx(Es,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:z(j).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:lt[j].length})]})}),e.jsx(Ws,{sx:{padding:0},children:lt[j].map(me=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",minWidth:35,minHeight:35,backgroundColor:me.color}),e.jsxs(n,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:ee(me.title)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:z(me.date).format("DD.MM.YYYY  HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>rn(me),sx:{mr:-1},children:e.jsx(is,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>nn(me.id),children:e.jsx("img",{style:{width:24,height:24},src:Ye,alt:""})})]})]},me.id),e.jsx(We,{sx:{width:"100%"}})]}))})]},te))]}),e.jsxs(n,{children:[e.jsx(i,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Bellikler"}),e.jsx(We,{sx:{width:"100%",mb:1}}),$t.length==0?e.jsx(i,{mb:3,textAlign:"center",children:"Bellik ýok"}):$t.map(j=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{borderRadius:"5px"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"5px",mb:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx($n,{sx:{color:"#90BAEB"}})}),e.jsxs(n,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,fontFamily:"Montserrat",children:ee(j.content)}),e.jsx(i,{fontSize:15,fontWeight:600,fontFamily:"Montserrat",color:"#90BAEB",children:ee(j.projectId)}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,justifyContent:"space-between",children:[e.jsx(i,{color:"#797a7c",fontSize:15,fontWeight:500,children:Ce.find(te=>te.id===j.userId)?`${ee(Ce.find(te=>te.id===j.userId).name)} ${ee(Ce.find(te=>te.id===j.userId).surname)}`:""}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:z(j.createdAt).format("DD.MM.YYYY ")})]})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>dn(j),sx:{mr:-1},children:e.jsx(is,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>on(j.id),children:e.jsx("img",{style:{width:24,height:24},src:Ye,alt:""})})]})]},j.id),e.jsx(We,{sx:{width:"100%"}})]}))]})]}):"",e.jsx(ae,{closeAfterTransition:!0,open:s,onClose:ve,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Je,{in:s,children:e.jsxs($,{sx:ls,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:ve,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(De,{id:"combo-box-demo",options:Se,getOptionLabel:j=>`${ee(j.name)} `,onChange:(j,te)=>G(te.name),renderInput:j=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...j,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärleri"}),e.jsx(De,{id:"combo-box-demo",options:Ce,getOptionLabel:j=>`${ee(j.name)} ${ee(j.surname==null?"":j.surname)}`,onChange:(j,te)=>E(te.id),filterSelectedOptions:!0,renderInput:j=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...j,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(L,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:j=>M(j.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:sn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(ae,{closeAfterTransition:!0,open:l,onClose:ve,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Je,{in:l,children:e.jsxs($,{sx:ls,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:ve,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(De,{id:"combo-box-demo",options:Se,value:Se.find(j=>j.name===(oe?oe.projectId:""))||null,getOptionLabel:j=>`${ee(j.name)}`,onChange:(j,te)=>{G(te?te.name:"")},renderInput:j=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...j,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(De,{id:"combo-box-demo",options:Ce,value:Ce.find(j=>j.id===(oe?oe.userId:""))||null,getOptionLabel:j=>`${ee(j.name)} ${ee(j.surname==null?"":j.surname)}`,onChange:(j,te)=>E(te.id),renderInput:j=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...j,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(L,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",value:F,onChange:j=>M(j.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:ln,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(ae,{closeAfterTransition:!0,open:o,onClose:ve,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Je,{in:o,children:e.jsx($,{sx:bs,children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:ve,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş"}),e.jsx(L,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:j=>M(j.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsx(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",children:e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(De,{id:"combo-box-demo",multiple:!0,value:Y,options:en,isOptionEqualToValue:(j,te)=>j.id===te.id,getOptionLabel:j=>`${ee(j.name)} ${ee(j.surname==null?"":j.surname)}`,onChange:xs,filterSelectedOptions:!0,renderInput:j=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...j,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})}),e.jsx(n,{direction:"row",children:e.jsx(fe,{dateAdapter:je,adapterLocale:"tk",localeText:W,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(le,{disabled:N(m,"YYYY-MM-DD").isValid(),value:N(m,"YYYY-MM-DD").isValid()?N(m,"YYYY-MM-DD"):null,onChange:j=>{Z(j?N(j).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(os,{theme:ge,children:e.jsx(js,{ampm:!1,onChange:j=>{D(j?j.format("HH:mm"):null)},DialogProps:{sx:{".MuiTypography-root":{display:"none"}}},format:"HH:mm",slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"20px",pt:"8px",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:y.map((j,te)=>e.jsx(n,{onClick:()=>ps(j.color),style:{backgroundColor:j.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:S===j.color?e.jsx(st,{}):""},te))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:tn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})}),e.jsx(ae,{closeAfterTransition:!0,open:A,onClose:ve,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Je,{in:A,children:e.jsx($,{sx:bs,height:"565px",children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:ve,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş"}),e.jsx(L,{fullWidth:!0,value:F,placeholder:"Tekst",type:"text",name:"Tekst",onChange:j=>M(j.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsxs(n,{direction:"column",mt:2,width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(De,{id:"combo-box-demo",options:$e,multiple:!0,defaultValue:Ae,filterSelectedOptions:!0,getOptionLabel:j=>`${ee(j.name)} ${ee(j.surname==null?"":j.surname)}`,onChange:xs,sx:{width:"100%"},renderInput:j=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...j,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsx(n,{width:"100%",direction:"row",children:e.jsx(fe,{dateAdapter:je,localeText:W,adapterLocale:"tk",children:e.jsx(Ie,{components:["MobileTimePicker","DatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(le,{fullWidth:!0,defaultValue:N(B).isValid()?N(B):null,onChange:j=>{R(j?N(j).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(os,{theme:ge,children:e.jsx(js,{ampm:!1,defaultValue:N(B).isValid()?N(B):null,onChange:j=>{D(j?N(j).format("HH:mm"):null)},views:["hours","minutes"],format:"HH:mm",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"40px",width:"100%",pt:"8px",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:y.map((j,te)=>e.jsx(n,{onClick:()=>ps(j.color),style:{backgroundColor:j.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:S===j.color?e.jsx(st,{}):""},te))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:()=>an(),sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})})]})}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(dr,{openModal:$s,color:S,events:P,setEvents:b,setStartDate:j=>d(j),setEndDate:j=>c(j)})})]})})},hr=()=>{const[o,t]=a.useState(!1),[s,x]=a.useState(!1),[l,g]=a.useState(),A=()=>t(!0),I=()=>t(!1),y=u=>{g(u),x(!0)},w=()=>x(!1),S=ne(),C=O(u=>u.standarts.status),m=O(u=>u.standarts.error),k=O(u=>u.standarts.data),r=JSON.parse(localStorage.getItem("CRM_USER")),b=O(u=>u.users.data);k.filter(u=>(u.users&&u.users.length)===b.length);const h=k.filter(u=>(u.users&&u.users.length)!==b.length);a.useEffect(()=>{r.role==="ADMIN"?S(at(r.id)):S(et(r.id))},[S]);const d=u=>{const c={laborId:u,userId:r.id};S(rt(c))};return e.jsxs($,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(Ue,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(i,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama (Aýratyn)"}),r.role==="USER"?"":e.jsxs(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#E7E7FB","&:hover":{background:"#E7E7FB"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:A,children:[e.jsx(Ge,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(qs,{open:o,userId:r.id,handleClose:I})]}),e.jsx(n,{children:C==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):C==="failed"?f.error(m):C==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:h.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(Ve,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:h.map((u,c)=>e.jsx(Ve,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...u.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(i,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[u.title,u.users&&u.users.length===b.length?e.jsx(X,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...c==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):u.users.map((F,M)=>e.jsxs(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#D9E8FF","&:hover":{background:"#D9E8FF"},gap:"10px",height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...M==0?{ml:3}:{ml:1}},variant:"outlined",children:[F.name," ",F.surname]},M))]}),r.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>y(u),children:e.jsx(Qe,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>d(u.id),children:e.jsx("img",{style:{width:20,height:20},src:Ye,alt:""})}),e.jsx(cs,{data:l,openUpdate:s,handleClose:w,userId:r.id})]})]}),e.jsx(i,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:u.description})]})})},c))})})})}):""})]})};function pr(){const o=({children:s})=>localStorage.getItem("CRM_USER")?s:e.jsx(no,{to:"/login",replace:!0});JSON.parse(localStorage.getItem("CRM_USER"));const t=hn([{path:"/login",element:e.jsx(nr,{})},{path:"/",element:e.jsx(o,{children:e.jsx($o,{})}),children:[{path:"/",element:e.jsx(Va,{})},{path:"/calendar",element:e.jsx(ur,{})},{path:"/document",element:e.jsx($a,{})},{path:"/account",element:e.jsx(ea,{})},{path:"/standarts/all",element:e.jsx(Da,{})},{path:"/standarts/specific",element:e.jsx(hr,{})},{path:"/employees",element:e.jsx(Zs,{})},{path:"/employees/:id",element:e.jsx(La,{})},{path:"/settings",element:e.jsx(lr,{})},{path:"/employees/regulating",element:e.jsx(rr,{})},{path:"/projects",element:e.jsx(ua,{})},{path:"/chat",element:e.jsx(Za,{})},{path:"/projects/:id",element:e.jsx(Oa,{})}]}]);return e.jsx(pn,{router:t,style:{minHeight:"100vh"}})}un.createRoot(document.getElementById("root")).render(e.jsx(xn,{store:Vo,children:e.jsx(pr,{})}));
