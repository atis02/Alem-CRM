import{j as e,r as a,a as Ms}from"./react-B0OKq8Xu.js";import{c as Fs}from"./react-dom-D2-KJPGz.js";import{L as Qe,N as Ce,u as Ht,c as Rs,R as Ys}from"./react-router-dom-GuJ_fm2G.js";import{d as J}from"./dayjs-Bb8SzNae.js";import{u as L,a as se,P as Ts}from"./react-redux-rmy2K5WC.js";import{c as G,a as Ee,b as Bs}from"./@reduxjs-BJllBblM.js";import{a as Es}from"./axios-dxcvQi4N.js";import{B as A,Q as Je}from"./react-toastify-CYrmCIbm.js";import{h as D}from"./moment-BBUzgFYe.js";import{s as Ws,T as pe,d as Ut,a as Ns,B as vt,b as Us,c as Ps,e as zs,f as Os,g as Vt,h as Qs,i as Gt,j as Ls,u as Xt,k as qt,l as Z,m as Q,S as o,I as V,n as Js,A as It,o as i,p as Hs,D as Vs,q as H,r as Gs,t as Xs,v as qs,w as Zs,x as Ks,K as Zt,y as Bt,z as $s,F as oe,C as ne,M as O,L as be,E as ye,G as ce,H as je,J as _s,N as fe,O as Ae,P as Ie,Q as le,R as Be,U as Kt,V as Pt,W as eo,X as to,Y as so,Z as He,_ as ve,$ as Me,a0 as W,a1 as Fe,a2 as $t,a3 as _t,a4 as oo,a5 as no,a6 as Se,a7 as ao,a8 as ro,a9 as io,aa as es,ab as lo,ac as ts,ad as ss,ae as os,af as ns,ag as Yt,ah as co,ai as Pe,aj as zt,ak as Xe,al as ho,am as uo,an as xo,ao as po,ap as go}from"./@mui-Bgn1pu95.js";import{M as as,a as Te,S as mo,s as fo,b as jo}from"./react-pro-sidebar-DhQ79XNF.js";import{e as we,d as Ao,O as bo,f as Ke,g as yo}from"./react-router-CkATEz_a.js";import{l as rs}from"./socket.io-client-BGdex47s.js";import"./@babel-DrIKgUKZ.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-B_55oQtr.js";import"./use-sync-external-store-QyHBrYHN.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./clsx-B-dksMZM.js";import"./react-is-DcfIKM1A.js";import"./react-transition-group-DQq84UF_.js";import"./dom-helpers-D0mFdbeO.js";import"./@emotion-DXLPp8Do.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-FDnFs_-n.js";import"./prop-types-nOHf_6yI.js";import"./@popperjs-BQBsAJpH.js";import"./engine.io-client-BY_6WtMP.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))x(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const I of h.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&x(I)}).observe(document,{childList:!0,subtree:!0});function n(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function x(c){if(c.ep)return;c.ep=!0;const h=n(c);fetch(c.href,h)}})();const wo="http://192.168.1.46:5022/api/",R=Es.create({baseURL:wo}),Co={loading:!1,isAuth:!1,user:null,error:null};G("login",async s=>{try{const t=await R.post("/user/login",s),n=t.data&&t.data.token,x=t.data;return localStorage.setItem("token",JSON.stringify(n)),x}catch{response.data.message==="error client request"?A.error("Ulanyjy tapylmady!"):A.error(response.data.message)}});G("register",async s=>{try{const t=await R.post("/user/registration",s);A.success(t.data.message==="Registration seccseful"?"Üstünlikli":t.message)}catch{A.error(response.data.message)}});const is=Ee({name:"auth",initialState:Co,reducers:{loginStart:s=>{s.loading=!0,s.error=null},loginSuccess:(s,t)=>{s.isAuthenticated=!0,s.user=t.payload,s.loading=!1},loginFailure:(s,t)=>{s.loading=!1,s.error=t.payload},logout:s=>{s.isAuthenticated=!1,s.token=null,s.user=null,s.loading=!1},registerStart:s=>{s.loading=!0,s.error=null},registerSuccess:(s,t)=>{s.isAuthenticated=!0,s.token=t.payload.token,s.user=t.payload.user,s.loading=!1},registerFailure:(s,t)=>{s.loading=!1,s.error=t.payload}}}),{loginStart:za,loginSuccess:So,loginFailure:ko,logout:Do,registerStart:Oa,registerSuccess:Qa,registerFailure:La}=is.actions,Io=is.reducer,vo={updated:!1,data:[],status:"idle",error:null,loading:!1},_e=G("updateImg",async s=>{const t=await R.patch("/user/updata/img",s);return t.data?A.success("Üstünlikli döredildi!"):A.error("Şowsuz!"),localStorage.setItem("CRM_USER",JSON.stringify(t.data)),t.data}),Mo=Ee({name:"userImg",initialState:vo,reducers:{},extraReducers:s=>{s.addCase(_e.pending,t=>{t.status="loading..."}).addCase(_e.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload,t.updated=!0}).addCase(_e.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message})}}),Fo=Mo.reducer,Ro={data:[],status:"idle",error:null,loading:!1},ze=G("getUsers",async()=>{const s=JSON.parse(localStorage.getItem("token"));return(await R.get("/user/users",{headers:{Authorization:`Bearer ${s}`}})).data}),Mt=G("updateImg",async s=>{const t=await R.post("/user/updata-img",s);return t.data.message=="User profil photo updated successfully"?A.success("Üstünlikli döredildi!"):A.error("Şowsuz!"),t}),Yo=Ee({name:"users",initialState:Ro,reducers:{},extraReducers:s=>{s.addCase(ze.pending,t=>{t.status="loading..."}).addCase(ze.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(ze.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(Mt.pending,t=>{t.status="loading..."}).addCase(Mt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(Mt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message})}}),To=Yo.reducer,Bo={employeerTime:[],data:[],adminNotes:[],adminNote:[],status:"idle",statusAdminNote:"idle",statusMonth:"idle",errorAdminNote:"idle",error:null,errorMonth:null,loading:!1,setIsCame:JSON.parse(localStorage.getItem("iscame"))},qe=G("getUserMonthWorkTime",async s=>{const t=await R.get(`/time/work/user?userId=${s.userId}&date=${s.date}`);return t.data.status===404&&A.error(t.data.message),t.data}),et=G("getUserDayWorkTime",async s=>{const t=await R.get(`time/for/day?userId=${s.userId}&date=${s.date}`);return t.data.status===404&&A.error(t.data.message),t.data}),tt=G("postComeTime",async s=>{const t={userId:s.userId,comeStatus:s.comeStatus};return(await R.post("/time/come",t)).data.messagge=="Saved come time work"?A.success("Üstünlikli!"):A.error("Şowsuz!"),(await R.get(`time/for/day?userId=${s.userId}&date=${s.userGetTime.date}`)).data}),st=G("postLeaveTime",async s=>{const t={userId:s.userId,leaveStatus:s.leaveStatus};return(await R.post("/time/leave",t)).data.status==200?A.success("Üstünlikli!"):A.error("Şowsuz!"),(await R.get(`time/for/day?userId=${s.userId}&date=${s.userGetTime.date}`)).data}),ot=G("noteUser",async s=>{const t={id:s.id,note:s.note,color:s.color};(await R.patch("/time/updata/note",t)).data.message==" Note updated successfully "?A.success("Üstünlikli!"):A.error("Şowsuz!");const c={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:D().format("YYYY-MM-DD")},h=await R.get(`time/work/user?userId=${c.userId}&date=${c.date}`);return h.data.status===404&&A.error(h.data.message),h.data}),nt=G("noteUpdate",async s=>{const t={id:s.id,note:s.note,color:s.color};(await R.patch("/time/updata/note",t)).data.message==" Note updated successfully "?A.success("Üstünlikli!"):A.error("Şowsuz!");const c={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:D().format("YYYY-MM-DD")},h=await R.get(`time/work/user?userId=${c.userId}&date=${c.date}`);return h.data.status===404&&A.error(h.data.message),h.data}),at=G("getAdminNotes",async s=>{const t=await R.get(`/holidays/get/share?startDate=${s.startDate}&endDate=${s.endDate}&userId=${s.userId}`);return t.data.status===404&&A.error(t.data.message),t.data}),rt=G("adminNotesOfMonth",async s=>{const t=await R.get(`/holidays/get?startDate=${s.startDate}&endDate=${s.endDate}`);return t.data.status===404&&A.error(t.data.message),t.data}),it=G("postAdminNote",async s=>{const t={title:s.title,date:new Date(`${s.date} ${s.dateHour}`).toJSON(),color:s.color,users:s.users};t.title!==""&&t.date!==null&&t.users.length!==0?(await R.post("/holidays/post",t)).data=="OK"?A.success("Üstünlikli!"):A.error("Şowsuz!"):A.error("Maglumatlary giriziň");const n=await R.get(`/holidays/get?startDate=${s.startDate}&endDate=${s.endDate}`);return n.data.status===404&&A.error(n.data.message),n.data}),lt=G("getAdminNoteForProject",async s=>{const t=await R.get(`/note/my/sent/notes?userId=${s}`);return t.data.status===404&&A.error(t.data.message),t.data}),dt=G("postAdminNotes",async s=>{s.content!==""&&s.userId!==""?(await R.post("/note/create",s)).data.message=="OK"?A.success("Üstünlikli!"):A.error("Şowsuz!"):A.error("Maglumatlary giriziň");const t=await R.get(`/note/my/sent/notes?userId=${s.authorId}`);return t.data.status===404&&A.error(t.data.message),t.data}),ct=G("updateAdminNote",async s=>{s.content!==""&&s.userId!==""?(await R.patch("/note/updata",s)).data.message=="Successfully"?A.success("Üstünlikli!"):A.error("Şowsuz!"):A.error("Maglumatlary giriziň");const t=await R.get(`/note/my/sent/notes?userId=${s.authorId}`);return t.data.status===404&&A.error(t.data.message),t.data}),ht=G("deleteAdminNote",async s=>{(await R.delete(`/holidays/remove?id=${s.id}`)).data=="OK"?A.success("Üstünlikli!"):A.error("Şowsuz!");const n=await R.get(`/holidays/get?startDate=${s.startDate}&endDate=${s.endDate}`);return n.data.status===404&&A.error(n.data.message),n.data}),ut=G("deleteAdminNotes",async s=>{(await R.delete(`/note/delete?authorId=${s.authorId}&noteId=${s.id}`)).data.message=="Successfully"?A.success("Üstünlikli!"):A.error("Şowsuz!");const n=await R.get(`/note/my/sent/notes?userId=${s.authorId}`);return n.data.status===404&&A.error(n.data.message),n.data}),xt=G("updateAdminNotes",async s=>{const t={holidayId:s.noteId,title:s.content,date:new Date(`${s.date} ${s.dateHour}`).toJSON(),color:s.color,users:s.users};(await R.put("/holidays/updata",t)).data.msg=="OK"?A.success("Üstünlikli!"):A.error("Şowsuz!");const x=await R.get(`holidays/get?startDate=${s.startDate}&endDate=${s.endDate}`);return x.data.status===404&&A.error(x.data.message),x.data}),pt=G("getUserNoteForProject",async s=>{const t=await R.get(`/note/received/notes?userId=${s}`);return t.data.status===404&&A.error(t.data.message),t.data}),gt=G("deleteUserNote",async s=>{(await R.delete(`/time/remove/note?id=${s.id}&userId=${s.userId}`)).data.msg=="Successfully"?A.success("Üstünlikli!"):A.error("Şowsuz!"),s.id,D().format("YYYY-MM-DD");const n=await R.get(`/time/work/user?userId=${s.userId}&date=${s.date}`);return n.data.status===404&&A.error(n.data.message),n.data}),Eo=G("postUserStatus",async({body:s,data:t})=>{if((await R.patch("/user/updata/status",t)).data.status===200){const x=await R.get(`/time/work/user?userId=${s.userId}&date=${s.date}`);return x.data.status===404&&A.error(x.data.message),x.data}else A.error("Ýalňyşlyk!")}),Wo=Ee({name:"WorkTimes",initialState:Bo,reducers:{},extraReducers:s=>{s.addCase(qe.pending,t=>{t.statusMonth="loading..."}).addCase(qe.fulfilled,(t,n)=>{t.statusMonth="succeeded",t.employeerTime=n.payload}).addCase(qe.rejected,(t,n)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=n.error.message}).addCase(at.pending,t=>{t.statusAdminNote="loading..."}).addCase(at.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNotes=n.payload}).addCase(at.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(rt.pending,t=>{t.statusAdminNote="loading..."}).addCase(rt.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNotes=n.payload}).addCase(rt.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(it.pending,t=>{t.statusAdminNote="loading..."}).addCase(it.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNotes=n.payload}).addCase(it.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(dt.pending,t=>{t.statusAdminNote="loading..."}).addCase(dt.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNote=n.payload}).addCase(dt.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(ct.pending,t=>{t.statusAdminNote="loading..."}).addCase(ct.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNote=n.payload}).addCase(ct.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(lt.pending,t=>{t.statusAdminNote="loading..."}).addCase(lt.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNote=n.payload}).addCase(lt.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(pt.pending,t=>{t.statusAdminNote="loading..."}).addCase(pt.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNote=n.payload}).addCase(pt.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(ut.pending,t=>{t.statusAdminNote="loading..."}).addCase(ut.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNote=n.payload}).addCase(ut.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(xt.pending,t=>{t.statusAdminNote="loading..."}).addCase(xt.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNotes=n.payload}).addCase(xt.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(ht.pending,t=>{t.statusAdminNote="loading..."}).addCase(ht.fulfilled,(t,n)=>{t.statusAdminNote="succeeded",t.adminNotes=n.payload}).addCase(ht.rejected,(t,n)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=n.error.message}).addCase(ot.pending,t=>{t.status="loading..."}).addCase(ot.fulfilled,(t,n)=>{t.status="succeeded",t.employeerTime=n.payload}).addCase(ot.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(gt.pending,t=>{t.status="loading..."}).addCase(gt.fulfilled,(t,n)=>{t.status="succeeded",t.employeerTime=n.payload}).addCase(gt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(nt.pending,t=>{t.status="loading..."}).addCase(nt.fulfilled,(t,n)=>{t.status="succeeded",t.employeerTime=n.payload}).addCase(nt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(et.pending,t=>{t.status="loading..."}).addCase(et.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(et.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(tt.pending,t=>{t.status="loading..."}).addCase(tt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload,t.setIsCame=localStorage.setItem("iscame",!1)}).addCase(tt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(st.pending,t=>{t.status="loading..."}).addCase(st.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload,t.setIsCame=localStorage.setItem("iscame",!0)}).addCase(st.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message})}}),No=Wo.reducer,ls=["Düşenbe","Sişenbe","Çarşenbe","Penşenbe","Anna","Şenbe","Ýekşenbe"],ds=["Ýanwar","Fewral","Mart","Aprel","Maý","Iýun","Iýul","Awgust","Sentýabr","Oktýabr","Noýabr","Dekabr"],cs=JSON.parse(localStorage.getItem("CRM_USER"));function q(s){return s&&s.charAt(0).toUpperCase()+s.substring(1).toLowerCase()}const Ft=[{name:"Arzan Al",id:1},{name:"Alem CRM",id:2},{name:"HMDU",id:3},{name:"Rysgal Market",id:4}],Uo={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"10px 30px ",height:"575px"},Ot={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px ",height:"575px",overflow:"scroll","&::-webkit-scrollbar":{display:"none"}},Tt={position:"absolute",top:"20%",left:"30%",transform:"translate(-50%, -50%)",width:635,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px",height:"350px"},Po=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:5,title:"Gelen wagty"},{id:6,title:"Giden wagty"},{id:7,title:"Gijä galan sagady"},{id:8,title:"Bellik"}],zo=[{id:1,title:"Sene"},{id:2,title:"Gelen wagty"},{id:3,title:"Giden wagty"},{id:4,title:"Işlän sagady"},{id:5,title:"Gijä galan sagady"},{id:6,title:"Bellik"}],Oo=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"}],Qo=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],hs=[{id:1,title:"Proýekt"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"}],$e=Ws(pe)(({theme:s})=>({fontFamily:"DM Sans, sans-serif","&:nth-of-type(odd)":{backgroundColor:"#f9fafc"},"&:hover":{backgroundColor:"#f9fafc"}})),Lo={data:[],status:"idle",error:null,loading:!1,uploadProgress:0},mt=G("getPDF",async s=>{const t=await R.get(`/pdf/get/files?userId=${s}`);return t.data.status===404&&A.error(t.data.message),t.data}),ft=G("createPdf",async(s,{rejectWithValue:t,dispatch:n})=>{var x;try{const c=await R.post("/pdf/upload/file",s,{headers:{"Content-Type":"multipart/form-data"},maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:h=>{const I=Math.round(h.loaded*100/h.total);n(Jo(I))}});if(c.status===200)return A.success("Üstünlikli!"),(await R.get(`/pdf/get/files?userId=${cs.id}`)).data;c.data.status===404&&A.error(c.data.message)}catch(c){return A.error("Ýalňyşlyk!"),t(((x=c.response)==null?void 0:x.data)||c.message)}}),jt=G("deletePdf",async s=>{const t=await R.post("/pdf/delete",s);t.status===200&&A.success("Üstünlikli!"),t.data.status===404&&A.error(t.data.message);const n=await R.get(`/pdf/get/files?userId=${cs.id}`);return n.data.status===404&&A.error(n.data.message),n.data}),us=Ee({name:"postPdf",initialState:Lo,reducers:{updateUploadProgress:(s,t)=>{s.uploadProgress=t.payload},resetUploadProgress:s=>{s.uploadProgress=0}},extraReducers:s=>{s.addCase(ft.pending,t=>{t.status="loading..."}).addCase(ft.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload,t.uploadProgress=0}).addCase(ft.rejected,(t,n)=>{t.status="failed",t.error=n.error.message}).addCase(mt.pending,t=>{t.status="loading..."}).addCase(mt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(mt.rejected,(t,n)=>{t.status="failed",t.error=n.error.message}).addCase(jt.pending,t=>{t.status="loading..."}).addCase(jt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(jt.rejected,(t,n)=>{t.status="failed",t.error=n.error.message})}}),{updateUploadProgress:Jo,resetUploadProgress:Ja}=us.actions,Ho=us.reducer,Vo={data:[],status:"idle",error:null,loading:!1},At=G("getWorkTimeForDay",async s=>(await R.get(`/user/get/users?date=${s}`)).data),Go=Ee({name:"getWorkTime",initialState:Vo,reducers:{},extraReducers:s=>{s.addCase(At.pending,t=>{t.status="loading..."}).addCase(At.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(At.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message})}}),Xo=Go.reducer,qo={data:[],status:"idle",error:null,loading:!1},Oe=G("getProjects",async()=>(await R.get("/project/get")).data.data),Ze=G("getProjectForUser",async s=>(await R.get(`/project/get/user/projects?userId=${s}`)).data.data),bt=G("postNewProject",async s=>((await R.post("/project/create",s)).data?A.success("Üstünlikli!"):A.error("Şowsuz!"),(await R.get("/project/get")).data.data)),yt=G("updateProject",async s=>((await R.put("/project/updata/project",s)).data?A.success("Üstünlikli!"):A.error("Şowsuz!"),(await R.get("/project/get")).data.data)),wt=G("deleteProject",async s=>{if((await R.delete(`/project/delete/project?projectId=${s.projectId}&responsibleUserId=${s.responsibleUserId}`)).data.message=="Project remove successfully")return A.success("Üstünlikli!"),(await R.get("/project/get")).data.data;A.error("Ýalňyşlyk!")}),Zo=Ee({name:"project",initialState:qo,reducers:{},extraReducers:s=>{s.addCase(Oe.pending,t=>{t.status="loading..."}).addCase(Oe.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(Oe.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(Ze.pending,t=>{t.status="loading..."}).addCase(Ze.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(Ze.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(bt.pending,t=>{t.status="loading..."}).addCase(bt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(bt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(yt.pending,t=>{t.status="loading..."}).addCase(yt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(yt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(wt.pending,t=>{t.status="loading..."}).addCase(wt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(wt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message})}}),Ko=Zo.reducer,$o={data:[],status:"idle",error:null,loading:!1},Ct=G("getProjectDetail",async s=>[(await R.get(`/project/id/get?projectId=${s}`)).data.data]),Rt=G("getProjectForUser",async s=>[(await R.get(`/project/get/user/projects?userId=${s}`)).data.data]),St=G("updateTask",async({body:s,projectID:t})=>((await R.put("/project/updata/task",s)).data?A.success("Üstünlikli!"):A.error("Şowsuz!"),[(await R.get(`/project/id/get?projectId=${t}`)).data.data])),kt=G("deleteProjectTask",async({body:s,age:t})=>{if((await R.delete(`/project/delete/task?projectId=${s.projectId}&taskId=${s.taskId}&responsibleUserId=${s.responsibleUserId}`)).data.message=="Task remove successfully")return A.success("Üstünlikli!"),[(await R.get(`/project/id/get?projectId=${t}`)).data.data];A.error("Ýalňyşlyk!")}),Dt=G("addNewTask",async({body:s,projectID:t})=>((await R.post("/project/add/task/existing/project",s)).data.message==="Task created"?A.success("Üstünlikli!"):A.error("Şowsuz!"),[(await R.get(`/project/id/get?projectId=${t}`)).data.data])),_o=Ee({name:"project",initialState:$o,reducers:{},extraReducers:s=>{s.addCase(Ct.pending,t=>{t.status="loading..."}).addCase(Ct.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(Ct.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(Rt.pending,t=>{t.status="loading..."}).addCase(Rt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(Rt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(Dt.pending,t=>{t.status="loading..."}).addCase(Dt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(Dt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(St.pending,t=>{t.status="loading..."}).addCase(St.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(St.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message}).addCase(kt.pending,t=>{t.status="loading..."}).addCase(kt.fulfilled,(t,n)=>{t.status="succeeded",t.data=n.payload}).addCase(kt.rejected,(t,n)=>{t.loading=!1,t.status="failed",t.error=n.error.message})}}),en=_o.reducer,tn=Bs({reducer:{auth:Io,imgAccount:Fo,users:To,getWorkDate:No,uploadPDf:Ho,getWorkTime:Xo,project:Ko,projectDetail:en}}),sn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPvSURBVHgB7ZpNctowFMffk/PRJTcoOUGSCxA4QcmyoZ3GSafbpCcI3KCsOtM2YzJt0mWSExh6gaYnqI/AsjC11CdjG5FpQDJWCIx/C8aYZ4m/9CQ9PRmgoKCgoODpgmCZT/7ljgNYZY7YBoFVulWiWkvRjwL69BEAYsBD6IUguu9qjTuwiBXBnu+VgG2cUPF1qmHH6GEBAeeidVxrdMACuQs+97+dMsbO0l7Mzo1bOdiHnFmDnKBeLYOz6dFl9d5PfQFwi4BdcPgdDIeBW3P78TMlWHu2A4KXyaZONnsAUUMFEA5cpeyRx2A0JEblC3HHObRNPSGXHvZonALDayqtrNwOOECbhYNOInB2OSTM2ahDyLpu7WUQ3ysD2/TvlT2GhgDwQY3qCDSqmF9wLNZXXVgI0UY+bOoKnVp+7+r3g2LTCiPRuzr1zeXSo9aPejYR2ye32z+qHHQhB6gxD2eKlZANZxundNWcZTrfGJ50NRp3WEtcMRcYnuibRuN/th1kxOtdnk20fij2cxUrMVvSqjpGmQRHrozYHN/h713LAUNeZBIs2HpT+Rq4lVcfwA5dbUsErQbPJBiBpeOFg2iBJbgQPQPbto6dseDP/teqOlEdV+yEgBLGh9JzAg1T7f9hLNhhrJ5c03p7CxaJ1lWa+WG66CC20cJYMCJup9eM3YBl5MxPMfUWNa8rQPxK7lMo2qMWb1EIumuyOhivw1TpFiYB2l8+dySlizty2Q7MiXkPAz5P/8SSLEUqmQOPRfORYoFzGXoaktv28DHxflwJ5WsHDFjaHs5KIXjVKQSvOoXgVacQvOoYCY5SO0+MKJdtgJFgNbVjey88g25yEadntTESPJHaQezAogjDNK3EEE5Mellb8L2kePC2cmB98/8Qbu11F2TSPwJL3Fk/1H1Wv4eVpLjNxJ0uatKOAXuh+5yW4Oj8SEmKMzrsggUTJ/iSjEvVk8lFned0jAQTysSAndxPGDIgE3w0cV4k34WSXJyGlmBExWVCrpX/fQyQ83QeQYQ3Os+YZzwc/EkZB1hWtHpYN6u/SISACx07LcFyghAj0Y+WljWgL/PTR3sNrQDE2mtL573LJp3Znslr2Viz/pBqTx7VOt5rNMEC1jYPFAEFybV6WvGw/fhAWyBay3fb2y2FQzUSm7pOfvGv5JKS/u6ESyh4tE4qE4nDrmNhE8jTSIeBN75jd523mohHPjgFZ1O6alnGvI4D17SkdeW5L00epdjVq8ojdBIIVsNW6+9aev73MjjCB5j5Nk7+L8X8B+sZj0gACZm+TtJW0/DYMyvWe1gl7u0dculoI8KQUWP8ucnjBbaCgoKCgoIl5B9+YXkykKfGbQAAAABJRU5ErkJggg==",xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMrSURBVHgB7ZjrkdowEMf3zPMjHZw7CB3EqeByH3lNcAXQAU4FyVUAGV4fc6kgpoKQDpwO7iMwPLILsqMQCduSPPHN+Ddzg+SzZP31WO0uQEFBwavmDjQZj8eNcrnslEol+3Q6Nc6d3t29HA6H9X6/X7uu+wIZoiSABl2r1fpYfMA/J+Z1H4V96XQ6E8iA1AJms9nQsqwRFhvpWkKAQj6aFpJYAM66jbM+BvGMr+AywIDVG7iNmvj7VvCuv91ucWe5ARggkQA2+O9YtLnHAf494WAmsn2+XC7t4/HooJjRdVts986EiFgBosHjTD/tdjsvzQGdz+ceExJiRIQV9wLbNjarknV5xH08TGtdsI2HP4/UB3sUbkktbgrAWesDt+dx8G6v13sGRdrtNrV1uUcOGQXQ4KYAfsnJgugMPoRE0Bbkv0FmGRSRCmCzb7NqwLaAEej8wMUIkIBGpVLpgyJSAdjxh7BMsw8GYecnWgW8Vx5AEaEAtqQO9wEfDEPml6s6qttIKAB9myZXXbVarQAMw1bBD+tokRxQQCgAHbNIAG6fNWTHr7CAF54NCggFhF4lIzNvknM9zocZFIi9yPKOUAD589ELlnUP2RHNOq6G0krLViDgOrYhI3Ci3oRlPHdKZ00oAE2cz1UdnZtSBjmJwJnqzWZjTsC1idO5KWVUq1WHq65UQ89bh/hb9JJlDUyvwpWfNQFFpALYTcm7viMwBPpZfIAT6ISZUgG0pHi58D7QcDqdvgdNqA+cfS+s6/pZsRHZYrGgaMxhHyNRyjEBDR6tDQUx4XZcoXvtgAaxFxnOFgUgASs3cABf2RZIDJ0fnIhP1Bb+zmb8AE0SBfUUnOPs/xPU0/Kjb+/L4loufzS4ahuBfXh4BpS3UeK0ChMhS6tQ8uon/Dn097hatuTdFTmI+P9B+EBHROrEFkVqgjRJEs5Godvtfmb9eFemVEmEcm6UCemDOHnFQ0mvZ1H+yIQII8nder3exI83+eQuXPI+ftwNqytCW4AJdETkQgChKiI3AggVEbkSQKQVkTsBhECEK3P4chkTUxbQdDLtv0B3DUtxFhQUFOSU34IkpBx2UQqyAAAAAElFTkSuQmCC",on=[{title:"Baş sahypa",link:"/",icon:e.jsx(Ut,{})},{title:"Dolandyryş",link:"/dashboard",icon:e.jsx(Ns,{})},{title:"Gelen",link:"/document/inbox",icon:e.jsx(vt,{badgeContent:1,color:"primary",children:e.jsx(Us,{})})},{title:"Giden",link:"/document/out",icon:e.jsx(vt,{badgeContent:1,color:"primary",children:e.jsx(Ps,{})})},{title:" Arhiw",link:"/document/archive",icon:e.jsx(vt,{badgeContent:1,color:"primary",children:e.jsx(zs,{})})},{title:"Täze Resminama",link:"/document/new",icon:e.jsx(Os,{})},{title:"Söhbetdeşlik",link:"/chat",icon:e.jsx(Ut,{})},{title:"Profil",link:"/account",icon:e.jsx(Vt,{})},{title:"Buýruklar",link:"/orders",icon:e.jsx(Qs,{})},{title:"Işgärler",link:"/employees",icon:e.jsx(Gt,{})},{title:"Bildiriş",link:"/notifications",icon:e.jsx(Ls,{})}];function nn(){const[s,t]=a.useState(!1),n=JSON.parse(localStorage.getItem("CRM_USER")),[x,c]=a.useState(!1);L(y=>y.imgAccount.data.img);const h=()=>{c(!x)},I=Xt(),Y=qt(I.breakpoints.down("sm"));return e.jsxs(Z,{height:"75px",width:"100%",backgroundColor:"#fff",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(Q,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,sx:{width:{lg:"430px",md:"100%",sm:"100%",xs:"100%"},p:{lg:"0 0 0 30px",xs:"0 5px 0 5px"}},InputProps:{startAdornment:e.jsx("img",{src:xs,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(o,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",pr:{lg:"30px",md:"30px",sm:"30px",xs:"10px"},children:[e.jsxs(o,{direction:"row",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},alignItems:"center",children:[e.jsx(V,{onClick:()=>t(!s),sx:{color:"#5C9FE3",transition:"all ease-in-out 0.2s","&:hover":{backgroundColor:"#fff"}},children:e.jsx("img",{src:sn,style:{width:"30px",height:"30px"},alt:""})}),e.jsx(Js,{sx:{backgroundColor:"transparent",color:"#fff",zIndex:y=>y.zIndex.drawer+1},open:s,onClick:()=>t(!1),children:e.jsx(o,{position:"absolute",minWidth:200,minHeight:100,backgroundColor:"#9FC2A6",top:65,right:150,border:"1px solid #9FC2A6",borderRadius:"10px",alignItems:"center",justifyContent:"center",children:"Sazlamalar ýerinde"})})]}),e.jsxs(Qe,{to:"/account",style:{display:"flex",alignItems:"center",gap:"5px",textDecoration:"none"},children:[e.jsx(V,{sx:{height:60,width:60},children:n.img===null?e.jsx(It,{alt:n.name,src:n.name,sx:{background:"#9FC2A6",height:50,width:50}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${n.img}`,alt:""})}),e.jsxs(o,{direction:"column",alignItems:"center",children:[e.jsxs(i,{color:"#474747",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:16,fontWeight:500,children:[n.name," ",n.surname]}),e.jsx(i,{color:"#A6A6A6",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:13,fontWeight:400,lineHeight:"15px",children:n.position!=null&&n.position.name})]})]}),e.jsx(o,{direction:"row",alignItems:"center",justifyContent:"center",sx:{...Y?{display:"flex"}:{display:"none"}},children:e.jsx(V,{onClick:h,sx:{width:24,height:24,p:0},children:e.jsx(Hs,{sx:{color:"#fff"}})})}),e.jsx(Vs,{anchor:"right",open:x,onClose:h,sx:{"& .MuiDrawer-paper":{width:"60%",backgroundColor:"transparent",backdropFilter:"blur(5px)"}},children:e.jsx(Z,{className:"mobile-menu",sx:{bg:"#000",height:"100%",padding:"16px 0"},children:e.jsxs(o,{spacing:2,direction:"column",height:"35px",alignItems:"center",children:[e.jsx(H,{onClick:h,children:e.jsx("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false","data-icon":"close",width:"2em",height:"2em",fill:"#fff","aria-hidden":"true",children:e.jsx("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})}),e.jsxs(o,{direction:"column",alignItems:"center",spacing:2,children:[e.jsxs(o,{children:[e.jsx(o,{sx:{...s?"":{flexDirection:"column"}},height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"0px 30px",children:e.jsx(Qe,{style:{textDecoration:"none"},to:"/",children:e.jsx(i,{color:"#F3F3F4",fontWeight:"700",sx:{...s?{fontSize:"30px"}:{fontSize:"18px"}},textAlign:"center",fontFamily:"Montserrat",children:"Älem Doc"})})}),e.jsx(as,{menuItemStyles:{button:{"&:hover":{backgroundColor:"#1976d2"}}},children:on.map(y=>e.jsx(Te,{component:e.jsx(Ce,{className:"sideNavMobile",to:y.link}),icon:y.icon,children:y.title},y))})]}),e.jsxs(o,{children:[e.jsxs(H,{sx:{color:"#fff",display:"flex",flexDirection:"column",gap:"1px",fontSize:"12px",fontFamily:"Montserrat"},children:[e.jsx(Gs,{sx:{width:30,height:30}}),"Kömek"]}),e.jsxs(H,{sx:{color:"#fff",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontSize:"11px"},children:[e.jsx(Xs,{sx:{width:30,height:30}}),"Çykmak"]})]})]})]})})})]})]})}const an="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKlSURBVHgB7ZmBddsgEIZ/92UAb2AyQdIJKm/gbpAN2g3aEbRB3QmaThBngjgTmEyQbEDuAjxhRREggWIlfO/dk4wlwa9DBxxAoVAoFAqflwUyopQSdKjI+LgkqxeLhcSEjBZIIrjhbBW0kJVz3mZPAr9iQoIFGiGC7NLYyhwFIiCBWXtNm7OuQiNmgxFCfFAdlXmmJM07TAV/N2SPajiS7JqsJrsi27p/OvW45T+RiS4PsreW8PNAtieT5vhyTt54ci8ygcbHD7IaGegS2BYXJORUOQu4ppo6tKfkCz44ReApwMMW2SYwYB0xFw/ekf0juyGRlzE3nrxA4zVhfvIxSuTJCzQRfOcU8TAWLHIuXfQ79PhrCRYZMg7mYovGM72TBp5UkJg1nd5Az7QYK3JN/+8Ripk/ugiMgO7/3TUXHfgsjqZ3rfY99nlycg/yC8Q4/qJZQAMeTyYVaLz95Jmn/kF6rMjzdt3Jggw9nL+PAxl3mV+YHptVOCKJQNPtKqeIv7uQJVdKJI4j7QupuujyjbKurnqOcQjoWY1bpyRbB616hkRR9ToLsHP+SxlFuZ5Dq32HvjYm8SC/OaqEs2VX0F7b+u7hyTOaMY0DU+25XkCPg8Iplgj1nPOgScZBdZyTOXieEe05y1ymaoM9N7fVBCMR0S3ntprg86hv7j0n28GQoDV7ckjyazY5maGZvZJ0mjsh3yCPNzazfYsmsy0xA0KDjN0y29gCEs0zFhZ7DyetPzCln20boEvgNRkvdwT6scuTyi003uYGW2+v4Oc/MvHmZqTS+3dWBHvvAmG7Tv0Vmg1Q1ewMI2d3j9ptNY2y3bWCbuC3iEdMvsObpDKlkz4CjXg+v+i4lIPT2PVgFNnepuNtgWZTtY5K8RUKhUKhUCj08QyXJRXZTLC8qAAAAABJRU5ErkJggg==",ps="/assets/Logo-DZQxkVEy.png";function rn(s,t){const[n,x]=a.useState(!1),[c,h]=a.useState(null),I=()=>{h(!c)},Y=JSON.parse(localStorage.getItem("CRM_USER")),y=we(),w=se(),p=()=>{w(Do()),localStorage.removeItem("CRM_USER"),setTimeout(()=>y("/login"),500),A.success("Üstünlikli çykyş!")};Ao();const k=Xt(),j=qt(k.breakpoints.down("sm"));return e.jsx(e.Fragment,{children:e.jsxs(mo,{rootStyles:{[`.${fo.container}`]:{backgroundColor:"#9FC2A6",color:"#F3F3F4",maxHeight:"100vh",display:"flex",width:"100%",flexDirection:"column",justifyContent:"space-between"}},className:"sidebar",style:{minHeight:"100vh",minWidth:"250px",width:{...j?"150px":"250px"},...j?{display:"none"}:{display:"flex"},border:"none"},children:[e.jsxs(o,{height:"100%",children:[e.jsx(o,{height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"20px 30px",children:e.jsx(Qe,{style:{textDecoration:"none"},to:"/",children:e.jsxs(o,{left:"30px",top:"30px",direction:"row",alignItems:"center",children:[e.jsx("img",{src:ps,style:{width:"55px",height:"65px"},alt:""}),e.jsx(i,{textAlign:"center",color:"#fff",fontWeight:"500",fontSize:16,ml:-2,fontFamily:"Montserrat",children:"ÄLEM TILSIMAT"})]})})}),e.jsx(o,{height:"100%",justifyContent:"center",children:e.jsxs(as,{menuItemStyles:{button:{"&:hover":{backgroundColor:"#76917c",borderTopLeftRadius:"30px",color:"#fff !important"}}},children:[e.jsx(Te,{onClick:()=>{h(!1),x(!1)},component:e.jsx(Ce,{className:"sideNav",to:"/account"}),icon:e.jsx(Vt,{}),children:"Profil"}),e.jsx(Te,{onClick:()=>{h(!1),x(!1)},component:e.jsx(Ce,{className:"sideNav",to:"/document"}),icon:e.jsx(qs,{}),children:"Resminama"}),e.jsx(Te,{onClick:()=>{h(!1),x(!1)},component:e.jsx(Ce,{className:"sideNav",to:"/"}),icon:e.jsx(Zs,{}),children:Y.role==="USER"?"Bellikler":"Kalendar"}),e.jsx(Te,{onClick:()=>{h(!1),x(!1)},component:e.jsx(Ce,{className:"sideNav",to:"/projects"}),icon:e.jsx(Ks,{}),children:"Edilmeli işler"}),e.jsx(jo,{label:"Işgärler",title:"Işgärler",component:e.jsx(Ce,{className:"sideNav",to:"/employees"}),icon:e.jsx(Gt,{}),suffix:n?e.jsx(Zt,{sx:{width:30,height:30}}):e.jsx(Bt,{}),open:c==!0,onClick:()=>{I(),x(!n)},style:{...Y.role==="USER"?{display:"none"}:{display:"flex"}},children:e.jsxs(o,{sx:{borderLeft:"2px solid #9FC2A5",ml:"35px",mb:1},children:[e.jsx(Te,{component:e.jsx(Ce,{className:"sideNav2",to:"/employees/working"}),children:"Iş wagtlary"}),e.jsx(Te,{component:e.jsx(Ce,{className:"sideNav2",to:"/employees/regulating"}),children:"Tertip - düzgünnama"})]})}),e.jsx(Te,{onClick:()=>{h(!1),x(!1)},component:e.jsx(Ce,{className:"sideNav",to:"/chat"}),icon:e.jsx($s,{}),children:"Söhbetdeşlik"})]})})]}),e.jsxs(o,{direction:"row",alignItems:"center",p:"0 0 50px 20px",children:[e.jsx("img",{src:an,style:{width:30,height:30},alt:"Sign Out"}),e.jsx(H,{onClick:p,sx:{color:"#fff",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontWeight:400,fontSize:"20px",textTransform:"revert"},children:"Ulgamdan çyk"})]})]})})}function ln(){return e.jsx(Z,{children:e.jsxs(o,{direction:"row",maxHeight:"100vh",children:[e.jsx(Je,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsx(rn,{}),e.jsxs(o,{direction:"column",width:"100%",children:[e.jsx(nn,{}),e.jsx(bo,{})]})]})})}const dn=({img:s,setFile:t})=>{const n=JSON.parse(localStorage.getItem("CRM_USER")),[x,c]=a.useState(!1),[h,I]=a.useState(n.mail),[Y,y]=a.useState(n.phoneNumber);a.useState("");const[w,p]=a.useState(n.surname),[k,j]=a.useState(n.name);a.useState("");const[F,d]=a.useState(n.position?n.position.id:"ADMIN"),[S,b]=a.useState(n.languages),[u,P]=a.useState(n.whereStudy),[B,C]=a.useState(n.whereLive),[m,N]=a.useState(J(n.birthday)),[r,z]=a.useState([]),T=g=>{d(g.target.value)},K=g=>{b(g.target.value)},_=()=>{const g=new FormData;g.append("file",s),g.append("userId",n.id),s!==null&&$(_e(g)),t(null)},$=se();we(),a.useEffect(()=>{(async()=>{await R.get("/position/get").then(U=>{z(U.data)})})()},[]),L(g=>g.imgAccount.updated);const v=async g=>{g.preventDefault();try{if(h.trim().length<=0||k.trim().length<=0||h.trim().length<=0||Y.trim().length<=0)A.error("Dogry maglumatyňyzy giriziň!");else{c(!0);const U=await R.put("/user/updata/info",{userId:n.id,surname:q(w),name:q(k),mail:h,phoneNumber:Y,birthday:m.add(1,"day"),whereStudy:u,whereLive:B,languages:S,positionId:F}).then(M=>{M.data&&(localStorage.setItem("CRM_USER",JSON.stringify(M.data)),A.success("Maglumat üýtgedildi!"),_(),c(!1))})}}catch(U){A.error(U.message==="Network Error"?"Internet baglanyşygy ýok":U.response.data),c(!1)}};return e.jsx(o,{direction:"column",width:"80%",children:e.jsxs(o,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(Q,{id:"outlined-basic",type:"text",value:k,name:"password",onChange:g=>j(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(Q,{id:"outlined-basic",type:"text",name:"password",value:w,onChange:g=>p(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(oe,{fullWidth:!0,children:e.jsx(ne,{labelId:"simple-select-label",id:"simple-select",value:F,onChange:T,sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:r.map(g=>e.jsx(O,{value:g.id,children:g.name},g.id))})})]})}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(be,{dateAdapter:ye,sx:{width:"100%",pt:0},children:e.jsx(ce,{value:m,format:"DD.MM.YYYY",onChange:g=>N(g),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(Q,{id:"outlined-basic",type:"text",name:"password",value:h,onChange:g=>I(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri"}),e.jsx(Q,{id:"outlined-basic",type:"text",value:u,name:"password",onChange:g=>P(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri"}),e.jsx(Q,{id:"outlined-basic",type:"text",name:"password",value:B,onChange:g=>C(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(Q,{id:"outlined-basic",type:"text",name:"password",value:Y,onChange:g=>y(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(oe,{fullWidth:!0,children:e.jsxs(ne,{id:"simple-select",value:S,onChange:K,sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(O,{value:"ENG",children:"ENG"}),e.jsx(O,{value:"RUS",children:"RUS"}),e.jsx(O,{value:"TKM",children:"TKM"})]})})]})]})]}),e.jsx(o,{alignItems:"center",pt:4,children:e.jsx(H,{onClick:v,disabled:n.name===h&&n.surname===lastName,sx:{"&:disabled":{background:"lightgray"},background:"#9FC2A6",color:"#fff","&:hover":{background:"#9FC2A6"},height:"55px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:x?e.jsx(o,{alignItems:"center",children:e.jsx(je,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})};function cn(){const s=JSON.parse(localStorage.getItem("CRM_USER"));a.useState(s.mail),a.useState(s.surname),a.useState(s.phoneNumber==null?"+993 66778899":s.phoneNumber),a.useState(s.name),a.useState(s.position==null?"ADMIN":s.position.name),a.useState(s.whereLive),a.useState(!1),a.useState(!1),a.useState(""),a.useState(""),a.useState("");const[t,n]=a.useState(null);a.useState(""),a.useState(!1),L(c=>c.imgAccount.data),L(c=>c.imgAccount.status),L(c=>c.imgAccount.error),se();const x=c=>{const h=c.target.files[0];h&&n(h)};return e.jsx(Z,{height:"100vh",width:"100%",backgroundColor:"#F5F6FA",overflow:"scroll",children:e.jsxs(o,{children:[e.jsx(i,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Profil"}),e.jsxs(o,{backgroundColor:"#fff",direction:"column",spacing:1,minHeight:"79vh",borderRadius:"20px",m:"0px 20px 10px 20px",boxShadow:" 0px 0px 5px -2px rgba(0,0,0,0.75)",children:[e.jsxs(o,{alignItems:"center",direction:"column",pt:2,children:[e.jsxs(V,{sx:{"&:hover .file-input-label2":{display:"flex",flexDirection:"column"}},children:[e.jsxs(o,{position:"relative",display:"inline-block",children:[e.jsx("input",{type:"file",onChange:x,id:"file",accept:".img,.jpg,.png",className:"file-input2"}),e.jsx("label",{htmlFor:"file",className:"file-input-label2"})]}),e.jsx(o,{width:80,height:80,borderRadius:"100px",alignItems:"center",justifyContent:"center",bgcolor:"#ECECEE",children:s.img?e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${s.img}`,alt:""}):e.jsx(_s,{sx:{width:25,height:25}})})]}),t!==null?t.name:"",e.jsx(i,{fontSize:30,mb:2,fontWeight:600,children:s.firstName})]}),e.jsx(o,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},justifyContent:"center",children:e.jsx(dn,{img:t,setFile:()=>n(null)})})]})]})})}const hn="/assets/done-DJMmEArB.png",un="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7GSURBVHgB7VwJkBxV3f+9mZ773tls9kjIJiEX8kn4AhbxU7KEw8SvjEgJKh4RLAVEI5YGQUtYwAJBREWFBEpB8QCPilFUUlpFoYXcQTA3Jtkcm0022dnZuXdmutv370nvdM/0zPTszmY21v6q3m73O7p7f/2/3v+9XmAa05jGaQyG0wTyRncHZGc3ZCYiPPQauwoipgCmPIHyw8FuwPIomHyJpnqAt9zLro9+D03GlCZQfigwDxbrC/yorUKPr3MSv4EmwoKpDGb5QWXylA53yY+0vBNNxJQlUP5+YC7Xj9XqeTydx5FIWik6SPKH0URMXQm0sjO0p/F0DgORjFJKsAhNxNQlkJm0z7LsQBMh4DRBZ4tLKVMNU9uJnAZoehgjy/wZNgbX8DhvESTm1jR1g7G1Ji7Rxy/yE+0l+Xk/5OwWdmP6ECYZDSfwV1deac2fKS1gQn4GnzVYq/U9N7A3sMh3qJc/xlI0HilO5H1P9vc8V7OnKItWR2b7Vb1bIqgTDSXw17ddvloUcTdjqEmIx5pBz4w34BEymExsi3VjR2yOma48PpJ/Nn/24RvPu+61HEyiYTbwqa99YC0nb7MZ8ghL/AcnnTzlPr6DcFqzZrpyD8U+vffQ7L/09vaa5qUhBG6+d42PMfkOTp7N7Jh2Z93aMi5YmYR2R133WrE4t/Ums50bQmA6Zl0jA6b0RIXLOopTBbdQ570Yu9Zs1wbFgdJ8I3PqDnfB5vAYjmCobdsbBaevBQHvQsO2dPQosqmYro7H8KZnNw0hUGbMUkrfjAXnY/Fln6o8aPOjOFWYuXg5PIs/Z9iWGTmOV3729dJq07xM2kzEFZxZvQPPVJ0yOEOVmwIzMBFMz0QmiGkCJ4imJROywf/BqYLonInJQtMIHFr6Tfw3YFqFJ4hpAieIaQIniNMmI30q4W2djSNHjj4gM8xnMhJczp7o7Gx7xqjvNIElmL1sNboveD8dflGZXSk/pKv7B46+mM2kV8+dOzeq7T+lVVhOpJD75Z9wqnDmiqtV8srAebzA4XRtkksWsZougSwZg++PP4Z18BCYmEd2zhKkL/wA8nYfUh9ZD/HVbRD3H4bzq5/BZGLe0nei4+wLa3XrGRgY6OG/t6gVTSXQ9fzTCPziPjCpuE/IsetVeLY8if27zoC464BSJ725W1k8yedFJBJJpc7r80AQBORz+bE6FYJg5e1emMXS9igW5p7C0MAsZDtWVu3LEyeXYioQaOvbgcCT9+vII0h54PA/JOQjBfKENRfB9cDNlKNDnktodHhEqXc6nQUCNXUqqM0cgTICex5CRziunLXs+jYiYg7ZWe+pPERCl/a0aTbQ98fHwPL6pYc8z/AffsGKdKSQHHO8vQvuDbeDedxoNHgCGI8O70P/iVfG6vg7QmjvBgj9z1Ycx6zsTe150yTQzlVVC5K8Iy8XyfN2SDyPF8FxVsw0kmR1z9Pt+DCsqwUi75ZoH55IRfB450fx7OHHMSdfcK4WOYvWPfcjxrK5VOd7Spco0nZB2KStaJIE8sVgUS99x96wFMnrlNCxTIJVTKHRIPLuHDmIJ5LHlfP9tiB6Zn0Se4TwWB96Z/69G5jz+PNx/Vj5+62trbu0dU0ikEEsSWS2LpEh8ADB0yaj63wJFq4bYnu3rg85DLJ3lUo+n695ZyJvY+KYrq5PIXEtDqFoN5mYFULb7/a6B5/LFJ5Yvq2ro+Mrpddrmg1MrrxKd25zy5jTI6LzHeLY8kpi5Yd0fVSHUZHAXOVdv6ralpKn4hgX9hXuy3GA+bTVLLDjXrun/8+3tbe3G27kbBqB6Xe9D9kzz9HVCS5ZkTxCduG5yCx/LxqF++P9+OlJtS0DD4OkVAb7LX4sd12B3SxQbJPZdwPnXXMX4+u2RkOb5kQklxeRdd+Fb/MGuF/aApYoGHHJ40dqxRVIrFpLMZduzHgcBoEkrxJ5jlgSo8liHDlg8WCV6314Nr0Z3XKsl1299Y5q125qIC3b7Ih9cB0Sq9dCOHqAnzsghjsUEhsFsnnVJE9Lnoo+LokXui7/9sE1N92Jj6AqpkQyQfIEkJ3/djQadxg4DBXWeBJiImnYtmrbVjxz6w+/bGbjUEMIbLNFwUqsqceaRjNRTW2rkXfpjn9i5c438AzMoSEErpz5RtnialJYghiag2/VcBiVyOvZvQ2XbX8d9aAxKixjaenODuvoCTQD9TgMLUhtL+aSVy9MhzHyY8FgxUaGs0urhOF/IcXzeVR4Dk1/09HJ2Zl1Z6x+h0EgyVs5DvIIpgiUN4buRQYH5IeDHy9reyhA+yb8kiQhnU4rhY6FzDFImWFldqAl0N33S7T9dRU8/34MjQQ5jA3xyg4DcWPyvhDuxv+/+YpOgQIB88mLmiosP9zSyxm4GYWY7Kfyw6GzYHHeBTGzjNO/nqvvu6lBFEVkMoUNkzabDRaLBfNfvBzJ0DKkltwI2T8f/m3fhPvAr5U+/u08DygmkVj0OUwUt0QPcMkbNGyr5jBubDkD14dm42lNHZHXMALlDaFb+c/bdZUMt0DOfIyTN+vkeUVYxAR8J56D7+9/g+QIlamub9cPebBsQ3LhdRgvvhXrr0heNYdxbWgWPt+i39Lo87nqIo9QUYXlB73cs7LPa+tIynI5JYsyq7Q/SV0oFFIKJTpLrqaQl81myyb8nrceQz45hPGAJO878SOGbY4aantzeK6ujogLhYz3MlZDRQLZusRxrra3qudEXDweR5IbYjNZj1IQealUShlPL0LFsUW3IpWzYTRT3y7S1159HQd3vmXcSA6jguR9ikseqa0W45E8FVWdCLtuiL6/eERbRw5BS4BZ0Dgq5GBkqeBUIrPXIt56kXJMBBLJZjAyEsPOHXuwes8J/N9AQtdWy2GsD8/VWR2HwzEuyVNR2wuLwpc4lYOkom63Gx6PR7lpGez8sXxcdf28OMovS2NcLhd8Xh8Em4CcswMn5lyj62O1Vv2sZAwkxapnX7P9GC7pGy6MN+EwdI/stMPhmtindrUDaSG7ELJF+WbXbreXt3v5JeY4+WJCSfY7wm3lfj6dSxellbIpxcsOwZnYjXSg8FWE0+U0TeCJ43pndOm/I0jLEp53GmuGkcMg8rTPM17UlkDJcnvFtg7+9s7xlpNHaOF1/8uzKu3Gb5hJWQSP/FY5Jum2O+wwi8HB8mB5zd4oVkTKbbORw3A4HQ0hj1CVQGX2wbDCsNHLpWWeC2BV4hhqoj4eY8nyRF6AJZ+CVTAneYRodATHB42nie8dSOtINHIYito6G/eFrE6Fla/EbZYv80PKLS3GKForjqxFngrav9/N+25PlDVZ83EseP4iSIIbef8i5AJnIXnmNRDdXYaXIuex6Td/UBbSfX6vocoTiXmrG+fNm48bSsgjO9xI8gh6GygwMhSfVU/JY1JRmrSxHTkJn+mPkgqOhZxMtjilU0MhmrGQFNojrysl03mZIYEkeURePF54EfEYD9J9Hi69+j+Bp96x3tOJRZMseSqqOpHR0dGx6RkFyGMgAuv5TNHKOzu4tGSL6kUxJYFsEXlnFUQsvTQigp2UcAqbNv326THyCOSF49zrhsMhdHS28zjOz6MEF9raZpQF8o1yGEYYXzpLRv0wSXiWx4MpLl1kFz3eQnwWiQxziYuX9aWwqueid8PrrRzHkdRNhuSpqEog2YzyaRnHqIS6QIHzqD7E8HoLa7BmQhePu3yWQPHoqtUXG5JHkksvgK6dzfIMUSZd0V7brRNbmCxlp49L1w/47wX8hvO4fVpANqoMWU5glMd5QZN2cJir7qhebCl0UZF3zEDG+zbk7SElwC6F2+PG8uXn4+WXtyrqHAoFcPElK8ZeAoGe0+kuxJKq6keHT6DKUjH/40W4fJX9pBnoCGQ38HQuMJZAkL/Dwxgn28/VrzyZuo+/1XOF2p6YeOsz3qIhWj3Yd8HTiheuhfMvWIazzl6MkWhMsXXaF0vHbq8bpS87m5fHyCyFTbAg4A/xtRzzIZQRqs+Fvxjli7XyXwwbU/zVvpWubg9JdXdxw582VvnEjB5T5Kkgm9jaFjZFnvL8FcgTmIRgsGXC5CnXqtnDwh7kJF1p2DbIMygJrp5zuRcNaqSRiBvh9ftSFckjrzLcWdy6YeG2iNSaVJCOK/3xynRSLuyToX7kIBgzHxLYrJS6CqNRqE1gzP46fFlK2IUpW0Lhgy6ZQJJIQTKFNlSIr6yoi/lUUFhEBJFjyrrnIOcuxmpEhNYuVgNN++qZ+qkoqG2gIZKnorYL8mVpLhymP57yeVQM007kmWP5gkQakEfxJI2l+I9iPXuqD217C/+9jtTP0Ns3EOQwGk0eofpcuLCItJ6O1XCD1MXQM9e60ckx2gA5MPA7Xn4Pm91WlxrWC5K8YEtrw8kjVE7pK4kE9iP1nCSEYi8KHcYjLWS7aKzP59PFfjP2fQ8sPXlryI10GEaonNK/hntgmd2trSMbdZI82qWp01NK+Q8PDyulNOUvMzvyttCYk9Aicsa1yDAfz0g3/l+gkMMIhqo7jNTwUUwEVUWJ3RDplTeEuauVikQybETUuh7B3AJI7CbupdfQZnej8aN5C96K+LE71oWEvRtLrC/hHV1FaXvxWDd2Hu7nR/cpDrwl7OMOqo4kRQ3INKeuZm54EjY5VL4oJRdcoSnU1EV2/dA98iP8LYrSOi6vX2LXDf/iZNNWXj4hP9jih10eIclSJ+yqvXvktYV8BqdKXB+OYyZOpBxYOfcoXukP46V+moYVtxyLMY+ywNNsWCDvNN/XBNhnhu7hSnqOhrxi27oI7SEaItIoq0KFjofTdg15J2/Gc4NHcl34+c63cfL0+5GCwalBHkGULA+Y7WvanbIbEoOVG1H2xqKZYpxmtwtobfVh1qww/H6+sMRTY9plRDqm+qkAvnb49932cx43279Ru7O28Z/v0lZpCXS7HUrRgkhzufh6MM/S+HyTk6urEzRZeGimELr7w729jbOBpmCV7kOePaWtSoq2MfkWeJxn9ERUX6ntVILne+NCnvVdcc+m8W2RmMY0pnG64j8HvGUSvSq87QAAAABJRU5ErkJggg==",xn="/assets/newAdded-CcMvoMMP.png",pn="/assets/newProject-CpnAEvfz.png",gn=({openUserModal:s,user:t,handleCloseUserModal:n,setWorkers:x,setSelectedUsers:c,allUsers:h})=>{a.useState([]);const[I,Y]=a.useState([]),[y,w]=a.useState(""),[p,k]=a.useState("Başlanmadyk"),[j,F]=a.useState("");a.useState("");const[d,S]=a.useState(null),[b,u]=a.useState(null),[P,B]=a.useState(t),C=r=>{w(r.target.value)},m=r=>{k(r.target.value)};a.useEffect(()=>{(async()=>{await R.get("/project/status/priority").then(z=>{Y(z.data.data)})})()},[]);const N=()=>{const r={userId:t.length&&t[t.length-1].id,name:j,status:p,priority:y,startDate:J(d).format("YYYY-MM-DD"),endDate:J(b).format("YYYY-MM-DD")};j!==""&&p!=""&&y!==""&&d!==null&&b!==null?(n(t),w(""),F(""),k(""),x(z=>[...z,r])):A.error("Dogry maglumatyňyzy giriziň!")};return a.useEffect(()=>{t.length&&B(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Je,{}),e.jsx(fe,{open:t!==void 0>0&&s,onClose:()=>{w(""),k(""),n(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(o,{bgcolor:"#00B69B",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(V,{onClick:()=>{w(""),k(""),n(t!==void 0&&t[t.length-1].id)},children:e.jsx(Ae,{sx:{color:"#fff"}})})]}),e.jsxs(o,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(o,{direction:"row",width:"100%",children:e.jsx(be,{dateAdapter:ye,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(o,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ce,{fullWidth:!0,onChange:r=>{S(r||null)},format:"DD.MM.YYYY"})]}),e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ce,{fullWidth:!0,onChange:r=>{u(r||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(Q,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:j,fullWidth:!0,onChange:r=>F(r.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(o,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:C,label:"Wajyplygy",children:[e.jsx(O,{value:"Ýokary",children:"Ýokary"}),e.jsx(O,{value:"Orta",children:"Orta"}),e.jsx(O,{value:"Pes",children:"Pes"})]})]}),e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,onChange:m,label:"Statusy",children:[e.jsx(O,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(O,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(O,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(O,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(o,{alignItems:"end",pt:"10px",children:e.jsx(H,{sx:{border:"1px solid #00b69b",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#00B69B",backgroundColor:"#f0f7ff"},onClick:N,children:"Ýatda sakla"})})]})]})})]})},mn=({open:s,handleClose:t})=>{const[n,x]=a.useState(!1),[c,h]=a.useState(""),[I,Y]=a.useState("Başlanmadyk"),[y,w]=a.useState([]),[p,k]=a.useState([]);a.useState("");const[j,F]=a.useState(""),[d,S]=a.useState(""),[b,u]=a.useState("");L(v=>v.users.status);const P=L(v=>v.users.data),B=se(),[C,m]=a.useState([]),N=v=>{h(v.target.value)},r=v=>{Y(v.target.value)},z=v=>{v.length?(x(!0),k(v)):w(v)},T=v=>{v?(w(g=>g.filter(U=>U.id!==v)),k(g=>g.filter(U=>U.id!==v))):w(newValues),x(!1)};a.useEffect(()=>{B(ze())},[B]);const K=v=>{F(v.target.value)},_=(v,g)=>{g.length<y.length?(C.filter(U=>!g.some(M=>M.id===U.id)),w(g),m(C.filter(U=>g.some(M=>M.id!==U.id))),k(p.filter(U=>g.some(M=>M.id!==U.id)))):(g||g[0].id)&&(z(g),w(()=>g.map(U=>({id:U.id?U.id:U.userId,name:U.name,surname:U.surname}))))},$=()=>{const v={name:j,status:I,priority:c,startDate:b,endDate:d,tasks:C};j!=""&&c!=""&&b!==""&&d!=""&&C.length!=0?(B(bt(v)),t(),h(""),w([]),m([]),F(""),Y("")):A.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(fe,{open:s,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(o,{bgcolor:"#00B69B",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt döretmek"}),e.jsx(V,{onClick:t,children:e.jsx(Ae,{sx:{color:"#fff"}})})]}),e.jsxs(o,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(o,{spacing:2,direction:"row",children:e.jsx(Q,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:j,fullWidth:!0,onChange:K,sx:{borderRadius:"8px",height:56}})}),e.jsx(Be,{id:"combo-box-demo",multiple:!0,value:y,fullWidth:!0,isOptionEqualToValue:(v,g)=>v.id===g.id,options:P,getOptionLabel:v=>`${q(v.name)} ${q(v.surname==null?"":v.surname)}`,onChange:_,renderInput:v=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...v,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...v.InputProps,endAdornment:e.jsx(e.Fragment,{children:v.InputProps.endAdornment})}}),popupIcon:e.jsx(Kt,{})}),e.jsx(o,{direction:"row",width:"100%",children:e.jsx(be,{dateAdapter:ye,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(o,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ce,{fullWidth:!0,onChange:v=>{u(v||null)},format:"DD.MM.YYYY"})]}),e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ce,{fullWidth:!0,onChange:v=>{S(v||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(o,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,onChange:N,label:"Wajyplygy",children:[e.jsx(O,{value:"Ýokary",children:"Ýokary"}),e.jsx(O,{value:"Orta",children:"Orta"}),e.jsx(O,{value:"Pes",children:"Pes"})]})]}),e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,onChange:r,label:"Statusy",children:[e.jsx(O,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(O,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(O,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(O,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(o,{alignItems:"end",pt:"10px",children:e.jsx(H,{sx:{border:"1px solid #00b69b",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#00B69B",backgroundColor:"#f0f7ff"},onClick:$,children:"Ýatda sakla"})})]})]})}),e.jsx(gn,{user:p,setSelectedUsers:k,openUserModal:n,handleCloseUserModal:T,setWorkers:m,allUsers:P})]})};function gs(){const[s,t]=a.useState(!1),n=L(j=>j.project.data),x=se(),c=()=>t(!0),h=()=>t(!1);a.useEffect(()=>{x(Oe())},[x]);const I=n.filter(j=>j.status==="Tamamlanan"),Y=n.filter(j=>j.status==="Dowam edýän"),y=new Date;y.setDate(y.getDate()-7);const w=n.filter(j=>new Date(j.createdat)>=y),p=n.filter(j=>new Date(j.createdat)>=y).reduce((j,F)=>j+F.completion,0),k=[{id:1,img:hn,title:"Tamamlanan",value:I.length,percentage:null,width:3.5},{id:2,img:un,title:"Dowam edýän",value:Y.length,percentage:`${Math.ceil(p)}%`,width:3.5},{id:3,img:xn,title:"Täze goşulan",value:w.length,percentage:null,width:3.5},{id:4,img:pn,title:"Täze proýekt",value:null,percentage:null,width:1.5}];return e.jsxs(Pt,{container:!0,spacing:2,children:[k.map((j,F)=>e.jsx(Pt,{item:!0,xs:12,sm:12,md:j.width,children:e.jsxs(eo,{sx:{height:"105px",borderRadius:"12px",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[e.jsxs(o,{direction:"row",width:"70%",sx:{...j.id==4?{flexDirection:"column",cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},justifyContent:"center",onClick:j.id==4?c:"",children:[e.jsx(o,{width:60,height:60,borderRadius:"100%",backgroundColor:"#F0F7FF",alignItems:"center",justifyContent:"center",children:e.jsx("img",{src:j.img,alt:"",style:{width:40,height:40}})}),e.jsxs(o,{children:[e.jsx(i,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,children:j.value}),e.jsx(i,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,children:j.title})]})]}),e.jsxs(o,{mr:2,sx:{...j.percentage==null&&{display:"none"}},children:[e.jsx(to,{sx:{color:"#00B69B"}}),e.jsx(i,{color:"#00B69B",children:j.percentage})]})]})},F)),e.jsx(mn,{open:s,handleClose:h})]})}const Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANySURBVHgB7ZldThsxEMdnnDyiEk7QjfiQ+lRyA3qCqidglws0PUHCCYB3kmxvwA3KDchbpbaI7QmaPvSJYHcGxatJSdbexkYRyk9I8ZrZXc96xn9/AGzYsBIIgblJ09YrgI8GMQXEhOuMMWNEHN9rffomzwsISFAH7rLs+AHgnBreWmIyMeTEfp6fQyCCOXCbpl2j1JmPbcOYtD0afYYAKAjA1zRNKGR69pq+SkHOvGtovbM3HCL1yAeus/9/QDznUIMABHGggdi3YcMNVVp39i8vr9t5PuG6vcHgiuuEE60tpboQgDAOALy1ZeqJT7bhEq7TWmf2mpw5hgAEcYAafWjL/LWX2TUBxuIygQA8SWJKxh7Fbx/WENS6v5vnp7LuSQ+sa+OZRW176gDAKawpi9rm1IHbLLuxMU5J2DnI8zFE5HuaHqFSXx4bR+q9Oxh0quydSawBfpbGjUYCz4g25rfLxukAddFEPDCI+FRBcZ7YMjXuzmXvdIDCp7BlDDT0VSHfIXt/GcrDYCLKryEyON/LE5e904GH+RDaWWbH+vHj5MTw7yo2RvQAit5fhjsHtC5KY6WW9oAdo6t0xMeGQmi7tEdcvQeaYhZpniOJEdvlu6fTwmXvMxeSXyGByKDIs7bH6s3pAM8i5VAaah6/iLv5ZzvDh/GajdJwVgpK6/EvDvc1E5jxcoCGtlJQps1mApFA8XF8VJjxXQ+UgkKL8gQiIVWYRoxwIQQiHjFiCEkVNmL0q8IvhEQ80lCaQCSkCqOHBjBeDkg1pgX8NkTCROsBocY0IrUhElKFaU1Q+Nzj5YBUY4w4oZP5ZabTOEkMEZPY7qUyf0KG0D/7PK1YamzEx+ks2FtahPe+kBFaEEONaRqRiMsCPPF2QBnzy5ZjqPF0fgRyrsQs3g5ohxrbLY+qbZkqmzmB9FRhpulriA413h8O+/TTr3pGlQ0Nm4mZlU2MEOI9GluOocbymb4qzPiHkNalAwrxOMJI9L4sKXXteY+/A3QsdC3CiPf3exCIx0X+TAP4DIHPFnzv9c6BGZx8Z7MXdWmHIaGEvmDnoCbcg1sAhxQuPVoHH9n6unuztc/IvmVZziEEEaBFzMXBaNStc0/tAw56QRpjB/t/Gs/U7gELKycd1vV55xrFEVMdWLBoDXBFp5Z5O/Ku94YNL5W/nhNKkLkE8qkAAAAASUVORK5CYII=",ms=({openUserModal:s,user:t,handleCloseUserModal:n,setWorkers:x,setSelectedUsers:c})=>{const[h,I]=a.useState(t.user&&t.user.id||""),[Y,y]=a.useState([]),[w,p]=a.useState(t.task?t.task.priority:"Pes"),[k,j]=a.useState(t.task?t.task.status:"Başlanmadyk"),[F,d]=a.useState("");a.useState("");const[S,b]=a.useState(t.task&&t.task.startDate||""),[u,P]=a.useState(t.task&&t.task.endDate||""),B=L(M=>M.users.data),[C,m]=a.useState([t&&t.user]),[N,r]=a.useState(0),{id:z}=Ke(),T=JSON.parse(localStorage.getItem("CRM_USER")),K=se(),_=M=>{I(M.target.value)},$=M=>{p(M.target.value)},v=M=>{j(M.target.value)},g=(M,ae)=>{r(ae)};a.useEffect(()=>{t&&(d(t.task&&t.task.name||""),p(t.task?t.task.priority:"Pes"),j(t.task?t.task.status:"Başlanmadyk"),b(t.task&&t.task.startDate||""),m(t&&t.user||[]),P(t.task&&t.task.endDate||""),r(t.task&&t.task.completionTask||0),I(t.user&&t.user.id||""))},[t]),a.useEffect(()=>{(async()=>{await R.get("/project/status/priority").then(ae=>{y(ae.data.data)})})()},[]);const U=()=>{const M={taskId:t.task&&t.task.id,completionTask:N,userId:h||t.user&&t.user.id,name:F,status:k,priority:w,startDate:J(S).format("YYYY-MM-DD"),endDate:J(u).format("YYYY-MM-DD")};F!==""&&k!=""&&w!==""&&S!==null&&u!==null?(K(St({body:M,projectID:z})),n()):A.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(fe,{open:t!==void 0>0&&s,onClose:()=>{p(""),j(""),n()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,...T.role=="USER"?{height:430}:{height:500},bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(o,{bgcolor:"#00B69B",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t.user&&t.user.name," ",t.user&&t.user.surname]}),e.jsx(V,{onClick:()=>{p(""),j(""),n()},children:e.jsx(Ae,{sx:{color:"#fff"}})})]}),e.jsxs(o,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(o,{direction:"row",width:"100%",children:e.jsx(be,{dateAdapter:ye,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(o,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ce,{fullWidth:!0,defaultValue:J(t.task&&t.task.startDate).isValid()?J(t.task&&t.task.startDate):null,onChange:M=>{b(M||null)},format:"DD.MM.YYYY"})]}),e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ce,{fullWidth:!0,defaultValue:J(t.task&&t.task.endDate).isValid()?J(t.task&&t.task.endDate):null,onChange:M=>{P(M||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(Q,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt...",autoComplete:"off",value:F,fullWidth:!0,onChange:M=>d(M.target.value),sx:{borderRadius:"8px",height:56}}),T.role==="USER"?"":e.jsxs(oe,{children:[e.jsx(le,{id:"age-label",children:"Işgärler"}),e.jsx(ne,{labelId:"age-label",value:h,label:"Işgärler",onChange:_,children:B.map(M=>e.jsxs(O,{value:M.id,children:[M.name," ",M.surname]}))})]}),e.jsxs(o,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,onChange:$,label:"Wajyplygy",children:[e.jsx(O,{value:"Ýokary",children:"Ýokary"}),e.jsx(O,{value:"Orta",children:"Orta"}),e.jsx(O,{value:"Pes",children:"Pes"})]})]}),e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:k,onChange:v,label:"Statusy",children:[e.jsx(O,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(O,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(O,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(O,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsxs(o,{direction:"row",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",width:"40%",children:"Işiň näçe % edildi"}),e.jsx(so,{color:N==0?"error":"success",value:N,onChange:g,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,marks:!0,max:100})]}),e.jsx(o,{alignItems:"end",children:e.jsx(H,{sx:{border:"1px solid #00b69b",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#00B69B",backgroundColor:"#f0f7ff"},onClick:U,children:"Ýatda sakla"})})]})]})})})},fn=({open:s,handleClose:t,details:n})=>{a.useState(!1);const[x,c]=a.useState(n?n.priority:"Pes"),[h,I]=a.useState(n?n.status:"Başlanmadyk"),Y=JSON.parse(localStorage.getItem("CRM_USER")),[y,w]=a.useState((n==null?void 0:n.name)||""),[p,k]=a.useState(n?n.startdate&&D(n.enddate).format("YYYY-MM-DD"):null),[j,F]=a.useState(n?n.startdate&&D(n.startdate).format("YYYY-MM-DD"):null);L(m=>m.users.status);const d=L(m=>m.users.data);a.useEffect(()=>{n&&(w(n.name||""),c(n.priority||""),I(n.status||""),F(n.startdate||""),k(n.enddate||""))},[n]);const S=se();a.useState([]);const b=m=>{c(m.target.value)},u=m=>{I(m.target.value)};a.useEffect(()=>{S(ze())},[S]);const P=m=>{w(m.target.value)},B=(m,N)=>{},C=()=>{const m={userId:Y.id,projectId:n&&n.project_id,archived:!1,name:y,status:h,priority:x,startDate:J(j).format("YYYY-MM-DD"),endDate:J(p).format("YYYY-MM-DD")};y!=""&&x!=""&&j!==null&&p!=null?(S(yt(m)),t()):A.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(fe,{open:s,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(o,{bgcolor:"#00B69B",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(i,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:n&&n.name}),e.jsx(V,{onClick:t,children:e.jsx(Ae,{sx:{color:"#fff"}})})]}),e.jsxs(o,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(o,{spacing:2,direction:"row",children:e.jsx(Q,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:y,fullWidth:!0,onChange:P,sx:{borderRadius:"8px",height:56}})}),e.jsx(Be,{id:"combo-box-demo",multiple:!0,defaultValue:n&&n.users,fullWidth:!0,options:d,getOptionLabel:m=>`${q(m.name)} ${q(m.surname==null?"":m.surname)}`,disabled:!0,onChange:B,renderInput:m=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...m,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...m.InputProps,endAdornment:e.jsx(e.Fragment,{children:m.InputProps.endAdornment})}}),popupIcon:e.jsx(Kt,{})}),e.jsx(o,{direction:"row",width:"100%",children:e.jsx(be,{dateAdapter:ye,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(o,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ce,{fullWidth:!0,defaultValue:J(n&&n.startdate).isValid()?J(n&&n.startdate):null,onChange:m=>{F(m?m?J(m).format("YYYY-MM-DD"):J(n&&n.startdate):J(n&&n.startdate))},format:"DD.MM.YYYY"})]}),e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ce,{fullWidth:!0,defaultValue:J(n&&n.enddate).isValid()?J(n&&n.enddate):null,onChange:m=>{k(m&&m?J(m).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(o,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:x,onChange:b,label:"Wajyplygy",children:[e.jsx(O,{value:"Ýokary",children:"Ýokary"}),e.jsx(O,{value:"Orta",children:"Orta"}),e.jsx(O,{value:"Pes",children:"Pes"})]})]}),e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:u,label:"Statusy",children:[e.jsx(O,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(O,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(O,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(O,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(o,{alignItems:"end",pt:"10px",children:e.jsx(H,{sx:{border:"1px solid #00b69b",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#00B69B",backgroundColor:"#f0f7ff"},onClick:C,children:"Ýatda sakla"})})]})]})})})},jn=()=>{const[s,t]=a.useState(""),[n,x]=a.useState(),c=L(r=>r.project.status),h=L(r=>r.project.error),I=L(r=>r.project.data),Y=L(r=>r.users.data),[y,w]=a.useState(!1),p=()=>w(!0),k=()=>w(!1),[j,F]=a.useState(!1),d=we(),S=se(),b=r=>{t(r.target.value)},u=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{s!==""&&S(Ze(s.id))},[S,s]),a.useEffect(()=>{S(Oe())},[S]);const P=()=>{t(""),S(Oe())},B={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},C=r=>{if(r){const z={projectId:r,responsibleUserId:u.id};S(wt(z))}},m=()=>{F(!0)},N=()=>{F(!1)};return e.jsx(Z,{mt:2,width:"100%",backgroundColor:"#f4f5f9",children:e.jsxs(o,{backgroundColor:"#fff",width:"100%",height:"62vh",borderRadius:"12px",p:"20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(o,{height:70,backgroundColor:"#F6FDFD",alignContent:"center",justifyContent:"space-between",p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsx(o,{width:"80%",alignContent:"center",justifyContent:"center",children:e.jsx(i,{fontFamily:"DM Sans",fontWeight:600,fontSize:18,children:"Proýektleriň mazmuny"})}),e.jsxs(o,{height:"100%",direction:"row",spacing:4,alignItems:"center",justifyContent:"center",children:[e.jsxs(oe,{children:[e.jsx(le,{id:"age-label",shrink:j||!!s,sx:{position:"absolute",top:j||s?0:"50%",left:14,transform:"translateY(-50%)",padding:0,paddingRight:1,margin:0,fontSize:"16px",transition:"all 0.2s ease-in-out",color:"#474747",fontFamily:"DM Sans"},children:"Işgärler"}),e.jsx(ne,{labelId:"age-label",value:s,label:"Işgärler   ",onChange:b,onFocus:m,onBlur:N,sx:{borderRadius:"20px",backgroundColor:"#F0F7FF",minWidth:230,height:45,padding:0,"& .MuiSelect-select":{padding:"10px 14px",display:"flex",alignItems:"center"}},children:Y.map(r=>e.jsxs(O,{value:r,children:[r.name," ",r.surname]},r.id))})]}),e.jsx(H,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:190,height:45,border:"1px solid lightgray"},onClick:P,children:"Hemmesi"})]})]}),e.jsx(o,{children:e.jsxs(o,{children:[c==="loading..."?e.jsxs(o,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(je,{}),"Loading..."]}):c==="failed"?A.error(h):c==="succeeded"?e.jsx(o,{sx:{overflow:"auto",height:"375px"},children:I.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(He,{children:e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Oo.map(r=>e.jsx(W,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:r.title},r.id))})}),e.jsx(Fe,{sx:{cursor:"pointer"},children:I.map((r,z)=>e.jsxs($e,{children:[e.jsx(W,{sx:B,onClick:()=>d(`/projects/${r.project_id?r.project_id:r.id}`),children:r.name}),e.jsxs(W,{onClick:()=>d(`/projects/${r.project_id?r.project_id:r.id}`),sx:B,children:[r.users?r.users[0]?r.users[0].name:"":s.name+" "+s.surname,r.users&&r.users[1]?` , ${r.users[1].name}`:""," ",r.users&&r.users[2]?` , ${r.users[2].name}`:""]}),e.jsxs(W,{onClick:()=>d(`/projects/${r.project_id?r.project_id:r.id}`),sx:B,children:[D(r.startdate).format("DD.MM.YYYY")," -"," ",D(r.enddate).format("DD.MM.YYYY")]}),e.jsx(W,{onClick:()=>d(`/projects/${r.project_id?r.project_id:r.id}`),sx:B,children:e.jsxs(o,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(o,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(o,{style:{width:`${r.completion}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(o,{style:{fontSize:13,color:"#00B69B"},children:`${Math.ceil(r.completion)}%`})]})}),e.jsx(W,{onClick:()=>d(`/projects/${r.project_id?r.project_id:r.id}`),sx:{...B},children:r.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",border:"0.5px solid gray",children:"Pes"}):r.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"0.5px solid #9A93FF",children:"Ýokary"})}),e.jsx(W,{onClick:()=>d(`/projects/${r.project_id?r.project_id:r.id}`),sx:B,children:r.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",border:"0.5px solid #E79124",children:"Dowam edýän"}):r.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",border:"0.5px solid #FF6A54",color:"#FF6A54",children:r.status})}),e.jsx(W,{sx:{width:"100px"},children:e.jsxs(o,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(V,{onClick:()=>{p(),x(r)},children:e.jsx($t,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(V,{onClick:()=>C(r.project_id?r.project_id:r.id),children:e.jsx("img",{style:{width:20,height:20},src:Le,alt:""})})]})})]},z))})]})})}):"",e.jsx(fn,{open:y,handleClose:k,details:n})]})})]})})},An=({setProjectName:s})=>{const[t,n]=a.useState(""),[x,c]=a.useState(!1),[h,I]=a.useState([]);Ke();const Y=L(d=>d.projectDetail.status),y=L(d=>d.projectDetail.error),w=L(d=>d.projectDetail.data);a.useState([w]);const p=se(),k=JSON.parse(localStorage.getItem("CRM_USER")),j=we();a.useEffect(()=>{p(Ze(k.id))},[p]),Y==="succeeded"&&s(w);const F={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500};return e.jsxs(o,{children:[Y==="loading..."?e.jsxs(o,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(je,{}),"Loading..."]}):Y==="failed"?A.error(y):Y==="succeeded"?e.jsx(o,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:w.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(He,{children:e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:hs.map(d=>e.jsx(W,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:d.title},d.id))})}),e.jsx(Fe,{children:w.map(d=>e.jsxs($e,{sx:{cursor:"pointer"},children:[e.jsx(W,{onClick:()=>j(`/projects/${d.project_id?d.project_id:d.id}`),sx:F,children:d.name}),e.jsxs(W,{onClick:()=>j(`/projects/${d.project_id?d.project_id:d.id}`),sx:F,children:[D(d.startDate).format("DD.MM.YYYY")," -"," ",D(d.endDate).format("DD.MM.YYYY")]}),e.jsx(W,{onClick:()=>j(`/projects/${d.project_id?d.project_id:d.id}`),sx:F,children:e.jsxs(o,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(o,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(o,{style:{width:`${Math.floor(d.completion)}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(o,{style:{fontSize:13,color:"#00B69B"},children:`${Math.floor(d.completion)}%`})]})}),e.jsx(W,{onClick:()=>j(`/projects/${d.project_id?d.project_id:d.id}`),sx:{...F},children:d.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):d.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(W,{onClick:()=>j(`/projects/${d.project_id?d.project_id:d.id}`),sx:F,children:d.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):d.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:d.status})})]}))})]})})}):"",e.jsx(ms,{user:t,setSelectedUsers:n,openUserModal:x,handleCloseUserModal:()=>c(!1),setWorkers:I})]})},bn=()=>{const[s,t]=a.useState("");L(x=>x.users.data),a.useState(!1),we();const n=x=>{t(x)};return e.jsx(Z,{height:"90vh",p:"0 15px",width:"100%",backgroundColor:"#f4f5f9",overflow:"auto",children:e.jsxs(o,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:2,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsx(o,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:e.jsx(o,{width:"100%",children:e.jsx(i,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektler"})})}),e.jsx(An,{setProjectName:n})]})})},yn=()=>{const s=JSON.parse(localStorage.getItem("CRM_USER"));return e.jsx(Z,{height:"100%",p:s.role==="USER"?0:2,width:"100%",backgroundColor:"#f4f5f9",overflow:"auto",children:s.role==="USER"?e.jsx(bn,{}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{}),e.jsx(jn,{})]})})},wn=({selectedDay:s,setDateNote:t})=>e.jsx(be,{dateAdapter:ye,children:e.jsx(ce,{defaultValue:J(s,"DD/MM/YYYY").isValid()?J(s,"DD/MM/YYYY"):null,onChange:n=>{t(n?n.format("YYYY-MM-DD"):null)},format:"DD/MM/YYYY",slotProps:{textField:{InputProps:{sx:{backgroundColor:"#f6e9e2",borderRadius:"40px",color:"#ff730f !important",padding:"0 16px",height:45,width:190,"&:hover":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #FF9E58"},"& .MuiSvgIcon-root":{color:"#ff730f",opacity:.7},"& .MuiInputBase-input":{color:"#ff730f",fontFamily:"DM Sans"}}}}}})}),Cn=()=>{a.useState();const[s,t]=a.useState(""),[n,x]=a.useState("+993"),[c,h]=a.useState(""),[I,Y]=a.useState(""),[y,w]=a.useState(""),[p,k]=a.useState("");a.useState("");const[j,F]=a.useState(!1),[d,S]=a.useState(""),[b,u]=a.useState("TKM"),[P,B]=a.useState(""),[C,m]=a.useState(""),[N,r]=a.useState(J()),[z,T]=a.useState([]),K=g=>{S(g.target.value)},_=g=>{u(g.target.value)};se();const $=we();a.useEffect(()=>{(async()=>{await R.get("/position/get").then(U=>{T(U.data)})})()},[]);const v=async g=>{g.preventDefault();try{if(s.trim().length<=0||p.trim().length<=0)A.error("Dogry maglumatyňyzy giriziň!");else{F(!0);const U=await R.post("/user/registration",{login:c,pass:p,surname:q(I),name:q(y),mail:s,phoneNumber:n,birthday:N,whereStudy:P,whereLive:C,languages:b,role:"USER",positionId:d}).then(M=>M.data?(setTimeout(()=>$("/login"),2e3),A.success("Üstünlikli registrasiýa!"),t(""),x("+993"),h(""),Y(""),w(""),k(""),F(!1),B(""),S(""),u(""),m(""),r(J())):"")}}catch(U){A.error(U.message==="Network Error"?"Internet baglanyşygy ýok":U.response.data),F(!1)}};return e.jsxs(o,{width:"100%",height:600,justifyContent:"center",borderRadius:"20px",mt:-5,children:[e.jsx(i,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Ady",type:"text",value:y,name:"password",onChange:g=>w(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(Q,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:I,onChange:g=>Y(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:c,onChange:g=>h(g.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(oe,{fullWidth:!0,children:[e.jsx(le,{id:"simple-select-label",children:"Wezipe"}),e.jsx(ne,{labelId:"simple-select-label",id:"simple-select",value:d,onChange:K,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:z.map(g=>e.jsx(O,{value:g.id,children:g.name},g.id))})]})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(be,{dateAdapter:ye,sx:{width:"100%",pt:0},children:e.jsx(Ie,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ce,{label:"Doglan senesi",value:N,format:"DD.MM.YYYY",onChange:g=>r(g),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(Q,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:s,onChange:g=>t(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:P,name:"password",onChange:g=>B(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(Q,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:C,onChange:g=>m(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:n,onChange:g=>x(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(oe,{fullWidth:!0,children:[e.jsx(le,{id:"simple-select-label",children:"Dili"}),e.jsxs(ne,{labelId:"simple-select-label",id:"simple-select",value:b,onChange:_,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(O,{value:"ENG",children:"ENG"}),e.jsx(O,{value:"RUS",children:"RUS"}),e.jsx(O,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(o,{direction:"column",width:"90%",spacing:2,children:e.jsxs(o,{direction:"row",width:"100%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:p,onChange:g=>k(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(Q,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:g=>k(g.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsx(o,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:e.jsx(H,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:j?e.jsx(o,{alignItems:"center",children:e.jsx(je,{sx:{color:"#fff"}})}):"Hasaba almak"})})]})]})},Sn=()=>{a.useState("");const[s,t]=a.useState(!1),n=()=>t(!0),x=()=>t(!1);a.useState(""),a.useState("+993"),a.useState(""),a.useState(""),a.useState(""),a.useState(""),a.useState(!1);const c=L(u=>u.getWorkTime.status),h=L(u=>u.getWorkTime.error),I=L(u=>u.getWorkTime.data),[Y,y]=a.useState(""),[w,p]=a.useState(J()),k=se(),j=we();JSON.parse(localStorage.getItem("CRM_USER")),a.useEffect(()=>{k(At(J(w).format("YYYY-MM-DD")))},[w,k]);const F=c==="succeeded"?I.users.filter(u=>u.id!==9&&u.name.toLowerCase().includes(Y.toLowerCase())):[],d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},S={p:1,textAlign:"center",fontFamily:"DM Sans"},b=()=>e.jsx(i,{color:"tomato",fontSize:14,children:"-"});return D().set({year:2024,month:8,date:28,hour:9,minute:0,second:0,millisecond:0}).toISOString(),e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",children:[e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 30px 8px 0",children:[e.jsx(i,{p:"0px 20px 0px 10px",fontSize:{lg:"30px",md:"30px",sm:"25px",xs:"20px"},fontFamily:"Montserrat",fontWeight:"500",children:"Işgärler"}),e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(Q,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{color:"#000",minWidth:"150px",borderRadius:"40px",mr:"20px"},onChange:u=>y(u.target.value),value:Y,placeholder:"Ady boýunça gözle",InputProps:{sx:{height:"45px",color:"#000",fontWeight:"600",borderRadius:"40px",padding:"none"}}}),e.jsx(wn,{selectedDay:w,setDateNote:p}),e.jsxs(H,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:n,children:[e.jsx(_t,{}),"Işgär goşmak"]})]})]}),e.jsxs(o,{backgroundColor:"#fff",minHeight:"78vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"center",children:[e.jsx(Je,{}),e.jsx(fe,{open:s,onClose:x,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(Z,{sx:d,children:[e.jsx(o,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(V,{sx:{fontWeight:600,fontSize:20},onClick:x,children:"X"})}),e.jsx(Cn,{})]})})]}),e.jsx(o,{children:c==="loading..."?e.jsxs(o,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(je,{}),"Loading..."]}):c==="failed"?A.error(h):c==="succeeded"?e.jsx(o,{children:F.length==0?e.jsx(i,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(He,{sx:{height:"77vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Po.map(u=>e.jsx(W,{sx:{color:"#222222",fontWeight:500,fontSize:18,textAlign:"center"},children:u.title},u.id))})}),e.jsx(Fe,{children:F.map((u,P)=>{var B,C,m,N,r,z,T,K,_,$;return e.jsxs($e,{onClick:()=>j(`/employees/${u.id}?date=${w}`),style:{cursor:"pointer"},children:[e.jsx(W,{sx:S,children:P+1}),e.jsx(W,{sx:{...S,textAlign:"start"},children:u.name}),e.jsx(W,{sx:S,children:u.surname}),e.jsx(W,{sx:S,children:u.employeeRegistrationTimes.length>0&&((B=u.employeeRegistrationTimes[0])!=null&&B.comeTime)?J(u.employeeRegistrationTimes[0].comeTime).format("HH:mm"):e.jsx(b,{})}),e.jsx(W,{sx:S,children:u.employeeRegistrationTimes&&u.employeeRegistrationTimes.length>0&&u.employeeRegistrationTimes[u.employeeRegistrationTimes.length-1]?u.employeeRegistrationTimes[u.employeeRegistrationTimes.length-1].leaveTime===null?"Bellik edilmedi":J(u.employeeRegistrationTimes[u.employeeRegistrationTimes.length-1].leaveTime).format("HH:mm"):e.jsx(b,{})}),e.jsx(W,{sx:{...S,color:"tomato"},children:new Date((C=u.employeeRegistrationTimes[0])!=null&&C.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getHours()>=9&&(new Date((m=u.employeeRegistrationTimes[0])!=null&&m.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0||new Date((N=u.employeeRegistrationTimes[0])!=null&&N.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getMinutes()>0)?e.jsxs(e.Fragment,{children:[new Date((r=u.employeeRegistrationTimes[0])!=null&&r.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0&&new Date((z=u.employeeRegistrationTimes[0])!=null&&z.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getHours()-9+"(sag)",new Date((T=u.employeeRegistrationTimes[0])!=null&&T.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getMinutes()>0&&e.jsxs(e.Fragment,{children:[new Date((K=u.employeeRegistrationTimes[0])!=null&&K.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0&&":",new Date((_=u.employeeRegistrationTimes[0])!=null&&_.comeTime?u.employeeRegistrationTimes[0].comeTime:"").getMinutes(),"(min)"]})]}):""}),e.jsx(W,{sx:{maxWidth:"230px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:u.employeeRegistrationTimes.length>0&&(($=u.employeeRegistrationTimes[0])!=null&&$.note)?u.employeeRegistrationTimes[0].note:""},P)]},u.id)})})]})})}):""})]})]})},kn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHcSURBVHgB7ZiBccIwDEV/mYARNAIjZIN2g3oENsAbQCeADWCDZAO6AWxAO0EbX8IhC9sJSexwXN6djhCHWJHlLwVg4sV5w2NkpVF9XJR2xpOwLO1S2h+zE27OjgaVdoTtGLcNRoRQRYk7ZKJ4EN/nGIk9bOc0cyYX55OjYDunxPgSdhSTwyO0dYybSPJNkyEhc9jRI891ml2TIyELNvExcJ18kAwRmME98ZVf+PlBJdZXPhCBGfrxxY7fkQiCXS1CcJ08IBE8t0ISwqUmtJmicG6Y2JzjMqORGF7Olo5xXmWa0iAKfPmkxrXVyagQ/A0BHxvNQUOoIeBjSasIRzYEPIq82hhbB+5DqHLWVKUtBoy4bAi0GJcys3Lcw9WJX6OuMAAyiiTGd3C/BhDsNPDZqXaU0APe8ruah41jYhm1AlWt3sHvbOflb5Nv2jOpcVTqKNWOnuCOaKdXiDb5RrAFvkBzRJTDUYWOyKX07VzC40uVI1y5WrODe1P0hUcxQ0807vNshe6sYD/wIGgMIxmfGCj/XBDcO9HYvp5s4fmt2alr3D9gFBT8jnL9zGvzyQshMqq0bzRXD2lFCuc4hEoqjCZeGhzLmm726P+DXTD5RrhVCPO6eq4/Jyaenn/GPB3kZCDDsgAAAABJRU5ErkJggg==",Dn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHXSURBVHgB7ZfxccIgFId/eg7gCIxgN0g3aCeoI+gEkgnsBrYTtBvYTmCdwGxQN7C8Ey6AJHlgmvzDd/fuTA4en4QHCZDJZDL/ysS7nqvYqhAYh0rFWsW5qcFKxWXkWNlCU09wjvFxHGbgQdP+g35ZqNggclIkwtP+qxP2RaFzhsaSdsNpS5JPXBctQf/yoOIF90M59qhnrtJjBWkTPKp4RC1JvOH6WFJZ6RyGSo9xbOrQJmgnqKx7EmmS1GfbkfuGLkE7kV0kEnGSG7hri3I9oEOO4AgCtaS9VqSKHaPvDq7ct851ZvRlC0InfFbxbt1bqvhAeKuge3vdxkB9CzDlYgVtqdK6ftIiArdyhXWvhCvLIkWQkHAlF6glKQ5w980S3v7GhXuShLh41wJXSfO7rS2bVEG/Kg2iob1pWyKSlEfMqUpTUClV7xAj2FaVX6g33Qr1lhRT9Swkwoe2OYsbD/WIvBedSzDGZc2gwP1VKdFc9a10CYpAojXStgwJV1KAKeknMVNNa+UE99EscT9LL+dJj8VaOhLNL6wF+mMB5gsrZx+kLcM8mgL9IVW8djWaBWR8zKfoULS+SJBM09QPEbQehS00CUhSA4nhP94rPW6FTCaTGY4/Fb/NMOfMGLwAAAAASUVORK5CYII=",In="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgB7ZjLccIwFEVPPgVQgkogHWiZXShBy+xCB9BBSAW4g6QD6IB0AKkAOiDSYE+ejWRb+EdmODNvBluydO13n2wEN5rxEDg/svFq4zk93nFlbGwcRSxtKK6ECXlxVyd0Sligi62NGQMy5k/MPj1e4xdqGIiVEDJNzxlOonxCFT0j07wqtBn8Qnv156gw+ajQrmzM8Xt0Rk9CfWkuomwkDOTPsjQXUYT9aegIl9a9mGxc4xqDX6i7QUUHfIlJ5hHXub69FJImvybGoPD7Myuk1pBp1sSj6LiQFmLQBZejCReSpgGay9PswxDhzzvq4YRli/WHjUNFf9eeVPSbc+7FnY2nGuN7BztGxrLGuIpzfxrZ4Z56jOiGQ9W5R+rxIn4nNn6onjgpaXc3/MbpbSVvfmfjm0g0+YpriiG/dGWx5sJFPCHOVyE0+Q8QKUzTALkkaOJRAWHuKRoaIv9AxabXees9IGxOS4WXEP8WcRPP8PtsSYsrQvGrWtW4xj3xLR34zIcRE2wq+mr8Pmv8ni1DTmgCfZSNT/w+m9IhivL0hnzWagGUYcj7RzLFXwDuSSp6Qm4emfScpscCKEMVBLjKDBXAhAGo2jzqzWchDGFxiyGFZTgBxQ3MNQPtC5Z98htOotacV/KNf8Mv2zwspa7JlfkAAAAASUVORK5CYII=",vn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgB7VgxdtNAEP0CDuAjiBPEdO5QOsrkBIQbyCVVyAUs5QQ4JwA6uojOpXMCdATRQWX+JxJPXtYSO7JFwvN/b63dWY31NbMzOyvgiP8cUcjN8/n89WazOWP3Js/zj2PoPkMY8iiKJrwmbEEErbo7LZimqf5sunVzFN02fVrjFAHo0S1p1dKrBz+5lH94ye4EI4Gk5ySZu/I/CJJbTHJfMT4qknxOjlVb6FuDcVuJ7a41ftnqf0EYdume4N5TzZIq0EPwN/hGd3yjpBkzEjdNP8uyBAHYpUu51mayS+8JwlDoh8QLhKOw6AYR5Juf8gEv2D1HIKy6oXkQdPkaRlh0Owkymk8Y1bc4LKZdk30WnJBkgn+I0CAZHX0WXCvD44CghzJ0uLkvD37jwi5wQDAPVl3zj97FXjCy5ZIzz1ThWpz3XuhK+RIGBBNUGVaXTr5K55Lz2vBLFR0cv2+yAMcmkiYL9kEWJrEP2C48YhgQvAZVDmnLYrvicGtnkEzW85AzwxQkdfW7xHZ6kKwpOCvsCUOi2F2DMZuqcFnyvG7XGAgzQW38JPCG3U+NjK7VaWEiC9cnt8GWNBNUlCoqWUYp3bTX4hR7hDUPZrW1lrg/ErRJ7W39CSaCIldfL5yp9ZB60QeTi0nsyiMuFRiOrG3NEgaYCC4Wi3d1Lrxmu1HFo7F7+NY5Vy+jNtpW13q4XJn23aeXwQA87mrmoZ5J5Dot7l+n/ZHPJKUreOoKVqvV99ls9oPEXmE8VHzeWyb9z+5E1+e3GHuqSP4Ca/ej0RFHPBT8BA8hA+XxDhf8AAAAAElFTkSuQmCC",Mn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANkSURBVHgB7VexUhsxEN1zUrh0OrocXbpAZ2hiuqSK/wCno8OmSwV8gc0X4FQpAx2pclSQKk5HqhxdyqNLGsh7zMqWZcn24WhC4TejkXS70j1pd6WVyBJL/F8kZZTb7XYDVardrNfr5RIZcxEEsXaSJPto1qzP+d3d3VZskk+nCcErBbFPaK55xClVtERDJSRQcl9knFyBcmo6kG9DryYRESRYqVS6MvI3kjmESVe73W4T3Uw/k1zUHfSaGLvSApmm6aP9DsT6Vv8UhBtso95FdSCR4N1Bms5q9xEIfUeF/ULbNY3uKJggqD7VMP3b29tDVweECxA/sj7tSyT4djC12oPQMQLiPdOmuWPtoo/gMCrhazehgdxFGQUL0ZQIqMgCwAKGZsYuvpUI8BHMrZ8+lymAvGt1v0sE+AgWVjt4CPP6E8tfsZtRzsMJgupb19rlEZLKJLlU72ZD7jDWnez1QfxwYHUnnF9vGbO7OcgdSCSEgiSz2mPOz3PSuWW2JCJCBE9MA6ZccxKCqMmBCy9B9adMu2MJgSMjjiUiggmrJqnmGCmYyWgAUbYG2TejCxlEvU5gnhRVF/qp+napgHoSEtTr9StMuoNmVcufy8vLjDLUvyC/gfz1/SqTBN06v5/L5CI/0k3QXWGN0oZuAyWB/kBmYGrK79nFdXv1nU6nj2rbGpJbQXNsUrIpoD6TkeD7ZuabBCRoSpNVD5AXrjtyJg27zjC6gh1M53QDEGb0b/v+A3lfPOYPmtgApviqpiZW0K/BNJ+NHO2zzc1NLrRhDasaohj7Hovagd4VygnGf8C3Z7qA4SLU/E3Kofd7boLz+NvFxUWmP15F94V+5q69AbkzZ76CRFGOMOZa/dMQZf3D9s2538WuKUORa67GMpGKufk4a+i8HU5cmqBO1BdPUCx6D2Pen6KJh86XGdlME9ugaRx/q8FELZiq6h4x82Jvb49Jh7k6c9cqpQgS9DeHZJXHycbGBoneoNDHinnmws7RGkNz0rzu2VjKxDash33qyvAj3uV84PNNM/CMZTDs89C2PucIqFVX98EErZ+1NDdMp6gNQPp+V3nleXSDvrwwQQMlyh15KeXA46j14JukLPSYaeo190rC6RmJHdgR68M/J+hC/S2VEVGaOjeZ0RJLPHb8BR8GmX2wDLX0AAAAAElFTkSuQmCC",Fn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPcSURBVHgB7Vg7UhtBEG3JThx5b+DlBEBGkRifAPkEWjJnWhE5Q1wASSdgFTpChI5YIsgQJ9ByAit0BH5P20uNxPR+VC5XuUqvajS70709b3pmenokssUWW/zfaMmGiOM4QLWH0mm1Wp9RhyiBihcvLy8z1BnK9Wg0msqGaExQifVAKnYJ6fNC3wOnjchAOEE9AdlMGqDdRBnk6K05ygCvj+i0j7KjnYu+9/U5QdlHOeE7v0G5gY1IGqC2B2F4qF6jN07giVTbQyWdXFxcLMn0+/0Rqh70vjh6EXTO8BiiHc2jfp1+a3nw9PT0UslN6JWiU8UVST8/P58XDdAZSD7FZ0Ubvll6FHamtEWbNbqWd1UK9ByqbzB+jk7i+/v7347sCJ19h2zsbgTqHB4efsBjdHBwcIv3rGi/u7v7AVkL38SQBWj7WdZ/u4IcpyXmqEFg4FPROlkXwKOc5hUvFsBSGKBKaZvrWjYhqGuLxjl9fUN+zLXn25loI7lbyI90568AHvzKAUB+6ZNXEmy3213JF/S5ERqO+APy15YNbgZ9jMQzANqWPBTFlg1zF2MnzpVg4v0QnlE5197Cp4NBBpBzCrnzU8NOJHlg31Gvr+C97yNdF6FjwATk5hpCp8VjWGGnOJVSqUMQ6GgH++L3ToAOH7j+3PDigwb1LmOi5EffOkj+RvtMpQ5BfPCJxODymU/O8MIa5B6rji7ozmCP61kM3QzL6UnP8zewNskeRvwoNl7PWKlGMQNhic7cklsEOYULseEmCVXIqhTgjCfH5graJR/9kn+HxnGQntmRaoQ1dCq9jdn6aMktgpluFAvZWudlCLUuWw7mmvfuYijziOrpbs3Exi6PPCnHXkHQ0OUgAwT1udQlCPB06Gl8MqHBN5IaYNwsk1tHpkWQ8W+ZssObE6PD4h5yDZ2y9cUYyKPutkxu3Vu8BHkmIqEcwyizmRnT33Ud5kkwPtTsOPXZ0SOzqwlH4pFHKvc6gTDDTJHPMeUy0qFixF2xUZzTqbwl95rOiSefrCSo6RDvGCR35ZFnkiedHd8AlEDXyhexKZipl6Vz5QSVBL00Zmrlu0Mw1Rcjn9N8UnzJBG0xDdOrQiIlqHWrw2GeoKI3psyu3RFr3hi4+Zx6j9nOtLjpaTvDyaXmiJPhcBhV9V3rVqeGuGk663dbZxm4d48B21zv6Z36ofBcHXJEo38W3Lut5KGDU5xqPOyhRGhr8Z6h6Xwi+UY51gx8oXfqad0+N/nrI8Q0kcjyzqLNVX99MBqMGRl8af1fJbhGtqMpf4iyK6uJwZPeQ+itWVNiW2yxRU38ATxkKvkv+ktbAAAAAElFTkSuQmCC",Rn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPKSURBVHgB7Vg9VtwwEB5v0sdlupgTxHRAtdxgOQFQpsJLlQ5vlwrvnoDlBCxdOkzFdpATxDkB5AKQ7zPjrHAk/+7Ly8vje09PsiXNfB5pRiOLvOI/hyc9EUWRjypECbQQDyh3LNPp9EF6oDNBEBuhOvI8b1g17unpKUV1DqJz6YDWBEFsCFJnsrJWU2QgO2lLdNBmMMglIHclxlJC6QxlD2UjSRKPhW2UXfSfk5iODfhhkHEiLdDYgsfHx2dQelAQg7LZ4+PjtMkeA6kI40nMz5V63vz09PRQGqARQbVcpI93tBiIZdICkBGY1ocMfty4bl4tQQg+0D1XkNvt6pn0eCUZKskxWUpXgqWvzpRcJj2gMm/lebm5hzeqPvhtjbyRrJZkYiOncZDhhmNDfU1Lz1AvysopA3MOMf5CSXLrxC4ClV4MIUfazGzhobAGSmyQI0JuC/ZxTHkeZC1QpSUd7Qgy3olhPQc5M+Rca8ih5TJ9l49RK78Axl1q01ddVlQtsWmR1NIfy8vlj42+CGEpxvsTHcO+qDR/jpIYulKLjsolLgg+2PYeLLOv9bxELgfiXCyrZdwvW1H35g99/CgOOAlC6AfWsMK3cp+5JAjWly4ZmHuuTZILLEPutd6QtgTXhMxo+5b+2njqJIiv/8kalnwn1YpDcSN0zCngSw2qLJhpHZQ7dE+mbDNM2EKJerkZpjKLjt9xUxyo8uJiUh4GoCA1OxlONBf0NZQwFC0KxWZK5ghTQ+MxFQeqLLgw2qNyJ4MtSBSKAw3M91rMpMCVAx4YbacFK8/i8XhMRUOpODM1lTqSP7cCU7IJws3UMocf9F0fL5FDjhwUqs9ifn2xjIPBgEu2Vx6j2chUrwDmnkqh2OWlsaGjezZD4ES4gJCRCqtNjxrIO4GcOFfeIHGtjYMIxBSQqcCk6tysA+cW5CgTsid1c5pm1KFu/CKH2+yYUZt5IHPLu7p5jU4SCuLy6mMRVgJpCCPzyQOzbpVaco0JKsl5Kaxc2NIoGzQ5DZRcq6tnq7NYM5SZPobw7KRuDi9csrqDzGyZTxXeSEssl8uv29vb9Or3VLy1tcV317ax9FhUn/WRv0H2pCU6ZTN6Kc/YZrqPgL5fHsMAbnosr6rSAX3+zTi9Ur3+1iDX+TbY6++W/qe5MonkQl+exZtNPXbtBJUkz+LCWTKtg1y4541tZ3EbtHaSMuAgy52dHX7oUJ6Xu4h1E5zFX6QnehMkbm5uUng27xV5OIHlFiD3SdaAuj8LjQGLcal5O/P1/P73QM9ucwS+4m/gFxzL99Cfde1MAAAAAElFTkSuQmCC",Yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI3SURBVHgB7Zf/cYIwFMcfnAMwAp2g7QZ2gzpBdQNxAXEBYYPaCXSDXieobsAITiD9fjFcY44fIVL9o3zvcjExyfuQvPcIIoMGDRr0v+Xpjfl8HqBKUEK5jzKUKE3TY9kxMgZMPc+byh2V5/kBVVq2feP/QO6vC4aRzQw8VYRqL/3qCae1lJZNsQLkQoB8gW/0AglfH9vAUb7UQ+3k7LRUgPZ3FEVvcqW4Btb61OAyZasb4Ol0OnDXNEhqg6dfiqMwd841tK6MNmhLugJSONLMhMTTxi6Qi8ViibmJCUcbTfMaAQ3IvSsk4bBGrHXt0X5ug7MC1CF1XyEkDL+3zeUYA+5L7dxRLGQVxQqSC07g5BvURbDA0BQAAXxoZhpUb6Utxoy17o8kSabSQVY7qIsGsHursg2AV0YlgEIdjn0oY23cqiucEyC1Xq9jHVLOSbeAZGFKYp8Ohx2OxUHWR1yh3GiHKr8Vv1vGWstpByuislQoFTch19REdQasi0rUepAc0TdxiXpT1kfcFpX4n2loy9+EU+/tnW3UXwVYRqU0OL4CejDn8gEAxTy6VPMY9QymSS+Juo+obIr6trm+BRx3Liz70I5cUkYFZGgDWQvo+/6jCYedm8FQKo4iJNcQA5K2pCsgfUWDO6r350auFNfgRUF+oz5UtiplEySEK46GN2HpT7FoH0d1MgGrQj8w7nF/rQsG84g3Ug15K2UoF9d/zxyhIjeWG3+8w40yVLFNbhw0aNCgHvUDmNRJVHDtVaoAAAAASUVORK5CYII=",Tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJLSURBVHgB7VjRcYJAEF2TFBArCKlA/YtfIRXEVCDpAG1ArQA/82esIHYQ/PPTdIAVhAo0b2WZ4MkBB6MmM7yZnQNu7+6xt3u7QFSjRo1MNKgCXNdto7nNUQun0+maSqIUQSE2azQa7YJDgt1u9wSiARnCmCDIWSD2iUuLzBCCZMeU5A2Zw6VfciHkK0f/TvTZFRzImAxgTBDWa8XXsMgLLOJn6cPiPYz5kFubTNfTTGqRfgu92PdAcIAmLwDa0Pfkei1j0hCkbf8RweFwOMIkY7oAsC44Tg9e4ICgsh0XgUS7H9+rPpg8NgLIhs6DOJAYNsSPO7RBgjeZ403GdAZg58bYuVFa3xX9cdQEq6JMJjkCfIj9x1Yer9UjowwqW1COJnZyWxF0uQ5VhNaCHFVYgMN/kpPguY9zslp28TM/Yxy/nI3GwVp9MiUoJB2eABP5aOeQBciGSR2u9dDfoePUuFZ1hVRcNDyzpSkHhXxQJmKZCdklRdbZkxALB2ljJa9zAuAiwy5CqijBubR9Ddn9wToY7OOAC9IgocNWSkoWltD/xvheWqc2SHhBz/MctPeQV4qspoOVDBCKLGZlkGNSE8zbxBr2drvV1pS5Wyzb986S2C5bSq4WFfgmgWxAxqeoNFuk+WZpgilkWRbxM3F6FktRZ73QhAxVJZgGIRCSJkiqos7FVVETrIr/W25xAscR8khnANaydH0qQZ8khVGUHbQDT4iD7+zr5M1qtQq63W4Tlw90ASDbcGn3lnxW5s/CqRCU+ftVo8ap8QNUl9vzmHALiwAAAABJRU5ErkJggg==",Bn=({data:s})=>{const[t,n]=a.useState(s);a.useEffect(()=>{s&&n(s)},[s]);const x={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500};return e.jsxs(o,{backgroundColor:"#fff",height:"380px",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",p:"20px",m:"10px 15px",children:[e.jsx(o,{backgroundColor:"#F6FDFD",borderBottom:"1px solid #EAEAEA",justifyContent:"center",height:70,children:e.jsx(i,{fontFamily:"DM Sans",fontWeight:"600",fontSize:18,pl:"20px",children:"Proýektler"})}),e.jsx(o,{children:t&&t.length==0?e.jsx(i,{fontFamily:"DM Sans",textAlign:"center",mt:3,fontWeight:"400",fontSize:18,children:"Proýekt ýok"}):e.jsx(o,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:e.jsx(He,{children:e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:hs.map(c=>e.jsx(W,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:c.title},c.id))})}),e.jsx(Fe,{children:t&&t.map((c,h)=>e.jsxs($e,{sx:{cursor:"pointer"},children:[e.jsx(W,{sx:x,children:c.name}),e.jsxs(W,{sx:x,children:[D(c.startDate).format("DD.MM.YYYY")," -"," ",D(c.endDate).format("DD.MM.YYYY")]}),e.jsx(W,{sx:x,children:e.jsxs(o,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(o,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(o,{style:{width:`${Math.floor(c.completion)}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(o,{style:{fontSize:13,color:"#00B69B"},children:`${Math.floor(c.completion)}%`})]})}),e.jsx(W,{sx:{...x},children:c.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):c.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(W,{sx:x,children:c.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):c.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:c.status})})]},h))})]})})})})]})},En=({data:s})=>{const{id:t}=Ke(),[n]=Ht(),x=n.get("date"),[c,h]=a.useState(s.user&&s.user.status),I=se(),Y=[{img:kn,title:"Jaň ",link:`tel:${s.user&&s.user.phoneNumber}`},{img:In,title:"Sms",link:""},{img:Dn,title:"Poçta",link:`mailto:${s.user&&s.user.mail}`}];a.useEffect(()=>{h(s.user&&s.user.status)},[s]);const y=()=>{const p={userId:t,date:D(x).format("YYYY-MM-DD")},k={userId:t,status:c!==!0};console.log(p),I(Eo({body:p,data:k}))},w=p=>{p&&(h(p.target.checked),console.log("Switch value:",p.target.checked),y())};return e.jsxs(o,{backgroundColor:"#fff",width:"40%",height:"82vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",children:[e.jsxs(o,{direction:"row",justifyContent:"space-between",spacing:"30px",height:"65%",children:[e.jsxs(o,{width:"40%",alignItems:"center",children:[e.jsxs(o,{alignItems:"center",children:[e.jsx(V,{sx:{height:96,width:96},children:s.user&&s.user.img===null?e.jsx(It,{alt:s.user&&s.user.name,src:s.user&&s.user.img,sx:{background:"#9FC2A6",height:96,width:96}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${s.user&&s.user.img}`,alt:""})}),e.jsxs(i,{fontFamily:"DM Sans",fontWeight:"400",mt:1,fontSize:18,children:[s.user&&s.user.name," ",s.user&&s.user.surname]}),e.jsx(oo,{control:e.jsx(no,{checked:c,onChange:w,color:"primary"}),label:`Işgär ${c?"Aktiw":"Aktiw däl"}`})]}),e.jsx(o,{mt:3,direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:Y.map((p,k)=>e.jsxs(o,{sx:{...p.link=="tel:null"||p.link=="mailto:null"?{display:"none"}:{display:"block"}},width:50,alignItems:"center",children:[e.jsx(V,{sx:{width:50,height:50,borderRadius:"100%",border:"1px solid #000",alignItems:"center",justifyContent:"center"},children:e.jsx("a",{href:p.link,style:{width:25,height:25},target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:p.img,style:{width:25,height:25},alt:""})})}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:14,color:"#727272",children:p.title})]},k))})]}),e.jsxs(o,{width:"60%",children:[e.jsxs(o,{children:[s.user&&s.user.mail&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,mt:"16px",children:[e.jsx("img",{src:Yn,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:s.user&&s.user.mail})]}),s.user&&s.user.phoneNumber&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Mn,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:s.user&&s.user.phoneNumber})]}),s.user&&s.user.languages&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Fn,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:s.user&&s.user.languages})]}),s.user&&s.user.whereStudy&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Tn,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:s.user&&s.user.whereStudy})]})]}),e.jsxs(o,{children:[s.user&&s.user.birthday&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,mt:"16px",children:[e.jsx("img",{src:vn,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:D(s.user&&s.user.birthday).format("DD/MM/YYYY")})]}),s.user&&s.user.whereLive&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Rn,style:{width:25,height:25},alt:"mail2"}),e.jsx(i,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:s.user&&s.user.whereLive})]})]})]})]}),e.jsx(Se,{}),e.jsxs(o,{children:[e.jsx(i,{mt:2,fontFamily:"DM Sans",fontWeight:"400",fontSize:18,children:"Resminamalar"}),s.documents&&s.documents.length==0?e.jsx(i,{color:"#727272",textAlign:"center",mt:5,fontSize:18,fontFamily:"DM Sans",children:"Resminama ýok"}):s.documents&&s.documents.map((p,k)=>e.jsxs(o,{spacing:"18px",direction:"row",alignItems:"center",mt:"25px",children:[e.jsxs(i,{color:"#727272",fontFamily:"DM Sans",children:[k+1,"."]}),e.jsx(ao,{sx:{color:"#727272"}}),e.jsx(i,{color:"#727272",fontFamily:"DM Sans",children:p.title})]},p.id))]})]})},Wn=()=>{const{id:s}=Ke(),[t]=Ht(),n=we(),x=se(),c=L(d=>d.getWorkDate.statusMonth),h=L(d=>d.getWorkDate.errorMonth),I=L(d=>d.getWorkDate.employeerTime),Y=t.get("date"),[y,w]=a.useState(null);a.useEffect(()=>{const d={userId:s,date:D(Y).format("YYYY-MM-DD")};x(qe(d))},[x]);const p=d=>{w(S=>S===d?null:d)},k={p:0,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},j=c==="succeeded"&&I.employeerTime.reduce((d,S)=>{const b=new Date(S.comeTime).toISOString().split("T")[0];if(d[b]||(d[b]={totalMinutes:0,firstComeTime:S.comeTime,lastLeaveTime:S.leaveTime,note:S.note,workSessions:[]}),S.comeTime&&S.id){const u=new Date(S.comeTime);let B=(new Date(S.leaveTime)-u)/(1e3*60);B<0&&(B=0),d[b].totalMinutes+=B,d[b].workSessions.push({comeTime:S.comeTime,leaveTime:S.leaveTime,duration:B,note:S.note}),d[b].firstComeTime>S.comeTime&&(d[b].firstComeTime=S.comeTime),(!d[b].lastLeaveTime||d[b].lastLeaveTime<S.leaveTime)&&(d[b].lastLeaveTime=S.leaveTime),!d[b].note&&S.note&&(d[b].note=S.note)}return d},{}),F=Object.keys(j).map(d=>{const{totalMinutes:S,firstComeTime:b,lastLeaveTime:u,note:P}=j[d],B=Math.floor(S/60),C=S%60;return{date:d,totalHours:B,totalMinutes:Math.ceil(C),firstComeTime:b,lastLeaveTime:u,workSessions:j[d].workSessions,note:P}});return e.jsxs(Z,{height:"100%",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",children:[e.jsx(o,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 0 0",children:e.jsx(Qe,{to:"#",onClick:()=>n(-1),style:{textDecoration:"none",color:"#474747"},children:e.jsx(i,{p:"5px 10px",fontSize:"20px",fontFamily:"Montserrat",fontWeight:"600",sx:{"&:hover":{textDecoration:"underline"}},children:"Işgärler / Profili"})})}),e.jsxs(o,{p:1,direction:"row",alignItems:"center",justifyContent:"space-around",children:[e.jsx(En,{data:I}),e.jsxs(o,{backgroundColor:"#fff",width:"57%",height:"82vh",borderRadius:"20px",pb:"20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsx(Je,{}),e.jsx(o,{children:c==="loading..."?e.jsxs(o,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(je,{}),"Loading..."]}):c==="failed"?A.error(h):c==="succeeded"?e.jsx(o,{children:e.jsx(He,{sx:{height:"79vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:zo.map(d=>e.jsx(W,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center"},children:d.title},d.id))})}),e.jsx(Fe,{children:F.map((d,S)=>e.jsxs(e.Fragment,{children:[e.jsxs(pe,{children:[e.jsxs(W,{sx:k,children:[e.jsx(V,{onClick:()=>p(d.date),children:y===d.date?e.jsx(ro,{}):e.jsx(Zt,{})}),D(d.date).format("DD.MM.YYYY")]}),e.jsx(W,{sx:k,children:D(d.firstComeTime).format("HH:mm")}),e.jsx(W,{sx:k,children:d.lastLeaveTime==null?e.jsx(i,{color:"tomato",children:"-"}):D(d.lastLeaveTime).format("HH:mm")}),e.jsx(W,{sx:k,children:`${d.totalHours}:${d.totalMinutes}`}),e.jsx(W,{sx:{...k,color:"tomato"},children:new Date(d.firstComeTime).getHours()>=9&&(new Date(d.firstComeTime).getHours()-9>0||new Date(d.firstComeTime).getMinutes()>0)?e.jsxs(e.Fragment,{children:[new Date(d.firstComeTime).getHours()-9>0&&new Date(d.firstComeTime).getHours()-9+"(sag)",new Date(d.firstComeTime).getMinutes()>0&&e.jsxs(e.Fragment,{children:[new Date(d.firstComeTime).getHours()-9>0&&":",new Date(d.firstComeTime).getMinutes(),"(min)"]})]}):""}),e.jsx(W,{sx:k,children:d.note})]},d.date),e.jsx(pe,{children:e.jsx(W,{colSpan:7,sx:{paddingBottom:0,paddingTop:0},children:e.jsx(io,{in:y===d.date,timeout:"auto",unmountOnExit:!0,children:e.jsxs(Z,{margin:1,children:[e.jsx(i,{variant:"h6",children:"Işlän wagtlary:"}),e.jsxs(ve,{size:"small",children:[e.jsx(Me,{children:e.jsxs(pe,{children:[e.jsx(W,{children:"Gelen wagty"}),e.jsx(W,{children:"Giden wagty"}),e.jsx(W,{children:"Işlän sagady"}),e.jsx(W,{children:"Belligi"})]})}),e.jsx(Fe,{children:d.workSessions.map((b,u)=>e.jsxs(pe,{children:[e.jsx(W,{children:b.comeTime?D(b.comeTime).format("HH:mm"):"-"}),e.jsx(W,{children:b.leaveTime?D(b.leaveTime).format("HH:mm"):"-"}),e.jsx(W,{children:b.leaveTime?`${Math.floor(b.duration/60)}(sag):${Math.ceil(b.duration%60)}(min)`:"-"}),e.jsx(W,{children:b.note?b.note:""})]},u))})]})]})})})})]}))})]})})}):""})]})]}),e.jsx(Bn,{data:I.projects})]})},fs="/assets/pattern-7eLabnOn.png",Nn=({openModal:s,events:t,setStartDate:n,setEndDate:x})=>{D.locale("tk"),D.updateLocale("tk",{weekdays:ls.slice(0,7)}),D.updateLocale("tk",{months:ds});const c=JSON.parse(localStorage.getItem("CRM_USER")),[h,I]=a.useState(D()),[Y,y]=a.useState(null);a.useState(""),a.useState(!1);const[w,p]=a.useState("month"),k=()=>{let C,m;if(w==="month")C=h.clone().startOf("month").startOf("isoWeek"),m=h.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(w==="week")C=h.clone().startOf("isoWeek"),m=h.clone().endOf("isoWeek").subtract(1,"day");else return[];const N=C.clone().subtract(1,"day"),r=[];for(;N.isBefore(m,"day");)r.push(Array(7).fill(0).map(()=>N.add(1,"day").clone()));return r.length===5&&r[4][6].isBefore(m,"day")&&r.push(Array(7).fill(0).map(()=>N.add(1,"day").clone())),{calendar:r,firstDay:C.format("YYYY MM DD"),lastDay:m.format("YYYY MM DD"),endDay:m,startDay:C}};a.useEffect(()=>{const{startDay:C,endDay:m}=k();n(C.format("YYYY-MM-DD")),x(m.format("YYYY-MM-DD"))},[h,w,n,x]);const j=C=>C.day()===0,F=C=>{y(C),j(C)||s(C.format("YYYY-MM-DD"))},d=C=>t.some(m=>D(m.date).isSame(C,"day")),S=C=>t.filter(m=>D(m.date).isSame(C,"day")),b=()=>{if(w==="day")return renderDayView();{const C=k();return e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{children:D.weekdays().map((m,N)=>e.jsx(W,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...N===0?{borderTopLeftRadius:"12px"}:"",...D.weekdays().length-1===N?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:m},N))})}),e.jsx(Fe,{children:C.calendar.map((m,N)=>e.jsx(pe,{children:m.map((r,z)=>e.jsxs(W,{onClick:()=>{F(r)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:j(r)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:r.month()===h.month()?"#474747":"#959494",...r.month()===h.month()?"":{backgroundImage:`url(${fs})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(o,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...D().isSame(r,"day")&&{background:"#9FC2A5",color:"#fff",borderRadius:"100%"}},children:r.format("D")}),d(r)&&t.filter(T=>D(T.date).isSame(r,"day")).map((T,K)=>e.jsxs(o,{style:{fontSize:"14px",backgroundColor:T.color?"#e5dffb":"white",color:r?T.color:"blue",borderLeft:`6px solid ${T.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(i,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:c.role==="USER"?q(T.note):q(T.title)}),S(r).length!==1&&e.jsxs(o,{width:20,height:20,backgroundColor:T.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",S(r).length-1]})]},K))]},z))},N))})]})}},u=()=>{I(h.clone().subtract(1,"month"))},P=()=>{I(h.clone().add(1,"month"))},B=()=>{I(D())};return e.jsxs(o,{p:"10px 15px 5px 15px",children:[e.jsxs(o,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(H,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start"},onClick:B,children:"Şu gün"}),e.jsxs(o,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(o,{direction:"row",alignItems:"center",children:[e.jsx(V,{sx:{color:"#565656"},onClick:u,children:e.jsx(es,{sx:{width:18,height:20}})}),e.jsx(i,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:h.format("MMMM YYYY")}),e.jsx(V,{sx:{color:"#565656"},onClick:P,children:e.jsx(Bt,{sx:{width:18,height:20}})})]}),e.jsxs(o,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(H,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...w==="week"?{background:"#9FC2A5",color:"#fff","&:hover":{background:"#809c85"}}:{background:"#fff"}},onClick:()=>p("week"),children:"Hepde"}),e.jsx(H,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...w=="month"?{background:"#9FC2A5",color:"#fff","&:hover":{background:"#809c85"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>p("month"),children:"Aý"})]})]})]}),b()]})},Un="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFhSURBVHgB7ZeNTcNADIUdxAAdIWzQDUg3KBMQJkk7ATAB3QCxQdiAEdiAbnA8S257SXOtnbOqSO2TrIsuce6T7fsjumlCKrQfhhBmaJakV1sUxS95CQBL2F+wqdb+/0753StsRg6SiHZ0TzqV0n7DNkqflo4BntG8oV0gVT9kURTiDxopBoj+w6ktd++06ciSRGATdb2bizYnEr0IsFbnHCoeSKw6BxF/4wIgTvXQFBuCwHMjfY0bgAWCiyp0143GBcACIX3zIZAsACtEAuTzFEBI1FzWFJUFZwHbSle8t6zxftVzKWG1WOkCkQBJASTlslj1QEwALO3eoQJBnh/Qbq2+rsv2GAB3iLGaBIS1JqqQsZ1TNC0pmk1aiJYB6DDPc8UA+0ONNh0vsC/yEQ/+FJ8nVJEQB8tJ26TJF+YjipAyNO7eIbuil2rtuJ10yB6wpgtr8BrIEUEzpzz5XgOvQv8C+jI7OK+spwAAAABJRU5ErkJggg==",Pn=()=>{const[s,t]=a.useState(!1),[n,x]=a.useState(!1),[c,h]=a.useState(!1),[I,Y]=a.useState(!1),[y,w]=a.useState([]),[p,k]=a.useState("#7551E9"),[j,F]=a.useState(null),[d,S]=a.useState({});a.useState("");const[b,u]=a.useState(""),[P,B]=a.useState(""),[C,m]=a.useState(""),[N,r]=a.useState(""),[z,T]=a.useState(null),[K,_]=a.useState(null),[$,v]=a.useState(),[g,U]=a.useState(),[M,ae]=a.useState(),[he,We]=a.useState(),[Re,E]=a.useState(),ee=L(l=>l.getWorkDate.adminNotes),de=L(l=>l.getWorkDate.statusAdminNote),ke=L(l=>l.users.status),ie=L(l=>l.users.data),ge=$!==void 0?$.HolidayShares&&$.HolidayShares.map(l=>({userId:l.userId,name:l.User.name,surname:l.User.surname})):[],Ve=ke==="succeeded"&&ie.filter(l=>ge&&!ge.some(X=>X.userId===l.id));a.useState(ge);const[De,Ue]=a.useState([]),ue=se(),Ne=JSON.parse(localStorage.getItem("CRM_USER"));L(l=>l.getWorkDate.data),L(l=>l.getWorkDate.statusMonth),L(l=>l.getWorkDate.employeerTime.employeerTime);const f=L(l=>l.getWorkDate.adminNote);D.locale("tk"),a.useEffect(()=>{w([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]),a.useEffect(()=>{ue(ze())},[ue]),a.useEffect(()=>{const l={startDate:b,endDate:P};(l.startDate||l.endDate!=="")&&(ue(rt(l)),ue(lt(Ne.id)))},[b,P,ue]);const te=de==="succeeded"?ee.reduce((l,X)=>{if(X.note!==null){const me=D(X.date).format("YYYY-MM-DD");l[me]||(l[me]=[]),l[me].push(X)}return l},{}):"",re=l=>{k(l)},xe=()=>{x(!1),t(!1),Y(!1),h(!1),Ue([]),m(""),r(""),T(),_(null),U(),r("")},As=l=>{F(l),t(!0)},bs=ge&&ge.map(l=>({id:l.userId})),ys=()=>{De.map(X=>({id:X.id}));const l={title:C,date:D(K).format("YYYY-MM-DD"),dateHour:g,color:p,startDate:b,endDate:P,users:De};C!==""&&K!==null&&g!==void 0?(ue(it(l)),xe()):A.error("Maglumatlary giriziň!")},ws=()=>{const l={userId:N,authorId:Ne.id,content:C,project:Re};C!==""&&N!==""?(ue(dt(l)),m(""),x(!1)):A.error("Maglumatlary giriziň!")},Nt=(l,X)=>{X&&(Ue(()=>[...X.map(me=>({id:me.id?me.id:me.userId}))]),r(X.id))},Cs=l=>{ue(ht({id:l,startDate:b,endDate:P}))},Ss=l=>{const X={id:l,authorId:Ne.id};ue(ut(X))},ks=()=>{const l={noteId:M,content:C,date:D($&&$.date).format("YYYY-MM-DD"),dateHour:g??D(z).format("HH:mm"),startDate:b,endDate:P,authorId:Ne.id,users:De.length==0?bs:De,color:p};C!==""&&(De.length!==0||ge&&ge.length!==0)?(ue(xt(l)),xe()):A.error("Maglumatlary giriziň!")},Ds=l=>{v(l),Y(!0),T(l.date),m(l.title),ae(l.id)},Is=()=>{const l={authorId:Ne.id,noteId:M,content:C,projectId:Re,userId:N};C!==""&&Re!==""?(ue(ct(l)),xe()):A.error("Maglumatlary giriziň!")},vs=l=>{We(l),h(!0),ae(l.id),m(l.content)};return e.jsx(Z,{children:e.jsxs(o,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsx(o,{direction:"column",width:"28%",children:e.jsxs(o,{backgroundColor:"#fff",spacing:"10px",width:"90%",sx:{height:"87.5vh"},borderRadius:"20px",alignItems:"center",m:"0px 20px ",p:"20px 10px 10px 20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",children:[e.jsxs(H,{sx:{color:"#fff",background:"#DC6262",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px",fontWeight:600,"&:hover":{background:"#9FC2A5"}},onClick:()=>t(!0),children:[e.jsx(lo,{})," Duýduryş goşmak"]}),e.jsxs(H,{sx:{color:"#fff",background:"#90BAEB",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px","&:hover":{background:"#9FC2A5"},gap:"10px",fontWeight:600},onClick:()=>x(!0),children:[e.jsx("img",{style:{width:20,height:20},src:Un,alt:"check"})," ","Bellik goşmak"]}),de==="loading..."?e.jsxs(o,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(je,{}),"Loading..."]}):de==="failed"?e.jsx(i,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):de==="succeeded"?ee.length===0&&f.length==0?e.jsx(i,{pt:4,children:"Bellik ýok"}):e.jsxs(o,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:[e.jsxs(o,{children:[e.jsx(i,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,children:"Duýduryşlar"}),e.jsx(Se,{sx:{width:"100%",mb:2}}),Object.keys(te).length===0?e.jsx(i,{mb:3,textAlign:"center",children:"Duýduryş ýok"}):Object.keys(te).map((l,X)=>e.jsxs(ts,{children:[e.jsx(ss,{expandIcon:e.jsx(os,{}),children:e.jsxs(o,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:D(l).format("DD.MM.YYYY")}),e.jsx(o,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:te[l].length})]})}),e.jsx(ns,{sx:{padding:0},children:te[l].map(me=>e.jsxs(e.Fragment,{children:[e.jsxs(o,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsx(o,{borderRadius:"100%",minWidth:35,minHeight:35,backgroundColor:me.color}),e.jsxs(o,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:q(me.title)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:D(me.date).format("DD.MM.YYYY  HH:mm")})]}),e.jsxs(o,{direction:"row",alignItems:"center",children:[e.jsx(V,{onClick:()=>Ds(me),sx:{mr:-1},children:e.jsx(Yt,{sx:{color:"#9FC2A6"}})}),e.jsx(V,{onClick:()=>Cs(me.id),children:e.jsx("img",{style:{width:24,height:24},src:Le,alt:""})})]})]},me.id),e.jsx(Se,{sx:{width:"100%"}})]}))})]},X))]}),e.jsxs(o,{children:[e.jsx(i,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Bellikler"}),e.jsx(Se,{sx:{width:"100%",mb:1}}),f.length==0?e.jsx(i,{mb:3,textAlign:"center",children:"Bellik ýok"}):f.map(l=>e.jsxs(e.Fragment,{children:[e.jsxs(o,{sx:{borderRadius:"5px"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"5px",mb:"10px",children:[e.jsxs(o,{direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(o,{borderRadius:"100%",width:26,height:26,children:e.jsx(co,{sx:{color:"#90BAEB"}})}),e.jsxs(o,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,fontFamily:"Montserrat",children:q(l.content)}),e.jsx(i,{fontSize:15,fontWeight:600,fontFamily:"Montserrat",color:"#90BAEB",children:q(l.projectId)}),e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,justifyContent:"space-between",children:[e.jsx(i,{color:"#797a7c",fontSize:15,fontWeight:500,children:ie.find(X=>X.id===l.userId)?`${q(ie.find(X=>X.id===l.userId).name)} ${q(ie.find(X=>X.id===l.userId).surname)}`:""}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:D(l.createdAt).format("DD.MM.YYYY ")})]})]})]}),e.jsxs(o,{direction:"row",alignItems:"center",children:[e.jsx(V,{onClick:()=>vs(l),sx:{mr:-1},children:e.jsx(Yt,{sx:{color:"#9FC2A6"}})}),e.jsx(V,{onClick:()=>Ss(l.id),children:e.jsx("img",{style:{width:24,height:24},src:Le,alt:""})})]})]},l.id),e.jsx(Se,{sx:{width:"100%"}})]}))]})]}):"",e.jsx(fe,{closeAfterTransition:!0,open:n,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Pe,{in:n,children:e.jsxs(Z,{sx:Tt,children:[e.jsx(o,{children:e.jsx(o,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(V,{onClick:xe,children:e.jsx(Ae,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(o,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(o,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(Be,{id:"combo-box-demo",options:Ft,getOptionLabel:l=>`${q(l.name)} `,onChange:(l,X)=>E(X.name),renderInput:l=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...l,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(o,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(Be,{id:"combo-box-demo",options:ie,getOptionLabel:l=>`${q(l.name)} ${q(l.surname==null?"":l.surname)}`,onChange:(l,X)=>r(X.id),filterSelectedOptions:!0,renderInput:l=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...l,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(o,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(Q,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:l=>m(l.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsxs(o,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:[e.jsx(H,{onClick:xe,sx:{"&:disabled":{background:"lightgray"},background:"#DC6262",color:"#fff","&:hover":{background:"#DC6262"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Pozmak"}),e.jsx(H,{onClick:ws,sx:{"&:disabled":{background:"lightgray"},background:"#9FC2A5",color:"#fff","&:hover":{background:"#9FC2A5"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})]})]})]})})}),e.jsx(fe,{closeAfterTransition:!0,open:c,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Pe,{in:c,children:e.jsxs(Z,{sx:Tt,children:[e.jsx(o,{children:e.jsx(o,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(V,{onClick:xe,children:e.jsx(Ae,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(o,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(o,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýlaa"}),e.jsx(Be,{id:"combo-box-demo",options:Ft,defaultValue:Ft.find(l=>l.name===(he?he.projectId:""))||null,getOptionLabel:l=>`${q(l.name)}`,onChange:(l,X)=>{E(X?X.name:"")},renderInput:l=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...l,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(o,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(Be,{id:"combo-box-demo",options:ie,value:ie.find(l=>l.id===(he?he.userId:""))||null,getOptionLabel:l=>`${q(l.name)} ${q(l.surname==null?"":l.surname)}`,onChange:(l,X)=>r(X.id),renderInput:l=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...l,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(o,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(Q,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",value:C,onChange:l=>m(l.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsxs(o,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:[e.jsx(H,{onClick:xe,sx:{"&:disabled":{background:"lightgray"},background:"#DC6262",color:"#fff","&:hover":{background:"#DC6262"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Pozmak"}),e.jsx(H,{onClick:Is,sx:{"&:disabled":{background:"lightgray"},background:"#9FC2A5",color:"#fff","&:hover":{background:"#9FC2A5"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})]})]})]})})}),e.jsx(fe,{closeAfterTransition:!0,open:s,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Pe,{in:s,children:e.jsx(Z,{sx:Ot,children:e.jsxs(o,{children:[e.jsx(o,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(V,{onClick:xe,children:e.jsx(Ae,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(o,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş"}),e.jsx(Q,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:l=>m(l.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsx(o,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",children:e.jsxs(o,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(Be,{id:"combo-box-demo",multiple:!0,options:ie,getOptionLabel:l=>`${q(l.name)} ${q(l.surname==null?"":l.surname)}`,onChange:Nt,filterSelectedOptions:!0,renderInput:l=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...l,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})}),e.jsx(o,{direction:"row",children:e.jsx(be,{dateAdapter:ye,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(o,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ce,{defaultValue:J(j,"DD/MM/YYYY").isValid()?J(j,"DD/MM/YYYY"):null,fullWidth:!0,onChange:l=>{_(l||null)},format:"DD.MM.YYYY",slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(zt,{ampm:!1,onChange:l=>{U(l?l.format("HH:mm"):null)},format:"HH:mm",slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})]})]})})})}),e.jsxs(o,{spacing:"10px",mt:"20px",pt:"8px",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(o,{direction:"row",spacing:"9px",children:y.map((l,X)=>e.jsx(o,{onClick:()=>re(l.color),style:{backgroundColor:l.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:p===l.color?e.jsx(Xe,{}):""},X))})]}),e.jsxs(o,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:[e.jsx(H,{onClick:xe,sx:{"&:disabled":{background:"lightgray"},background:"#DC6262",color:"#fff","&:hover":{background:"#DC6262"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Pozmak"}),e.jsx(H,{onClick:ys,sx:{"&:disabled":{background:"lightgray"},background:"#9FC2A5",color:"#fff","&:hover":{background:"#9FC2A5"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})]})]})})})}),e.jsx(fe,{closeAfterTransition:!0,open:I,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Pe,{in:I,children:e.jsx(Z,{sx:Ot,height:"565px",children:e.jsxs(o,{children:[e.jsx(o,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(V,{onClick:xe,children:e.jsx(Ae,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(o,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş"}),e.jsx(Q,{fullWidth:!0,value:C,placeholder:"Tekst",type:"text",name:"Tekst",onChange:l=>m(l.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsxs(o,{direction:"column",mt:2,width:"100%",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(Be,{id:"combo-box-demo",options:Ve,multiple:!0,defaultValue:ge,filterSelectedOptions:!0,getOptionLabel:l=>`${q(l.name)} ${q(l.surname==null?"":l.surname)}`,onChange:Nt,sx:{width:"100%"},renderInput:l=>e.jsx(Q,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...l,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsx(o,{width:"100%",direction:"row",children:e.jsx(be,{dateAdapter:ye,localeText:{clearButtonLabel:"Pozmak",todayButtonLabel:"Şugün"},adapterLocale:"tk",children:e.jsx(Ie,{components:["MobileTimePicker","DatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(o,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ce,{fullWidth:!0,defaultValue:J(z).isValid()?J(z):null,onChange:l=>{v(l?J(l).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(zt,{ampm:!1,defaultValue:J(z).isValid()?J(z):null,onChange:l=>{U(l?J(l).format("HH:mm"):null)},views:["hours","minutes"],format:"HH:mm",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})]})]})})})}),e.jsxs(o,{spacing:"10px",mt:"40px",width:"100%",pt:"8px",children:[e.jsx(i,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(o,{direction:"row",spacing:"9px",children:y.map((l,X)=>e.jsx(o,{onClick:()=>re(l.color),style:{backgroundColor:l.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:p===l.color?e.jsx(Xe,{}):""},X))})]}),e.jsxs(o,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:[e.jsx(H,{onClick:xe,sx:{"&:disabled":{background:"lightgray"},background:"#DC6262",color:"#fff","&:hover":{background:"#DC6262"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Pozmak"}),e.jsx(H,{onClick:()=>ks(),sx:{"&:disabled":{background:"lightgray"},background:"#9FC2A5",color:"#fff","&:hover":{background:"#9FC2A5"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})]})]})})})})]})}),e.jsx(o,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(Nn,{openModal:As,color:p,events:ee,setEvents:S,setStartDate:l=>u(l),setEndDate:l=>B(l)})})]})})},zn=({openModal:s,events:t,setStartDate:n,setEndDate:x})=>{D.locale("tk"),D.updateLocale("tk",{weekdays:ls.slice(0,7)}),D.updateLocale("tk",{months:ds});const c=JSON.parse(localStorage.getItem("CRM_USER")),[h,I]=a.useState(D()),[Y,y]=a.useState(null);a.useState(""),a.useState(!1);const[w,p]=a.useState("month"),k=()=>{let C,m;if(w==="month")C=h.clone().startOf("month").startOf("isoWeek"),m=h.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(w==="week")C=h.clone().startOf("isoWeek"),m=h.clone().endOf("isoWeek").subtract(1,"day");else return[];const N=C.clone().subtract(1,"day"),r=[];for(;N.isBefore(m,"day");)r.push(Array(7).fill(0).map(()=>N.add(1,"day").clone()));return r.length===5&&r[4][6].isBefore(m,"day")&&r.push(Array(7).fill(0).map(()=>N.add(1,"day").clone())),{calendar:r,firstDay:C.format("YYYY MM DD"),lastDay:m.format("YYYY MM DD"),endDay:m,startDay:C}};a.useEffect(()=>{const{startDay:C,endDay:m}=k();n(C.format("YYYY-MM-DD")),x(m.format("YYYY-MM-DD"))},[h,w,n,x]);const j=C=>C.day()===0,F=C=>{y(C),j(C)||s(C.format("YYYY-MM-DD"))},d=C=>t.some(m=>c.role==="USER"?D(m.comeTime).isSame(C,"day"):D(m.date,"DD/MM/YYYY").isSame(C,"day")),S=C=>t.filter(m=>c.role==="USER"?D(m.comeTime).isSame(C,"day"):D(m.date,"DD/MM/YYYY").isSame(C,"day")),b=()=>{if(w==="day")return renderDayView();{const C=k();return e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{children:D.weekdays().map((m,N)=>e.jsx(W,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...N===0?{borderTopLeftRadius:"12px"}:"",...D.weekdays().length-1===N?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:m},N))})}),e.jsx(Fe,{children:C.calendar.map((m,N)=>e.jsx(pe,{children:m.map((r,z)=>e.jsxs(W,{onClick:()=>{F(r)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:j(r)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:r.month()===h.month()?"#474747":"#959494",...r.month()===h.month()?"":{backgroundImage:`url(${fs})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(o,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...D().isSame(r,"day")&&{background:"#9FC2A5",color:"#fff",borderRadius:"100%"}},children:r.format("D")}),d(r)&&c.role==="USER"?t.filter(T=>D(T.comeTime).isSame(r,"day")).map((T,K)=>e.jsxs(o,{style:{fontSize:"14px",backgroundColor:T.color?"#e5dffb":"white",color:r?T.color:"blue",borderLeft:`6px solid ${T.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(i,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:c.role==="USER"?q(T.note):q(T.title)}),S(r).length!==1&&e.jsxs(o,{width:20,height:20,backgroundColor:T.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",S(r).length-1]})]},K)):t.filter(T=>D(T.date,"DD/MM/YYYY").isSame(r,"day")).map((T,K)=>e.jsxs(o,{style:{fontSize:"14px",backgroundColor:T.color?"#e5dffb":"white",color:r?T.color:"blue",borderLeft:`6px solid ${T.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(i,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:c.role==="USER"?q(T.note):q(T.title)}),S(r).length!==1&&e.jsxs(o,{width:20,height:20,backgroundColor:T.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",S(r).length-1]})]},K))]},z))},N))})]})}},u=()=>{I(h.clone().subtract(1,"month"))},P=()=>{I(h.clone().add(1,"month"))},B=()=>{I(D())};return e.jsxs(o,{p:"10px 15px 5px 15px",children:[e.jsxs(o,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(H,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start"},onClick:B,children:"Şu gün"}),e.jsxs(o,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(o,{direction:"row",alignItems:"center",children:[e.jsx(V,{sx:{color:"#565656"},onClick:u,children:e.jsx(es,{sx:{width:18,height:20}})}),e.jsx(i,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:h.format("MMMM YYYY")}),e.jsx(V,{sx:{color:"#565656"},onClick:P,children:e.jsx(Bt,{sx:{width:18,height:20}})})]}),e.jsxs(o,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(H,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...w==="week"?{background:"#9FC2A5",color:"#fff","&:hover":{background:"#809c85"}}:{background:"#fff"}},onClick:()=>p("week"),children:"Hepde"}),e.jsx(H,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...w=="month"?{background:"#9FC2A5",color:"#fff","&:hover":{background:"#809c85"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>p("month"),children:"Aý"})]})]})]}),b()]})},On="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFMSURBVHgBzZUxTgMxEEX/2Bu0QkLKEZYKIVHkCOEGUIDELeihCAJEyRFSUqTIFcIJki6CBucESU/sYTdRCmKTmYQt8prVjvfPt72eMUGgM+w2bZ63UmMecJ3TG7dJn0HAHh61CdxPjgWclw+3SW8gYCg4/APZwPvZX2MecwcBgoKnjx6n4vcnV6JeXMEC5kkUAjso0BkYmiJ2mKikmo8QWJVsdwOm6EcTmS8oUBkw4qPKwde3RQbk1mPEPNNpFQRjomScMN3ZIFnNZOpbQaqaNVW8mAeUrFezpoorxG66gpnfy4wFltOaYl9Qb1F18TTy/MLDIsAPpItmK4OX8VvhbTYsz2azeq8anfnG5d3Z9UjSqk6Rp6y7Sr6cFRV8QK8ara4XgY+jCHMBBUoDRFtRNrsBFKgMLDdu6XdrGM29fUDdPI577efPfmsbzQ/mEmtiWItDBwAAAABJRU5ErkJggg==",Qn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH2SURBVHgB7ZlNTsJAFIDfVHCNC3TrEeAIbiTEhV7BE0hPQDlB4QSegYVRcYGeQI/gzgRi5ADQ57zYmmaYAr5Oh4mZLyHpzwTmy5u+94YCeDyePAKYxPcfp+KgdisPW/LTgBL0zpvseRA1YJAKvELJyZsiAA5BMARHBAiWhBDBJVgknsxao8d5v+g+azmplF3TmyABAWKKAhpSBG46zYE6hrecLJEJQLp0pUiki4izEqpARpIka1F3UqJIAFfJIOyeROp45yT+KkA4JcERILTZaTiZY/6ck33ih3kPVvgcXhy/7TSeKUBUEonR02dfBBCLupjGd7PWtvFlBAjjEiSAmETpaWObSFkBwriEJgUWipgQIIxLhJ1mhAhqVV0TMSVAGGk7VEgkli2CEJCvrpnIGdRpD2BGgKhEgtgkkh3nx28S2JYtK60TRUsLDEUgo/JiVyDyS1kBwkrFLhIxIUBYaztUEVMCRGUPto7sYZfFBEwJEFYlCBIBwzi9s9sVL+EKXsIVuNlpAbnWQe1tbMOLhICdtpxVgEkyVq+xJHBZu4afaNhFiAXgYU+9zJIIu0fvuKq15TZ0DDaQk0fAF1wetOm31dvsip1+2RU4gE+xrvAvJLT/7Mm8/wUW3wSVfb+hj8Qe6wAHrcTe6gATrYT1OuDxeIzyDSk9ACXAXvuiAAAAAElFTkSuQmCC",js=()=>{const[s,t]=a.useState(!1),[n,x]=a.useState(!1),[c,h]=a.useState([]),[I,Y]=a.useState("#7551E9"),[y,w]=a.useState(null),[p,k]=a.useState({}),[j,F]=a.useState(""),[d,S]=a.useState(""),[b,u]=a.useState(""),[P,B]=a.useState([]),[C,m]=a.useState(),[N,r]=a.useState(),z=se(),T=JSON.parse(localStorage.getItem("CRM_USER")),K=L(f=>f.getWorkDate.data),_=L(f=>f.getWorkDate.statusMonth),$=L(f=>f.getWorkDate.employeerTime.employeerTime),v=L(f=>f.getWorkDate.adminNotes),g=L(f=>f.getWorkDate.adminNote),U=L(f=>f.getWorkDate.statusAdminNote),M=L(f=>f.getWorkDate.status);D.locale("tk"),a.useEffect(()=>{h([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]);const ae=f=>{const te={userId:T.id,date:f};z(et(te))},he=K.filter(f=>f.leaveTime===null);a.useEffect(()=>{const f={userId:T.id,date:D(d).add(13,"days").format("YYYY-MM-DD")};d!==""&&z(qe(f))},[d,z]),a.useEffect(()=>{const f={startDate:d,endDate:b,userId:T.id};(f.startDate||f.endDate!=="")&&(z(at(f)),z(pt(T.id)))},[d,b,z]);const We=_==="succeeded"&&$.reduce((f,te)=>{if(te.note!==null){const re=D(te.comeTime).format("YYYY-MM-DD");f[re]||(f[re]=[]),f[re].push(te)}return f},{});U==="succeeded"&&v.reduce((f,te)=>{if(te.note!==null){const re=D(te.date,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD");f[re]||(f[re]=[]),f[re].push(te)}return f},{});const Re=f=>{Y(f)},E=()=>{x(!1),t(!1),B([])},ee=f=>{w(f),t(!0),ae(f)},de=()=>{const f={userId:T.id,comeStatus:!0,userGetTime:{id:T.id,date:y}};z(tt(f))},ke=()=>{const f={userId:T.id,leaveStatus:!0,userGetTime:{id:T.id,date:y}};z(st(f))},ie=_==="succeeded"?$.filter(f=>f.note!==null):[],ge=()=>{const f={id:K[K.length-1].id,note:j,color:I,userGetTime:{id:T.id,date:y}};j!==""&&z(ot(f)),F("")},Ve=()=>{const f={id:N.id,note:j,color:I,userGetTime:{id:T.id,date:y}};j!==""?z(nt(f)):A.error("Maglumatlary giriziň!"),F("")},De=f=>{f.preventDefault(),y&&(k({text:j,color:I}),ge(),t(!1))},Ue=()=>{Ve(),k({text:j,color:I}),x(!1)},ue=f=>{F(f.note),r(f),x(!0),m(f.id)},Ne=f=>{const te={id:f,userId:T.id,date:D(d).add(13,"days").format("YYYY-MM-DD")};te.id&&te.userId&&z(gt(te))};return e.jsx(Z,{children:e.jsxs(o,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsxs(o,{direction:"column",width:"28%",height:"88vh",children:[e.jsx(o,{backgroundColor:"#fff",spacing:2,width:"90%",borderRadius:"20px",m:"0px 20px ",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",mb:"14px",sx:{display:"flex",minHeight:"200px",maxHeight:"35%"},className:"notes",overflow:"auto",children:e.jsxs(o,{maxHeight:"100%",children:[e.jsx(i,{textAlign:"start",fontWeight:600,color:"#DC6262",fontSize:15,mb:"10px",p:"15px 20px 0 20px",children:"Admindan bellik"}),e.jsx(o,{children:U==="loading..."?e.jsxs(o,{direction:"column",height:"10%",alignItems:"center",sx:{gap:"10px",mt:"10px"},children:[e.jsx(je,{}),"Loading..."]}):U==="failed"?e.jsx(i,{textAlign:"center",color:"tomato",height:"33%",mt:4,children:"Ýalňyşlyk!"}):U==="succeeded"?v.length==0&&g.length==0?e.jsx(i,{pt:4,textAlign:"center",children:"Bellik ýok"}):v.map(f=>e.jsxs(o,{children:[e.jsx(Se,{sx:{width:"100%"}}),e.jsxs(o,{sx:{padding:"3px",borderRadius:"5px"},direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(o,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:On,alt:""})}),e.jsxs(o,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:q(f.title)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:D(f.date).format("DD.MM.YYYY HH:mm")})]})]})]},f.id)):""}),e.jsx(o,{children:g.map(f=>e.jsxs(o,{children:[e.jsx(Se,{sx:{width:"100%"}}),e.jsxs(o,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"5px",mb:"20px",children:[e.jsx(o,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:Qn,alt:""})}),e.jsxs(o,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:q(f.content)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:D(f.createdAt).format("DD.MM.YYYY HH:mm")})]})]},f.id)]},f.id))})]})}),e.jsxs(o,{backgroundColor:"#fff",spacing:"10px",width:"90%",sx:{height:"100%"},borderRadius:"20px",alignItems:"center",m:"0px 20px ",p:"20px 10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",overflow:"auto",children:[e.jsx(o,{children:e.jsx(i,{textAlign:"start",fontWeight:600,fontSize:15,children:"Ýetişik bellikleri"})}),e.jsx(Se,{sx:{width:"100%"}}),_==="loading..."||U==="loading..."?e.jsxs(o,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(je,{}),"Loading..."]}):_==="failed"||U==="failed"?e.jsx(i,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):_==="succeeded"||U==="succeeded"?ie.length===0||ie===void 0?e.jsx(i,{pt:4,children:"Bellik ýok"}):e.jsx(o,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:e.jsx(o,{children:Object.keys(We).map((f,te)=>e.jsxs(ts,{children:[e.jsx(ss,{expandIcon:e.jsx(os,{}),children:e.jsxs(o,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(i,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:D(f).format("DD.MM.YYYY")}),e.jsx(o,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:We[f].length})]})}),e.jsx(ns,{sx:{p:0},children:We[f].map(re=>e.jsxs(e.Fragment,{children:[e.jsxs(o,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"15px",mb:"20px",children:[e.jsx(o,{borderRadius:"100%",width:38,height:38,backgroundColor:re.color}),e.jsxs(o,{direction:"column",children:[e.jsx(i,{color:"#202224",fontSize:15,fontWeight:600,children:q(re.note)}),e.jsx(i,{color:"#797a7c",fontSize:14,fontWeight:500,children:D(re.comeTime).format("DD.MM.YYYY HH:mm")})]}),e.jsxs(o,{direction:"row",alignItems:"center",sx:{...D().isSame(re.comeTime,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(V,{onClick:()=>ue(re),sx:{mr:-1},children:e.jsx(Yt,{sx:{color:"#9FC2A6"}})}),e.jsx(V,{onClick:()=>Ne(re.id),children:e.jsx("img",{style:{width:24,height:24},src:Le,alt:""})})]})]},re.id),e.jsx(Se,{sx:{width:"100%"}})]}))})]},te))})}):"",D(y).isAfter(D(),"day")?"":e.jsx(fe,{closeAfterTransition:!0,open:s,onClose:E,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Pe,{in:s,children:e.jsxs(Z,{sx:Uo,height:"605px",children:[e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{...D().isSame(y,"day")?{marginBottom:"0px"}:{marginBottom:"85px"}},children:[e.jsx(i,{textAlign:"end",fontFamily:"Montserrat",fontSize:32,width:"70%",color:"#474747",fontWeight:500,children:D(y).format("DD.MM.YYYY")}),e.jsx(V,{onClick:E,children:e.jsx(Ae,{sx:{width:38,height:38,color:"#DC6262"}})})]}),e.jsxs(o,{alignItems:"center",direction:"row",justifyContent:"center",spacing:"20px",pt:"10px",pb:"10px",sx:{...D().isSame(y,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{disabled:he.length>0,sx:{...he.length==0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,border:"1px solid #D5D5D5",borderRadius:"50px",height:55,"&:hover":{background:"#78a880"}},onClick:de,children:"Geldim"}),e.jsx(H,{disabled:he.length==0,sx:{...he.length>0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,"&:hover":{background:"#78a880"}},onClick:ke,children:"Gitdim"})]}),M==="loading..."?e.jsxs(o,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(je,{}),"Loading..."]}):M==="failed"?e.jsx(i,{textAlign:"center",sx:{...D().isSame(y,"day")?{height:"28%"}:{height:"36%"}},mt:4,fontSize:35,children:"Maglumat ýok"}):M==="succeeded"?K.length===0?e.jsx(i,{children:"Maglumat ýok"}):e.jsxs(o,{sx:{...D().isSame(y,"day")?{minHeight:"42%",maxHeight:"28%"}:{height:"70%"}},className:"times",overflow:"scroll",children:[e.jsxs(o,{spacing:"10px",direction:"row",justifyContent:"space-between",p:"0 10px 20px 30px",width:"100%",position:"sticky",top:"0",backgroundColor:"#fff",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,textAlign:"center",children:"Gelen wagty"}),e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Giden wagty"}),e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Işlän sagady"})]}),e.jsx(o,{direction:"column",width:"100%",spacing:"10px",children:K.map((f,te)=>e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.jsx(i,{fontFamily:"Montserrat",color:"#000",textAlign:"center",fontSize:15,children:te+1}),e.jsxs(o,{width:"100%",spacing:"5px",direction:"row",alignItems:"center",justifyContent:"space-between",border:"1px solid #d5d5d5",p:"0 40px",borderRadius:"50px",backgroundColor:"#F5F6FA",children:[e.jsx(o,{height:25,color:"#A6A6A6",fontSize:15,fontWeight:400,justifyContent:"flex-start",alignItems:"center",direction:"row",children:e.jsx(i,{fontFamily:"Montserrat",color:"#A6A6A6",textAlign:"center",fontSize:15,children:D(f.comeTime).format("HH:mm")})}),e.jsx(o,{height:35,color:"#A6A6A6",fontSize:15,fontWeight:400,alignItems:"start",justifyContent:"center",children:f.leaveTime!=null?D(f.leaveTime).format("HH:mm"):""}),e.jsx(o,{height:25,fontSize:15,fontWeight:400,alignItems:"start",color:"#A6A6A6",justifyContent:"center",children:f.comeTime&&f.leaveTime?D.duration(D(f.leaveTime).diff(D(f.comeTime))).hours()+":"+D.duration(D(f.leaveTime).diff(D(f.comeTime))).minutes():""})]})]}))},js)]}):"",e.jsx(o,{direction:"column",sx:{...D().isSame(y,"day")?{display:"flex"}:{display:"none"}},children:e.jsxs("form",{onSubmit:De,children:[e.jsxs(o,{spacing:"10px",width:"100%",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(Q,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:j,autoComplete:"off",name:"eventText",onChange:f=>F(f.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(o,{direction:"row",alignItems:"center",children:[e.jsxs(o,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(o,{direction:"row",justifyContent:"space-between",spacing:"9px",children:c.map(f=>e.jsx(o,{onClick:()=>Re(f.color),style:{backgroundColor:f.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:I===f.color?e.jsx(Xe,{}):""},f.color))}),e.jsx(H,{sx:{backgroundColor:"#F5F6FA",color:"#474747",textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,mt:-.5,"&:hover":{background:"#78a880",color:"#F5F6FA"}},type:"submit",children:"Goşmak"})]})]})," "]})]})})]})})}),e.jsx(fe,{closeAfterTransition:!0,open:n,onClose:E,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Pe,{in:n,children:e.jsxs(Z,{sx:Tt,height:"565px",children:[e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(V,{onClick:E,children:e.jsx(Ae,{sx:{width:38,height:38,color:"#DC6262"}})}),e.jsx(i,{textAlign:"center",fontFamily:"Montserrat",fontSize:32,color:"#474747",fontWeight:500,children:N!==void 0?D(N.comeTime).format("DD.MM.YYYY"):""}),e.jsx(V,{onClick:Ue,children:e.jsx(Xe,{sx:{width:38,height:38,color:"#9FC2A5"}})})]}),e.jsxs(o,{spacing:"10px",width:"100%",pt:"10px",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(Q,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:j,autoComplete:"off",name:"username",onChange:f=>F(f.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(o,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(i,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsx(o,{direction:"row",spacing:"9px",children:c.map(f=>e.jsx(o,{onClick:()=>Re(f.color),style:{backgroundColor:f.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:I===f.color?e.jsx(Xe,{}):""},f.color))})]})]})})})]})]}),e.jsx(o,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(zn,{openModal:ee,color:I,events:ie,setEvents:k,setStartDate:f=>S(f),setEndDate:f=>u(f)})})]})})},Ln=()=>{const s=JSON.parse(localStorage.getItem("CRM_USER"));return e.jsx(Z,{height:"100vh",width:"100%",className:"notes",backgroundColor:"#f5f6fa",overflow:"auto",children:s.role==="USER"?e.jsx(js,{}):e.jsx(Pn,{})})},Et="http://192.168.1.46",Jn=async s=>{const t=await fetch(`${Et}/api/chat/chats/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},Qt=async s=>{const t=await fetch(`${Et}/api/chat/users/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},Ye=rs(`${Et}:5022`),Hn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Vn=()=>{const[s,t]=a.useState({name:"",surname:"",img:""}),[n,x]=a.useState(""),[c,h]=a.useState(),[I,Y]=a.useState(null),[y,w]=a.useState(!1),[p,k]=a.useState(null),j=Number(c),[F,d]=a.useState(""),S=a.useRef(null),[b,u]=a.useState([]),[P,B]=a.useState([]),[C,m]=a.useState(null),[N,r]=a.useState(null),[z,T]=a.useState(null),[K,_]=a.useState(null),[$,v]=a.useState([]),g=a.useRef(null),U=b.length?b.filter(E=>E.name&&E.name.toLowerCase().includes(F.toLowerCase())):b;a.useEffect(()=>{const E=JSON.parse(localStorage.getItem("CRM_USER"));h(E.id)},[c]),console.log($),a.useEffect(()=>{(async()=>{const ee=await Jn(c);u(ee)})()},[]),a.useEffect(()=>((async()=>{const ee=await Qt(c);B(ee.users),u(ee.chats),S.current.focus()})(),Ye.emit("register",c),Ye.on("message",ee=>{const{senderId:de,receiverId:ke,text:ie}=ee;console.log(ee),v(ge=>[...ge,{senderId:Number(c),receiverId:ke,text:ie}])}),()=>Ye.off("message")),[c]),a.useEffect(()=>{g.current&&g.current.scrollIntoView({behavior:"smooth"})},[$]);const M=async(E,ee)=>{Ye.emit("createchat",{senderId:E,receiverId:ee});const de=await Qt(c);B(de.users),u(de.chats)},ae=E=>{E.preventDefault(),n&&I&&(Ye.emit("message",{senderId:c,recipientId:I,message:n,chatId:C,oppositeChatId:K,oppositeSenderId:N,oppositeReceiverId:z}),x(""))},he=(E,ee)=>(Ye.emit("getchat",{chatId:ee,senderId:E}),Ye.on("getchat",de=>{const{chatHistory:ke}=de;v(ke)}),S.current.focus(),()=>Ye.off("getchat")),We=(E,ee,de,ke,ie,ge,Ve,De,Ue,ue)=>{Y(E),t({name:ee,surname:de,img:ke}),m(ie),r(ge),T(Ve),_(De),k(Ue),he(ue,ie)},Re=(E,ee,de)=>{Y(E),t(ee),M(de,E),w(!1)};return console.log($),e.jsx(Z,{height:"100vh",width:"100%",backgroundColor:"#F5F6FA",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"chat-body",children:[e.jsx(o,{width:"30%",height:"100%",borderRadius:"7px",backgroundColor:"#f0f0f0",children:e.jsxs(o,{spacing:1,justifyContent:"center",children:[e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"center",spacin:2,width:"100%",sx:{p:{lg:"15px 5px 0 10px",xs:"0 5px 0 5px"},gap:"5px"},children:[e.jsx(Q,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,onChange:E=>d(E.target.value),value:F,sx:{},InputProps:{startAdornment:e.jsx("img",{src:xs,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsx(V,{onClick:()=>w(!0),sx:{width:"45px",height:"45px",border:"0.5px solid #cdcdcd",color:"#fff",background:"#9FC2A6","&:hover":{background:"#9FC2A6"}},children:"+"})]}),b.length==0?"Does not have chats":U.map((E,ee)=>e.jsxs(o,{onClick:()=>We(E.id,E.name,E.surname,E.img,E.chatId,E.oppositeSenderId,E.oppositeReceiverId,E.oppositeChatId,E.receiverId,E.senderId),direction:"row",spacing:2,p:"8px",sx:{...ee==0?{borderTop:"1px solid #CDCDCD"}:"",borderBottom:"1px solid #CDCDCD","&:hover":{backgroundColor:"#F5F5F5"}},children:[E.img?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${E.img}`,alt:""}):e.jsx(It,{sx:{width:45,height:45,background:"#9FC2A6"}}),e.jsxs(o,{sx:{cursor:"pointer"},height:45,width:"90%",justifyContent:"center",children:[e.jsxs(i,{fontFamily:"Montserrat",color:"#4399FF",fontWeight:600,children:[E.name," ",E.surname]}),e.jsx(i,{color:"#959595"})]})]},ee))]})}),e.jsx("div",{className:"chat-messages",style:{position:"relative",background:"#fff",height:"100%"},children:s.name==""?e.jsx(i,{fontFamily:"Montserrat",color:"#cdcdcd",mt:6,fontSize:30,textAlign:"center",fontWeight:600,children:"Söhbetdeşlik saýlaň"}):e.jsxs(e.Fragment,{children:[e.jsxs(o,{direction:"row",alignItems:"center",spacing:2,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)",p:1,children:[s.img!=null?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${s.img}`,alt:""}):e.jsx(It,{sx:{width:45,height:45,background:"#9FC2A6"}}),e.jsxs(i,{fontSize:18,fontWeight:500,color:"#4399FF",children:[s.name," ",s.surname]})]}),e.jsxs("ul",{style:{height:"500px !important"},children:[$.map((E,ee)=>e.jsx("li",{style:{textAlign:E.senderId===j?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:E.senderId===j?"#D0E7FF":"#D4F8E8",position:"relative",alignItems:"center"},children:[e.jsx("b",{className:"chat-messages__div-b",children:E.senderId===j?"":s.name}),e.jsxs(o,{width:"100%",spacing:2,direction:"row",alignItems:"end",justifyContent:"space-between",children:[e.jsxs("span",{className:"chat-messages__div-span",children:[E.text," "]}),e.jsx("span",{style:{color:"gray",fontSize:11,marginBottom:"-4px"},children:D(E.createdAt).format("HH:mm")})]})]})},ee)),e.jsx("div",{ref:g})]}),e.jsx(o,{className:"chat-input",style:{position:"absolute",bottom:10,right:"2%",width:"95%",alignItems:"center"},children:e.jsxs("form",{onSubmit:ae,children:[e.jsx("input",{ref:S,type:"text",placeholder:"Tekst...",focused:!0,value:n,onChange:E=>x(E.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})})]}),e.jsx(fe,{open:y,onClose:()=>w(!1),children:e.jsxs(Z,{sx:Hn,children:[e.jsx(i,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:P.map(E=>e.jsx("li",{onClick:()=>Re(E.id,E.name,c),children:E.name},E.id))})})]})})]})})},Gn=({projectId:s,allUsers:t,openUserModal:n,handleCloseUserModal:x})=>{const[c,h]=a.useState(),[I,Y]=a.useState([]),[y,w]=a.useState(""),[p,k]=a.useState("Başlanmadyk"),[j,F]=a.useState("");a.useState("");const[d,S]=a.useState(null),[b,u]=a.useState(null),P=se(),B=r=>{w(r.target.value)},C=r=>{k(r.target.value)};a.useEffect(()=>{(async()=>{await R.get("/project/status/priority").then(z=>{Y(z.data.data)})})()},[]);const m=r=>{h(r.target.value)},N=()=>{const r={projectId:s,userId:c,name:j,status:p,priority:y,startDate:J(d).format("YYYY-MM-DD"),endDate:J(b).format("YYYY-MM-DD")};j!==""&&p!=""&&y!==""&&d!==null&&b!==null?(P(Dt({body:r,projectID:s})),x(),w(""),F(""),k(""),h()):A.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(fe,{open:n,onClose:()=>{w(""),F(""),k(""),h(),x()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:440,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsx(o,{bgcolor:"#00B69B",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:e.jsx(V,{onClick:()=>{w(""),F(""),k(""),h(),x()},children:e.jsx(Ae,{sx:{color:"#fff"}})})}),e.jsxs(o,{p:"15px 20px 30px ",spacing:"10px",children:[e.jsxs(oe,{children:[e.jsx(le,{id:"age-label",children:"Işgär"}),e.jsx(ne,{labelId:"age-label",value:c,label:"Işgärler",onChange:m,children:t.map(r=>e.jsxs(O,{value:r.id,children:[r.name," ",r.surname]}))})]}),e.jsx(o,{direction:"row",width:"100%",children:e.jsx(be,{dateAdapter:ye,children:e.jsx(Ie,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(o,{pt:0,width:"100%",direction:"row",spacing:"16px",children:[e.jsxs(o,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ce,{fullWidth:!0,onChange:r=>{S(r||null)},format:"DD.MM.YYYY"})]}),e.jsxs(o,{pt:0,width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(i,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ce,{fullWidth:!0,onChange:r=>{u(r||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(Q,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:j,fullWidth:!0,onChange:r=>F(r.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(o,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:B,label:"Wajyplygy",children:[e.jsx(O,{value:"Ýokary",children:"Ýokary"}),e.jsx(O,{value:"Orta",children:"Orta"}),e.jsx(O,{value:"Pes",children:"Pes"})]})]}),e.jsxs(oe,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(ne,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,onChange:C,label:"Statusy",children:[e.jsx(O,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(O,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(O,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(O,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(o,{alignItems:"end",pt:"10px",children:e.jsx(H,{sx:{border:"1px solid #00b69b",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#00B69B",backgroundColor:"#f0f7ff"},onClick:N,children:"Ýatda sakla"})})]})]})})})},Xn=({setProjectName:s})=>{const[t,n]=a.useState(""),[x,c]=a.useState(!1),[h,I]=a.useState([]),{id:Y}=Ke(),y=L(b=>b.projectDetail.status),w=L(b=>b.projectDetail.error),p=L(b=>b.projectDetail.data);a.useState([p]);const k=se(),j=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{k(Ct(Y))},[k]),y==="succeeded"&&s(p);const F={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},d=b=>{c(!0),n(b)},S=b=>{const u={projectId:Y,taskId:b.id,responsibleUserId:j.id};b&&Y&&k(kt({body:u,age:Y}))};return e.jsxs(o,{children:[y==="loading..."?e.jsxs(o,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(je,{}),"Loading..."]}):y==="failed"?A.error(w):y==="succeeded"?e.jsx(o,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:p.length==0?e.jsx(i,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(He,{children:e.jsxs(ve,{children:[e.jsx(Me,{children:e.jsx(pe,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Qo.map(b=>e.jsx(W,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:b.title},b.id))})}),e.jsx(Fe,{children:p.map(b=>b.tasks&&b.tasks.map(u=>e.jsxs($e,{children:[e.jsx(W,{sx:F,children:u.name}),e.jsxs(W,{sx:F,children:[u.user&&u.user.name," ",u.user&&u.user.surname]}),e.jsxs(W,{sx:F,children:[D(u.startDate).format("DD.MM.YYYY")," -"," ",D(u.endDate).format("DD.MM.YYYY")]}),e.jsx(W,{sx:F,children:e.jsxs(o,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(o,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(o,{style:{width:`${u.completionTask}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(o,{style:{fontSize:13,color:"#00B69B"},children:`${u.completionTask}%`})]})}),e.jsx(W,{sx:{...F},children:u.priority=="Pes"?e.jsx(i,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):u.priority=="Orta"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(i,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(W,{sx:F,children:u.status=="Dowam edýän"?e.jsx(i,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):u.status=="Tamamlanan"?e.jsx(i,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(i,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:u.status})}),e.jsx(W,{sx:{width:"100px"},children:e.jsxs(o,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(V,{sx:{...u.user&&u.user.id===j.id||j.role==="ADMIN"?{display:"flex"}:{display:"none"}},onClick:()=>d({task:u,user:u.user}),children:e.jsx($t,{sx:{color:"#0099ED",width:20,height:20}})}),j.role==="USER"?"":e.jsx(V,{onClick:()=>S(u),children:e.jsx("img",{style:{width:20,height:20},src:Le,alt:""})})]})})]})))})]})})}):"",e.jsx(ms,{user:t,setSelectedUsers:n,openUserModal:x,handleCloseUserModal:()=>c(!1),setWorkers:I})]})},qn=()=>{const[s,t]=a.useState(""),n=L(p=>p.users.data),[x,c]=a.useState(!1),h=JSON.parse(localStorage.getItem("CRM_USER")),I=we(),Y=p=>{t(p)},y=()=>{c(!0)},w=()=>{c(!1)};return e.jsxs(Z,{height:"100vh",p:2,width:"100%",backgroundColor:"#f4f5f9",overflow:"auto",children:[h.role==="USER"?"":e.jsx(gs,{}),e.jsxs(o,{backgroundColor:"#fff",width:"100%",minHeight:h.role==="USER"?"97%":"80%",borderRadius:"12px",p:"20px",mt:2,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(o,{backgroundColor:"#F6FDFD",alignItems:"center",sx:{...h.role==="USER"?"":{justifyContent:"space-between"}},p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsxs(o,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(Qe,{to:"#",onClick:()=>I(-1),style:{textDecoration:"none",color:"#474747",display:"flex",height:"100%",alignItems:"center",gap:"10px",padding:"15px 0"},children:e.jsx(ho,{})}),e.jsx(i,{width:"90%",textAlign:"center",fontSize:"24px",fontFamily:"DM Sans",fontWeight:"600",children:s!==""&&s&&s[0].name})]}),e.jsx(o,{height:"100%",alignItems:"center",justifyContent:"center",sx:{...h.role==="USER"?{display:"none"}:{display:"block"}},children:e.jsxs(H,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:y,children:[e.jsx(_t,{}),"Ýerine Ýetirýän"]})})]}),e.jsx(Xn,{setProjectName:Y}),h.role==="USER"?"":e.jsx(Gn,{openUserModal:x,handleCloseUserModal:w,allUsers:n,projectId:s!==""&&s[0].id})]})]})},Lt=JSON.parse(localStorage.getItem("CRM_USER")),Zn=()=>{const[s,t]=a.useState(null),n=L(p=>p.uploadPDf.data),x=L(p=>p.uploadPDf.status),c=L(p=>p.uploadPDf.error),h=L(p=>p.uploadPDf.uploadProgress),I=se();a.useEffect(()=>{const p=JSON.parse(localStorage.getItem("CRM_USER"));I(mt(p.id))},[I]);const Y=p=>{const k=p.target.files[0];t(k)},y=()=>{if(!s){A.warn("Faýl saýlaň");return}const p=new FormData;p.append("userId",Lt.id),p.append("title",s.name),p.append("file",s),I(ft(p)),t(null)},w=p=>{const k={userId:Lt.id,documentId:p};I(jt(k))};return e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#F5F6FA",overflow:"scroll",children:[e.jsx(i,{p:"10px 20px",fontSize:{lg:"32px",md:"30px",sm:"25px",xs:"20px"},fontFamily:"Montserrat",fontWeight:"500",children:"Resminama saýla"}),e.jsx(Je,{}),e.jsxs(o,{direction:"row",backgroundColor:"#fff",spacing:"60px",minHeight:"78vh",borderRadius:"20px",m:"0px 20px ",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",padding:"20px 0 0 30px",children:[e.jsxs(o,{width:"48%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(o,{width:"70%",spacing:1,height:"50%",children:[e.jsx("input",{type:"file",onChange:Y,id:"file",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"}),s?e.jsx(o,{children:e.jsxs(i,{children:["Ady: ",s.name," - ",(s.size/1024).toFixed(2)," KB"]})}):e.jsx(i,{children:"Faýl saýlaň"})]}),e.jsx(H,{sx:{color:"#fff",background:"#9FC2A5",textTransform:"revert",width:"70%",height:"45px",borderRadius:"50px",fontSize:23,fontWeight:500,"&:hover":{background:"#9FC2A5"}},onClick:y,children:"+ Goş"})]}),x==="loading..."?e.jsxs(o,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(je,{}),e.jsxs(i,{children:[h,"% Loading..."]})]}):x==="failed"?e.jsxs(i,{textAlign:"center",height:"43%",mt:4,children:["Maglumat ýok: ",c]}):x==="succeeded"?n.length===0?e.jsx(i,{width:"50%",pt:15,textAlign:"center",fontSize:25,children:"Resminama ýok"}):e.jsx(o,{width:"45%",children:n.map(p=>e.jsxs(Ms.Fragment,{children:[e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",minHeight:"60px",p:"15px 20px",children:[e.jsx(Ce,{to:`http://192.168.1.46/files/${p.pathPdf}`,style:{textDecoration:"none",color:"#474747",width:"80%"},target:"_blank",children:e.jsxs(o,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(uo,{sx:{color:"#9FC2A5",width:36,height:36}}),e.jsx(i,{fontFamily:"Poppins",fontWeight:"400",fontSize:22,pl:3,width:"80%",children:q(p.title)})]})}),e.jsx(V,{onClick:()=>w(p.id),children:e.jsx("img",{style:{width:24,height:24},src:Le,alt:"Delete"})})]}),e.jsx(Se,{})]},p.id))}):null]})]})},Kn=({openModal:s})=>{a.useState();const[t,n]=a.useState(""),[x,c]=a.useState("+993"),[h,I]=a.useState(""),[Y,y]=a.useState(""),[w,p]=a.useState(""),[k,j]=a.useState("");a.useState("");const[F,d]=a.useState(!1),[S,b]=a.useState(""),[u,P]=a.useState("TKM"),[B,C]=a.useState(""),[m,N]=a.useState(""),[r,z]=a.useState(J()),[T,K]=a.useState([]),_=M=>{b(M.target.value)},$=M=>{P(M.target.value)},v=()=>{s(!0)};se();const g=we();a.useEffect(()=>{(async()=>{await R.get("/position/get").then(ae=>{K(ae.data)})})()},[]);const U=async M=>{M.preventDefault();try{if(t.trim().length<=0||k.trim().length<=0)A.error("Dogry maglumatyňyzy giriziň!");else{d(!0);const ae=await R.post("/user/registration",{login:h,pass:k,surname:q(Y),name:q(w),mail:t,phoneNumber:x,birthday:r,whereStudy:B,whereLive:m,languages:u,role:"USER",positionId:S}).then(he=>he.data?(setTimeout(()=>g("/login"),2e3),A.success("Üstünlikli registrasiýa!"),n(""),c("+993"),I(""),y(""),p(""),j(""),d(!1),C(""),b(""),P(""),N(""),z(J()),s(!1)):"")}}catch(ae){A.error(ae.message==="Network Error"?"Internet baglanyşygy ýok":ae.response.data),d(!1)}};return e.jsx(o,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(o,{width:{lg:"65%",md:"80%",sm:"97",xs:"97%"},height:650,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(i,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:U,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Ady",type:"text",value:w,name:"password",onChange:M=>p(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(Q,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:Y,onChange:M=>y(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:h,onChange:M=>I(M.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(oe,{fullWidth:!0,children:[e.jsx(le,{id:"simple-select-label",children:"Wezipe"}),e.jsx(ne,{labelId:"simple-select-label",id:"simple-select",value:S,onChange:_,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:T.map(M=>e.jsx(O,{value:M.id,children:M.name},M.id))})]})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(be,{dateAdapter:ye,sx:{width:"100%",pt:0},children:e.jsx(Ie,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ce,{label:"Doglan senesi",value:r,format:"DD.MM.YYYY",onChange:M=>z(M),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(Q,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:t,onChange:M=>n(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:B,name:"password",onChange:M=>C(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(Q,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:m,onChange:M=>N(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:x,onChange:M=>c(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(oe,{fullWidth:!0,children:[e.jsx(le,{id:"simple-select-label",children:"Dili"}),e.jsxs(ne,{labelId:"simple-select-label",id:"simple-select",value:u,onChange:$,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(O,{value:"ENG",children:"ENG"}),e.jsx(O,{value:"RUS",children:"RUS"}),e.jsx(O,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(o,{direction:"column",width:"90%",spacing:2,children:e.jsxs(o,{direction:"row",width:"100%",spacing:2,children:[e.jsx(Q,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:k,onChange:M=>j(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(Q,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:M=>j(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsxs(o,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:[e.jsx(o,{direction:"row",spacing:2,children:e.jsx(H,{onClick:v,style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},children:"Siziň hasabyňyz barmy? Şu ýere giriň"})}),e.jsx(H,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:F?e.jsx(o,{alignItems:"center",children:e.jsx(je,{sx:{color:"#fff"}})}):"Hasaba gir"})]})]})]})})},$n="/assets/login (2)-C6oMrZMN.png",_n="/assets/login (1)-CZfUSTBP.png",ea=()=>{a.useState();const[s,t]=a.useState(""),[n,x]=a.useState(""),[c,h]=a.useState(""),[I,Y]=a.useState(!1),[y,w]=a.useState(!1),[p,k]=a.useState(!1),j=()=>{w(P=>!P)},F=P=>{P.preventDefault()};a.useEffect(()=>{h("")},[s,n]);const d=se(),S=we(),b=async P=>{P.preventDefault();try{if(s.trim().length<=0||n.trim().length<=0)A.error("Dogry maglumatyňyzy giriziň!");else{Y(!0);const B=await R.post("/user/login",{login:s,pass:n});if(B.data.status===404)A.error(B.data.message=="Неправелный пароль"?"Login ýada Açar söz nädogry!":B.data.message),Y(!1);else{const C=B.data;d(So(C)),localStorage.setItem("CRM_USER",JSON.stringify(C)),setTimeout(()=>S("/"),500),A.success("Üstünlikli giriş!"),Y(!1)}}}catch(B){B.message==="Network Error"?A.error("Internet baglanyşygy ýok"):B.response.status?A.error("Login ýada Açar söz nädogry!"):B.response.data.message,d(ko(B.message||"Login failed")),Y(!1)}},u=()=>{k(!p)};return e.jsxs(Z,{children:[e.jsx(Je,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsxs(o,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},children:[e.jsxs(o,{width:"40%",maxHeight:"100vh",backgroundColor:"#3763f5",sx:{display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:[e.jsxs(o,{left:"30px",top:"30px",position:"absolute",width:250,direction:"row",alignItems:"center",children:[e.jsx("img",{src:ps,style:{width:"85px",height:"95px"},alt:""}),e.jsx(i,{textAlign:"center",color:"#fff",fontWeight:"500",fontSize:20,ml:-3,fontFamily:"Montserrat",children:"ÄLEM TILSIMAT"})]}),e.jsx("img",{src:$n,style:{width:"100%",height:"49.4vh"},alt:""}),e.jsx(i,{textAlign:"center",color:"#fff",fontWeight:"500",fontSize:55,position:"absolute",top:"45%",left:"3%",fontFamily:"Montserrat",children:"ÄLEM TILSIMAT"}),e.jsx(i,{textAlign:"center",color:"#fff",fontWeight:"600",fontSize:35,position:"absolute",top:"55%",left:"3%",fontFamily:"Montserrat",children:"CRM"}),e.jsx("img",{src:_n,style:{width:"100%",height:"49.5vh"},alt:""})]}),p===!1?e.jsx(o,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(o,{width:{lg:"60%",md:"80%",sm:"97",xs:"97%"},height:500,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(i,{mb:"30px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:5,children:"Giriň"}),e.jsxs("form",{onSubmit:b,style:{display:"flex",flexDirection:"column",width:"100%",gap:"40px",alignItems:"center",justifyContent:"center"},children:[e.jsx(Q,{id:"outlined-basic",label:"Ady",type:"text",variant:"outlined",autoComplete:"off",name:"username",onChange:P=>t(P.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"}},InputLabelProps:{sx:{color:"#757575"}}}),e.jsx(Q,{name:"password",label:"Açar söz",fullWidth:!0,variant:"outlined",type:y?"text":"password",onChange:P=>x(P.target.value),InputProps:{endAdornment:e.jsx(xo,{position:"end",children:e.jsx(V,{"aria-label":"toggle password visibility",onClick:j,onMouseDown:F,edge:"end",children:y?e.jsx(po,{}):e.jsx(go,{})})})},InputLabelProps:{sx:{color:"#757575"}},sx:{width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"},transition:"all ease-in-out 0.2s","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},backgroundColor:"#fff",height:"60px",color:"#000",outline:"none",boxShadow:"none"}}),e.jsxs(o,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",spacing:2,children:[e.jsxs(o,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(Qe,{to:"/",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textAlign:"center"},children:"Paroly dikeltmek"}),e.jsx(H,{to:"/register",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},onClick:u,children:"Hasaba alyş"})]}),e.jsx(H,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:I?e.jsx(o,{alignItems:"center",children:e.jsx(je,{sx:{color:"#fff"}})}):"Giriň"})]})]})]})}):e.jsx(Kn,{openModal:u})]})]})},Wt="http://192.168.1.46",ta=async s=>{const t=await fetch(`${Wt}/api/chat/chats/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},Jt=async s=>{const t=await fetch(`${Wt}/api/chat/users/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},Ge=rs(`${Wt}:5022`),sa={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},oa=()=>{const[s,t]=a.useState(""),[n,x]=a.useState(""),[c,h]=a.useState(sessionStorage.getItem("userId")),[I,Y]=a.useState(null),[y,w]=a.useState(!1);a.useState(null);const p=Number(sessionStorage.getItem("userId")),[k,j]=a.useState([]),[F,d]=a.useState([]),[S,b]=a.useState(null),[u,P]=a.useState(null),[B,C]=a.useState(null),[m,N]=a.useState(null),[r,z]=a.useState([]),T=a.useRef(null);a.useEffect(()=>{(async()=>{const g=await ta(p);j(g)})()},[]),console.log(F),a.useEffect(()=>((async()=>{const g=await Jt(p);d(g.users),j(g.chats)})(),Ge.emit("register",c),Ge.on("message",g=>{const{senderId:U,receiverId:M,text:ae}=g;z(he=>[...he,{senderId:Number(U),receiverId:M,text:ae}])}),()=>Ge.off("message")),[c]),a.useEffect(()=>{T.current&&T.current.scrollIntoView({behavior:"smooth"})},[r]);const K=async(v,g)=>{Ge.emit("createchat",{senderId:v,receiverId:g});const U=await Jt(p);d(U.users),j(U.chats)},_=v=>{v.preventDefault(),n&&I&&(Ge.emit("message",{senderId:c,recipientId:I,message:n,chatId:S,oppositeChatId:m,oppositeSenderId:u,oppositeReceiverId:B}),x(""))},$=(v,g,U)=>{Y(v),t(g),K(U,v),w(!1)};return e.jsx(Z,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsx(V,{className:"iconIoAdd",onClick:()=>w(!0),children:"+"}),e.jsx("div",{className:"chat-header",children:e.jsxs("h2",{children:["Chat",e.jsx("span",{children:": "+s})]})}),e.jsxs("div",{className:"chat-body",children:[e.jsx(o,{}),e.jsxs("div",{className:"chat-messages",children:[e.jsx("h3",{children:"Messages"}),e.jsxs("ul",{children:[r.map((v,g)=>e.jsx("li",{style:{textAlign:v.senderId===p?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:v.senderId===p?"#D0E7FF":"#D4F8E8"},children:[e.jsx("b",{className:"chat-messages__div-b",children:v.senderId===p?"":s}),e.jsx("span",{className:"chat-messages__div-span",children:v.text})]})},g)),e.jsx("div",{ref:T})]}),e.jsx("div",{className:"chat-input",children:e.jsxs("form",{onSubmit:_,children:[e.jsx("input",{type:"text",placeholder:"Type a message",value:n,onChange:v=>x(v.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})]}),e.jsx(fe,{open:y,onClose:()=>w(!1),children:e.jsxs(Z,{sx:sa,children:[e.jsx(i,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:F.map(v=>e.jsx("li",{onClick:()=>$(v.id,v.name,sessionStorage.getItem("userId")),children:v.name},v.id))})})]})})]})})},na=()=>e.jsx(Z,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",children:"WorkTime"});function aa(){const s=({children:n})=>localStorage.getItem("CRM_USER")?n:e.jsx(yo,{to:"/login",replace:!0});JSON.parse(localStorage.getItem("CRM_USER"));const t=Rs([{path:"/login",element:e.jsx(ea,{})},{path:"/",element:e.jsx(s,{children:e.jsx(ln,{})}),children:[{path:"/",element:e.jsx(Ln,{})},{path:"/document",element:e.jsx(Zn,{})},{path:"/account",element:e.jsx(cn,{})},{path:"/employees",element:e.jsx(Sn,{})},{path:"/employees/:id",element:e.jsx(Wn,{})},{path:"/employees/working",element:e.jsx(na,{})},{path:"/employees/regulating",element:e.jsx(oa,{})},{path:"/projects",element:e.jsx(yn,{})},{path:"/chat",element:e.jsx(Vn,{})},{path:"/projects/:id",element:e.jsx(qn,{})}]}]);return e.jsx(Ys,{router:t,style:{minHeight:"100vh"}})}Fs.createRoot(document.getElementById("root")).render(e.jsx(Ts,{store:tn,children:e.jsx(aa,{})}));
