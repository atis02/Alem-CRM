import{j as e,r as a}from"./react-CGFrf-d4.js";import{c as Wn}from"./react-dom-xpLkuR59.js";import{L as Ye,N as Pe,u as Ys,c as Un,R as zn}from"./react-router-dom-CbEMuPyh.js";import{u as z,a as te,P as Pn}from"./react-redux-C-rBssQn.js";import{d as Ns,a as Bn,B as Cs,b as Nn,c as On,e as Ln,f as Hn,g as Xs,h as Qn,i as qs,j as Jn,u as Zs,k as Ks,l as K,T as J,S as n,I as H,m as Vn,A as xs,n as l,o as Gn,D as Xn,p as X,q as qn,r as Zn,s as Kn,t as $n,v as _n,w as Ss,x as eo,y as to,z as so,C as no,E as ye,F as oo,G as gs,H as $s,J as le,K as de,M as G,L as fe,N as me,O as ie,P as pe,Q as ao,R as oe,U as ce,V as Ae,W as ue,X as ke,Y as Ve,Z as _e,_ as ot,$ as ro,a0 as io,a1 as lo,a2 as Ie,a3 as _s,a4 as co,a5 as Is,a6 as at,a7 as Le,a8 as He,a9 as q,aa as Qe,ab as Je,ac as en,ad as Fs,ae as De,af as uo,ag as bt,ah as Ts,ai as ho,aj as po,ak as xo,al as tn,am as sn,an as st,ao as fs,ap as ms,aq as js,ar as bs,as as xt,at as Os,au as Ls,av as go,aw as fo,ax as mo,ay as jo,az as bo,aA as Hs,aB as yo}from"./@mui-Bfx_xenX.js";import{M as nn,a as Be,S as wo,s as Co}from"./react-pro-sidebar-BFKLmOBL.js";import{B as m,Q as Te}from"./react-toastify-C8HBDAMy.js";import{c as Z,a as Ee,b as So}from"./@reduxjs-BJllBblM.js";import{a as Ao}from"./axios-dxcvQi4N.js";import{e as we,d as on,O as ko,f as et,g as Do}from"./react-router-Wv9TSl4y.js";import{h as P}from"./moment-3GyybMVG.js";import{d as U,a as Io,b as Fo}from"./dayjs-oBNrYJvz.js";import{l as an}from"./socket.io-client-BGdex47s.js";import"./@babel-CC78qJF2.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-B_55oQtr.js";import"./use-sync-external-store-9ZOjDghS.js";import"./@emotion-BR_XP5i8.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-FDnFs_-n.js";import"./react-is-DcfIKM1A.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-DH7TTrWS.js";import"./dom-helpers-D0mFdbeO.js";import"./prop-types-Dbh8Zy4H.js";import"./@popperjs-BQBsAJpH.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./engine.io-client-BY_6WtMP.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const w of d.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&c(w)}).observe(document,{childList:!0,subtree:!0});function s(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(i){if(i.ep)return;i.ep=!0;const d=s(i);fetch(i.href,d)}})();const vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPvSURBVHgB7ZpNctowFMffk/PRJTcoOUGSCxA4QcmyoZ3GSafbpCcI3KCsOtM2YzJt0mWSExh6gaYnqI/AsjC11CdjG5FpQDJWCIx/C8aYZ4m/9CQ9PRmgoKCgoODpgmCZT/7ljgNYZY7YBoFVulWiWkvRjwL69BEAYsBD6IUguu9qjTuwiBXBnu+VgG2cUPF1qmHH6GEBAeeidVxrdMACuQs+97+dMsbO0l7Mzo1bOdiHnFmDnKBeLYOz6dFl9d5PfQFwi4BdcPgdDIeBW3P78TMlWHu2A4KXyaZONnsAUUMFEA5cpeyRx2A0JEblC3HHObRNPSGXHvZonALDayqtrNwOOECbhYNOInB2OSTM2ahDyLpu7WUQ3ysD2/TvlT2GhgDwQY3qCDSqmF9wLNZXXVgI0UY+bOoKnVp+7+r3g2LTCiPRuzr1zeXSo9aPejYR2ye32z+qHHQhB6gxD2eKlZANZxundNWcZTrfGJ50NRp3WEtcMRcYnuibRuN/th1kxOtdnk20fij2cxUrMVvSqjpGmQRHrozYHN/h713LAUNeZBIs2HpT+Rq4lVcfwA5dbUsErQbPJBiBpeOFg2iBJbgQPQPbto6dseDP/teqOlEdV+yEgBLGh9JzAg1T7f9hLNhhrJ5c03p7CxaJ1lWa+WG66CC20cJYMCJup9eM3YBl5MxPMfUWNa8rQPxK7lMo2qMWb1EIumuyOhivw1TpFiYB2l8+dySlizty2Q7MiXkPAz5P/8SSLEUqmQOPRfORYoFzGXoaktv28DHxflwJ5WsHDFjaHs5KIXjVKQSvOoXgVacQvOoYCY5SO0+MKJdtgJFgNbVjey88g25yEadntTESPJHaQezAogjDNK3EEE5Mellb8L2kePC2cmB98/8Qbu11F2TSPwJL3Fk/1H1Wv4eVpLjNxJ0uatKOAXuh+5yW4Oj8SEmKMzrsggUTJ/iSjEvVk8lFned0jAQTysSAndxPGDIgE3w0cV4k34WSXJyGlmBExWVCrpX/fQyQ83QeQYQ3Os+YZzwc/EkZB1hWtHpYN6u/SISACx07LcFyghAj0Y+WljWgL/PTR3sNrQDE2mtL573LJp3Znslr2Viz/pBqTx7VOt5rNMEC1jYPFAEFybV6WvGw/fhAWyBay3fb2y2FQzUSm7pOfvGv5JKS/u6ESyh4tE4qE4nDrmNhE8jTSIeBN75jd523mohHPjgFZ1O6alnGvI4D17SkdeW5L00epdjVq8ojdBIIVsNW6+9aev73MjjCB5j5Nk7+L8X8B+sZj0gACZm+TtJW0/DYMyvWe1gl7u0dculoI8KQUWP8ucnjBbaCgoKCgoIl5B9+YXkykKfGbQAAAABJRU5ErkJggg==",rn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMrSURBVHgB7ZjrkdowEMf3zPMjHZw7CB3EqeByH3lNcAXQAU4FyVUAGV4fc6kgpoKQDpwO7iMwPLILsqMQCduSPPHN+Ddzg+SzZP31WO0uQEFBwavmDjQZj8eNcrnslEol+3Q6Nc6d3t29HA6H9X6/X7uu+wIZoiSABl2r1fpYfMA/J+Z1H4V96XQ6E8iA1AJms9nQsqwRFhvpWkKAQj6aFpJYAM66jbM+BvGMr+AywIDVG7iNmvj7VvCuv91ucWe5ARggkQA2+O9YtLnHAf494WAmsn2+XC7t4/HooJjRdVts986EiFgBosHjTD/tdjsvzQGdz+ceExJiRIQV9wLbNjarknV5xH08TGtdsI2HP4/UB3sUbkktbgrAWesDt+dx8G6v13sGRdrtNrV1uUcOGQXQ4KYAfsnJgugMPoRE0Bbkv0FmGRSRCmCzb7NqwLaAEej8wMUIkIBGpVLpgyJSAdjxh7BMsw8GYecnWgW8Vx5AEaEAtqQO9wEfDEPml6s6qttIKAB9myZXXbVarQAMw1bBD+tokRxQQCgAHbNIAG6fNWTHr7CAF54NCggFhF4lIzNvknM9zocZFIi9yPKOUAD589ELlnUP2RHNOq6G0krLViDgOrYhI3Ci3oRlPHdKZ00oAE2cz1UdnZtSBjmJwJnqzWZjTsC1idO5KWVUq1WHq65UQ89bh/hb9JJlDUyvwpWfNQFFpALYTcm7viMwBPpZfIAT6ISZUgG0pHi58D7QcDqdvgdNqA+cfS+s6/pZsRHZYrGgaMxhHyNRyjEBDR6tDQUx4XZcoXvtgAaxFxnOFgUgASs3cABf2RZIDJ0fnIhP1Bb+zmb8AE0SBfUUnOPs/xPU0/Kjb+/L4loufzS4ahuBfXh4BpS3UeK0ChMhS6tQ8uon/Dn097hatuTdFTmI+P9B+EBHROrEFkVqgjRJEs5Godvtfmb9eFemVEmEcm6UCemDOHnFQ0mvZ1H+yIQII8nder3exI83+eQuXPI+ftwNqytCW4AJdETkQgChKiI3AggVEbkSQKQVkTsBhECEK3P4chkTUxbQdDLtv0B3DUtxFhQUFOSU34IkpBx2UQqyAAAAAElFTkSuQmCC",Mo=[{title:"Baş sahypa",link:"/",icon:e.jsx(Ns,{})},{title:"Dolandyryş",link:"/dashboard",icon:e.jsx(Bn,{})},{title:"Gelen",link:"/document/inbox",icon:e.jsx(Cs,{badgeContent:1,color:"primary",children:e.jsx(Nn,{})})},{title:"Giden",link:"/document/out",icon:e.jsx(Cs,{badgeContent:1,color:"primary",children:e.jsx(On,{})})},{title:" Arhiw",link:"/document/archive",icon:e.jsx(Cs,{badgeContent:1,color:"primary",children:e.jsx(Ln,{})})},{title:"Täze Resminama",link:"/document/new",icon:e.jsx(Hn,{})},{title:"Söhbetdeşlik",link:"/chat",icon:e.jsx(Ns,{})},{title:"Profil",link:"/account",icon:e.jsx(Xs,{})},{title:"Buýruklar",link:"/orders",icon:e.jsx(Qn,{})},{title:"Işgärler",link:"/employees",icon:e.jsx(qs,{})},{title:"Bildiriş",link:"/notifications",icon:e.jsx(Jn,{})}];function Ro(){const[o,t]=a.useState(!1),s=JSON.parse(localStorage.getItem("CRM_USER")),[c,i]=a.useState(!1);z(g=>g.imgAccount.data.img);const d=()=>{i(!c)},w=Zs(),I=Ks(w.breakpoints.down("sm"));return e.jsxs(K,{height:"75px",width:"100%",backgroundColor:"#F8F9FA",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid lightgray"},children:[e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,sx:{width:{lg:"430px",md:"100%",sm:"100%",xs:"100%"},p:{lg:"0 0 0 30px",xs:"0 5px 0 5px"}},InputProps:{startAdornment:e.jsx("img",{src:rn,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",pr:{lg:"30px",md:"30px",sm:"30px",xs:"10px"},children:[e.jsxs(n,{direction:"row",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},alignItems:"center",children:[e.jsx(H,{onClick:()=>t(!o),sx:{color:"#5C9FE3",transition:"all ease-in-out 0.2s","&:hover":{backgroundColor:"#fff"}},children:e.jsx("img",{src:vo,style:{width:"30px",height:"30px"},alt:""})}),e.jsx(Vn,{sx:{backgroundColor:"transparent",color:"#fff",zIndex:g=>g.zIndex.drawer+1},open:o,onClick:()=>t(!1),children:e.jsx(n,{position:"absolute",minWidth:200,minHeight:100,backgroundColor:"#9FC2A6",top:65,right:150,border:"1px solid #9FC2A6",borderRadius:"10px",alignItems:"center",justifyContent:"center",children:"Sazlamalar ýerinde"})})]}),e.jsxs(Ye,{to:"/account",style:{display:"flex",alignItems:"center",gap:"5px",textDecoration:"none"},children:[e.jsx(H,{sx:{height:60,width:60},children:s.img===null?e.jsx(xs,{alt:s.name,src:s.name,sx:{background:"#2F6FD0",height:50,width:50}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${s.img}`,alt:""})}),e.jsxs(n,{direction:"column",alignItems:"center",children:[e.jsxs(l,{color:"#474747",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:16,fontWeight:500,children:[s.name," ",s.surname]}),e.jsx(l,{color:"#A6A6A6",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:13,fontWeight:400,lineHeight:"15px",children:s.position!=null&&s.position.name})]})]}),e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"center",sx:{...I?{display:"flex"}:{display:"none"}},children:e.jsx(H,{onClick:d,sx:{width:24,height:24,p:0},children:e.jsx(Gn,{sx:{color:"#fff"}})})}),e.jsx(Xn,{anchor:"right",open:c,onClose:d,sx:{"& .MuiDrawer-paper":{width:"60%",backgroundColor:"transparent",backdropFilter:"blur(5px)"}},children:e.jsx(K,{className:"mobile-menu",sx:{bg:"#000",height:"100%",padding:"16px 0"},children:e.jsxs(n,{spacing:2,direction:"column",height:"35px",alignItems:"center",children:[e.jsx(X,{onClick:d,children:e.jsx("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false","data-icon":"close",width:"2em",height:"2em",fill:"#fff","aria-hidden":"true",children:e.jsx("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})}),e.jsxs(n,{direction:"column",alignItems:"center",spacing:2,children:[e.jsxs(n,{children:[e.jsx(n,{sx:{...o?"":{flexDirection:"column"}},height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"0px 30px",children:e.jsx(Ye,{style:{textDecoration:"none"},to:"/",children:e.jsx(l,{color:"#F3F3F4",fontWeight:"700",sx:{...o?{fontSize:"30px"}:{fontSize:"18px"}},textAlign:"center",fontFamily:"Montserrat",children:"Älem Doc"})})}),e.jsx(nn,{menuItemStyles:{button:{"&:hover":{backgroundColor:"#1976d2"}}},children:Mo.map(g=>e.jsx(Be,{component:e.jsx(Pe,{className:"sideNavMobile",to:g.link}),icon:g.icon,children:g.title},g))})]}),e.jsxs(n,{children:[e.jsxs(X,{sx:{color:"#fff",display:"flex",flexDirection:"column",gap:"1px",fontSize:"12px",fontFamily:"Montserrat"},children:[e.jsx(qn,{sx:{width:30,height:30}}),"Kömek"]}),e.jsxs(X,{sx:{color:"#fff",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontSize:"11px"},children:[e.jsx(Zn,{sx:{width:30,height:30}}),"Çykmak"]})]})]})]})})})]})]})}const Yo="http://192.168.1.46:5022/api/",E=Ao.create({baseURL:Yo}),To={loading:!1,isAuth:!1,user:null,error:null};Z("login",async o=>{try{const t=await E.post("/user/login",o),s=t.data&&t.data.token,c=t.data;return localStorage.setItem("token",JSON.stringify(s)),c}catch{response.data.message==="error client request"?m.error("Ulanyjy tapylmady!"):m.error(response.data.message)}});Z("register",async o=>{try{const t=await E.post("/user/registration",o);m.success(t.data.message==="Registration seccseful"?"Üstünlikli":t.message)}catch{m.error(response.data.message)}});const ln=Ee({name:"auth",initialState:To,reducers:{loginStart:o=>{o.loading=!0,o.error=null},loginSuccess:(o,t)=>{o.isAuthenticated=!0,o.user=t.payload,o.loading=!1},loginFailure:(o,t)=>{o.loading=!1,o.error=t.payload},logout:o=>{o.isAuthenticated=!1,o.token=null,o.user=null,o.loading=!1},registerStart:o=>{o.loading=!0,o.error=null},registerSuccess:(o,t)=>{o.isAuthenticated=!0,o.token=t.payload.token,o.user=t.payload.user,o.loading=!1},registerFailure:(o,t)=>{o.loading=!1,o.error=t.payload}}}),{loginStart:vi,loginSuccess:Eo,loginFailure:Wo,logout:Uo,registerStart:Mi,registerSuccess:Ri,registerFailure:Yi}=ln.actions,zo=ln.reducer,Po="/assets/alemtilsimat-CxmWQcmV.png";function Bo(o,t){const[s,c]=a.useState(!1),[i,d]=a.useState(null),w=JSON.parse(localStorage.getItem("CRM_USER")),I=we(),g=te(),A=()=>{g(Uo()),localStorage.removeItem("CRM_USER"),setTimeout(()=>I("/login"),500),m.success("Üstünlikli çykyş!")};on();const y=Zs(),F=Ks(y.breakpoints.down("sm"));return e.jsx(e.Fragment,{children:e.jsxs(wo,{rootStyles:{[`.${Co.container}`]:{backgroundColor:"#F8F9FA",color:"#606C8F",maxHeight:"100%",display:"flex",width:"100%",flexDirection:"column",justifyContent:"space-between",padding:"10px !important",borderRight:"1px solid lightgray"}},className:"sidebar",style:{minHeight:"100vh",minWidth:"250px",width:{...F?"150px":"250px"},...F?{display:"none"}:{display:"flex"},border:"none"},children:[e.jsxs(n,{height:"100%",children:[e.jsx(n,{height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"20px 30px",children:e.jsx(Ye,{style:{textDecoration:"none"},to:"/",children:e.jsx(n,{left:"30px",top:"30px",direction:"row",alignItems:"center",children:e.jsx("img",{src:Po,style:{width:"auto",height:"75px"},alt:""})})})}),e.jsx(n,{height:"100%",justifyContent:"center",children:e.jsxs(nn,{menuItemStyles:{button:{"&:hover":{borderRadius:"7px",backgroundColor:"#E9ECEF",color:"#606C8F !important"}}},children:[e.jsx(Be,{onClick:()=>{d(null),c(!1)},component:e.jsx(Pe,{className:"sideNav",to:"/account"}),icon:e.jsx(Xs,{}),children:"Profil"}),e.jsx(Be,{onClick:()=>{d(null),c(!1)},component:e.jsx(Pe,{className:"sideNav",to:"/document"}),icon:e.jsx(Kn,{}),children:"Resminama"}),e.jsx(Be,{onClick:()=>{d(null),c(!1)},component:e.jsx(Pe,{className:"sideNav",to:w.role==="USER"||w.role==="MODERATOR"?"/":"/calendar"}),icon:e.jsx($n,{}),children:w.role==="USER"||w.role==="MODERATOR"?"Bellikler":"Kalendar"}),e.jsx(Be,{onClick:()=>{d(null),c(!1)},component:e.jsx(Pe,{className:"sideNav",to:"/projects"}),icon:e.jsx(_n,{}),children:"Proýektler"}),e.jsx(Be,{style:{...w.role!=="USER"?{display:"none"}:{display:"flex"}},icon:e.jsx(Ss,{}),component:e.jsx(Pe,{className:"sideNav",to:"/standarts/specific"}),children:"Tertip - düzgünnama"}),e.jsx(Be,{onClick:()=>{d(null),c(!1)},component:e.jsx(Pe,{className:"sideNav",to:"/employees"}),icon:e.jsx(qs,{}),style:{...w.role==="USER"?{display:"none"}:{display:"flex"}},children:"Işgärler"}),e.jsx(Be,{onClick:()=>{d(null),c(!1)},component:e.jsx(Pe,{className:"sideNav",to:"/chat"}),icon:e.jsx(eo,{}),children:"Söhbetdeşlik"}),e.jsx(Be,{style:{...w.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(Pe,{className:"sideNav",to:"/standarts/specific"}),icon:e.jsx(Ss,{}),children:"Aýratyn (Tertip-düzgünnama)"}),e.jsx(Be,{style:{...w.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(Pe,{className:"sideNav",to:"/standarts/all"}),icon:e.jsx(Ss,{}),children:"Ähli işgärler (Tertip-düzgünnama)"}),e.jsx(Be,{onClick:()=>{d(null),c(!1)},icon:e.jsx(to,{}),component:e.jsx(Pe,{className:"sideNav",to:"/settings"}),style:{...w.role==="USER"?{display:"none"}:{display:"flex"}},children:"Sazlamalar"})]})})]}),e.jsxs(n,{direction:"row",alignItems:"center",p:"0 0 50px 18px",children:[e.jsx(so,{sx:{color:"#606C8F"}}),e.jsx(X,{onClick:A,sx:{color:"#606C8F",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontWeight:500,fontSize:"20px",textTransform:"revert"},children:"Ulgamdan çyk"})]})]})})}function No(){return e.jsx(K,{children:e.jsxs(n,{direction:"row",maxHeight:"100vh",children:[e.jsx(Te,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsx(Bo,{}),e.jsxs(n,{direction:"column",width:"100%",children:[e.jsx(Ro,{}),e.jsx(ko,{})]})]})})}const Oo={updated:!1,data:[],status:"idle",error:null,loading:!1},yt=Z("updateImg",async o=>{const t=await E.patch("/user/updata/img",o);return t.data?m.success("Üstünlikli döredildi!"):m.error("Şowsuz!"),localStorage.setItem("CRM_USER",JSON.stringify(t.data)),t.data}),Lo=Ee({name:"userImg",initialState:Oo,reducers:{},extraReducers:o=>{o.addCase(yt.pending,t=>{t.status="loading..."}).addCase(yt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(yt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Ho=Lo.reducer,dn=["Duşenbe","Sişenbe","Çarşenbe","Penşenbe","Anna","Şenbe","Ýekşenbe"],cn=["Ýanwar","Fewral","Mart","Aprel","Maý","Iýun","Iýul","Awgust","Sentýabr","Oktýabr","Noýabr","Dekabr"],Qo=JSON.parse(localStorage.getItem("CRM_USER"));function _(o){return o&&o.charAt(0).toUpperCase()+o.substring(1).toLowerCase()}const Jo={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"10px 30px ",height:"575px"},Qs={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px ",height:"575px",overflow:"scroll","&::-webkit-scrollbar":{display:"none"}},vs={position:"absolute",top:"20%",left:"30%",transform:"translate(-50%, -50%)",width:635,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px",height:"350px"},Vo=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:5,title:"Gelen wagty"},{id:6,title:"Giden wagty"},{id:7,title:"Gijä galan sagady"},{id:8,title:"Bellik"}],Go=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:4,title:"Statusy"},{id:5,title:"Moderator"},{id:6,title:"Iş wagty"},{id:7,title:""}],Xo=(o,t)=>{if(!o||!t)return[{id:1,title:"Sene"},{id:2,title:"Gelen wagty"},{id:3,title:"Giden wagty"},{id:4,title:"Işlän sagady"},{id:5,title:"Gijä galan wagty"},{id:6,title:"Bellik"}];const s=P(o,"HH:mm:ss").format("HH:mm"),c=P(t,"HH:mm:ss").format("HH:mm");return console.log(t),[{id:1,title:"Sene"},{id:2,title:`Gelen wagty ${s} `},{id:3,title:`Giden wagty ${c}`},{id:4,title:"Işlän sagady"},{id:5,title:"Gijä galan wagty"},{id:6,title:"Bellik"}]};function qo(o,t){if(!o.workingHours||typeof o.workingHours!="string")return"Invalid time data";const[s,c]=o.workingHours.split(":");return[{id:1,title:"Jemi:"},{id:2,title:""},{id:3,title:""},{id:4,title:`${s}(sag):${c}(min)`},{id:5,title:`${t}(min)`},{id:6,title:""}]}const Zo=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],Ko=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],un=[{id:1,title:"Proýekt"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"}],jt=no(ye)(({theme:o})=>({fontFamily:"DM Sans, sans-serif","&:nth-of-type(odd)":{backgroundColor:"#f9fafc"},"&:hover":{backgroundColor:"#f9fafc"}})),Es={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},hn=({handleChange:o,selectedLanguages:t})=>e.jsx(oo,{children:e.jsx(n,{direction:"row",children:["TKM","RUS","ENG"].map(s=>e.jsx(gs,{control:e.jsx($s,{checked:t.includes(s),onChange:o,name:s}),label:s},s))})}),$o=({img:o,setFile:t})=>{const s=JSON.parse(localStorage.getItem("CRM_USER")),[c,i]=a.useState(!1),[d,w]=a.useState(s.mail),[I,g]=a.useState(s.phoneNumber),[A,y]=a.useState(s.surname),[F,j]=a.useState(s.name),[k,p]=a.useState(s.position?s.position.id:"ADMIN"),[S,u]=a.useState(s.languages?s.languages.split(","):[]),[W,r]=a.useState(s.whereStudy),[v,x]=a.useState(s.whereLive),[h,T]=a.useState(U(s.birthday)),[R,Q]=a.useState([]),ee=f=>{p(f.target.value)},L=()=>{const f=new FormData;f.append("file",o),f.append("userId",s.id),o!==null&&N(yt(f)),t(null)},N=te();a.useEffect(()=>{(async()=>{await E.get("/position/get").then(M=>{Q(M.data)})})()},[]),z(f=>f.imgAccount.updated);const O=async f=>{f.preventDefault();try{if(d.trim().length<=0||F.trim().length<=0||d.trim().length<=0||I.trim().length<=0||W.length<10)m.error("Dogry maglumatyňyzy giriziň!");else{i(!0);const M=await E.put("/user/updata/info",{userId:s.id,surname:_(A),name:_(F),mail:d,phoneNumber:I,birthday:h.add(1,"day"),whereStudy:W,whereLive:v,languages:S.join(","),positionId:k}).then(C=>{C.data&&(localStorage.setItem("CRM_USER",JSON.stringify(C.data)),m.success("Maglumat üýtgedildi!"),L(),i(!1))})}}catch(M){m.error(M.message==="Network Error"?"Internet baglanyşygy ýok":M.response.data),i(!1)}},D=f=>{const{name:M,checked:C}=f.target;console.log(f.target),u(V=>C?[...V,M]:V.filter(ne=>ne!==M))};return e.jsx(n,{direction:"column",width:"80%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:O,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(J,{id:"outlined-basic",type:"text",value:F,name:"password",onChange:f=>j(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:A,onChange:f=>y(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(le,{fullWidth:!0,children:e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:k,onChange:ee,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:R.map(f=>e.jsx(G,{value:f.id,children:f.name},f.id))})})]})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(ie,{value:h,format:"DD.MM.YYYY",onChange:f=>T(f),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:d,onChange:f=>w(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri"}),e.jsx(J,{id:"outlined-basic",type:"text",value:W,error:W.length<10,name:"password",onChange:f=>r(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:v,onChange:f=>x(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:I,onChange:f=>g(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(hn,{handleChange:D,selectedLanguages:S})]})]})]}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(X,{onClick:O,disabled:s.name===d&&s.surname===lastName,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:c?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})};function _o(){const o=JSON.parse(localStorage.getItem("CRM_USER"));a.useState(o.mail),a.useState(o.surname),a.useState(o.phoneNumber==null?"+993 66778899":o.phoneNumber),a.useState(o.name),a.useState(o.position==null?"ADMIN":o.position.name),a.useState(o.whereLive),a.useState(!1),a.useState(!1),a.useState(""),a.useState(""),a.useState("");const[t,s]=a.useState(null);a.useState(""),a.useState(!1),z(i=>i.imgAccount.data),z(i=>i.imgAccount.status),z(i=>i.imgAccount.error),te();const c=i=>{const d=i.target.files[0];d&&s(d)};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(Te,{}),e.jsxs(n,{children:[e.jsx(l,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Profil"}),e.jsxs(n,{backgroundColor:"#fff",direction:"column",minHeight:"80vh",borderRadius:"10px",m:"0px 20px 10px 20px",boxShadow:" 0px 0px 5px -2px rgba(0,0,0,0.75)",children:[e.jsxs(n,{alignItems:"center",direction:"column",pt:1,children:[e.jsxs(H,{sx:{"&:hover .file-input-label2":{display:"flex",flexDirection:"column"}},children:[e.jsxs(n,{position:"relative",display:"inline-block",children:[e.jsx("input",{type:"file",onChange:c,id:"file",accept:".img,.jpg,.png",className:"file-input2"}),e.jsx("label",{htmlFor:"file",className:"file-input-label2"})]}),e.jsx(n,{width:70,height:70,borderRadius:"100px",alignItems:"center",justifyContent:"center",bgcolor:"#ECECEE",children:o.img?e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${o.img}`,alt:""}):e.jsx(ao,{sx:{width:23,height:23}})})]}),t!==null?t.name:"",e.jsx(l,{fontSize:30,mb:2,fontWeight:600,children:o.firstName})]}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},justifyContent:"center",children:e.jsx($o,{img:t,setFile:()=>s(null)})})]})]})]})}const ea="/assets/done-DJMmEArB.png",ta="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7GSURBVHgB7VwJkBxV3f+9mZ773tls9kjIJiEX8kn4AhbxU7KEw8SvjEgJKh4RLAVEI5YGQUtYwAJBREWFBEpB8QCPilFUUlpFoYXcQTA3Jtkcm0022dnZuXdmutv370nvdM/0zPTszmY21v6q3m73O7p7f/2/3v+9XmAa05jGaQyG0wTyRncHZGc3ZCYiPPQauwoipgCmPIHyw8FuwPIomHyJpnqAt9zLro9+D03GlCZQfigwDxbrC/yorUKPr3MSv4EmwoKpDGb5QWXylA53yY+0vBNNxJQlUP5+YC7Xj9XqeTydx5FIWik6SPKH0URMXQm0sjO0p/F0DgORjFJKsAhNxNQlkJm0z7LsQBMh4DRBZ4tLKVMNU9uJnAZoehgjy/wZNgbX8DhvESTm1jR1g7G1Ji7Rxy/yE+0l+Xk/5OwWdmP6ECYZDSfwV1deac2fKS1gQn4GnzVYq/U9N7A3sMh3qJc/xlI0HilO5H1P9vc8V7OnKItWR2b7Vb1bIqgTDSXw17ddvloUcTdjqEmIx5pBz4w34BEymExsi3VjR2yOma48PpJ/Nn/24RvPu+61HEyiYTbwqa99YC0nb7MZ8ghL/AcnnTzlPr6DcFqzZrpyD8U+vffQ7L/09vaa5qUhBG6+d42PMfkOTp7N7Jh2Z93aMi5YmYR2R133WrE4t/Ums50bQmA6Zl0jA6b0RIXLOopTBbdQ570Yu9Zs1wbFgdJ8I3PqDnfB5vAYjmCobdsbBaevBQHvQsO2dPQosqmYro7H8KZnNw0hUGbMUkrfjAXnY/Fln6o8aPOjOFWYuXg5PIs/Z9iWGTmOV3729dJq07xM2kzEFZxZvQPPVJ0yOEOVmwIzMBFMz0QmiGkCJ4imJROywf/BqYLonInJQtMIHFr6Tfw3YFqFJ4hpAieIaQIniNMmI30q4W2djSNHjj4gM8xnMhJczp7o7Gx7xqjvNIElmL1sNboveD8dflGZXSk/pKv7B46+mM2kV8+dOzeq7T+lVVhOpJD75Z9wqnDmiqtV8srAebzA4XRtkksWsZougSwZg++PP4Z18BCYmEd2zhKkL/wA8nYfUh9ZD/HVbRD3H4bzq5/BZGLe0nei4+wLa3XrGRgY6OG/t6gVTSXQ9fzTCPziPjCpuE/IsetVeLY8if27zoC464BSJ725W1k8yedFJBJJpc7r80AQBORz+bE6FYJg5e1emMXS9igW5p7C0MAsZDtWVu3LEyeXYioQaOvbgcCT9+vII0h54PA/JOQjBfKENRfB9cDNlKNDnktodHhEqXc6nQUCNXUqqM0cgTICex5CRziunLXs+jYiYg7ZWe+pPERCl/a0aTbQ98fHwPL6pYc8z/AffsGKdKSQHHO8vQvuDbeDedxoNHgCGI8O70P/iVfG6vg7QmjvBgj9z1Ycx6zsTe150yTQzlVVC5K8Iy8XyfN2SDyPF8FxVsw0kmR1z9Pt+DCsqwUi75ZoH55IRfB450fx7OHHMSdfcK4WOYvWPfcjxrK5VOd7Spco0nZB2KStaJIE8sVgUS99x96wFMnrlNCxTIJVTKHRIPLuHDmIJ5LHlfP9tiB6Zn0Se4TwWB96Z/69G5jz+PNx/Vj5+62trbu0dU0ikEEsSWS2LpEh8ADB0yaj63wJFq4bYnu3rg85DLJ3lUo+n695ZyJvY+KYrq5PIXEtDqFoN5mYFULb7/a6B5/LFJ5Yvq2ro+Mrpddrmg1MrrxKd25zy5jTI6LzHeLY8kpi5Yd0fVSHUZHAXOVdv6ralpKn4hgX9hXuy3GA+bTVLLDjXrun/8+3tbe3G27kbBqB6Xe9D9kzz9HVCS5ZkTxCduG5yCx/LxqF++P9+OlJtS0DD4OkVAb7LX4sd12B3SxQbJPZdwPnXXMX4+u2RkOb5kQklxeRdd+Fb/MGuF/aApYoGHHJ40dqxRVIrFpLMZduzHgcBoEkrxJ5jlgSo8liHDlg8WCV6314Nr0Z3XKsl1299Y5q125qIC3b7Ih9cB0Sq9dCOHqAnzsghjsUEhsFsnnVJE9Lnoo+LokXui7/9sE1N92Jj6AqpkQyQfIEkJ3/djQadxg4DBXWeBJiImnYtmrbVjxz6w+/bGbjUEMIbLNFwUqsqceaRjNRTW2rkXfpjn9i5c438AzMoSEErpz5RtnialJYghiag2/VcBiVyOvZvQ2XbX8d9aAxKixjaenODuvoCTQD9TgMLUhtL+aSVy9MhzHyY8FgxUaGs0urhOF/IcXzeVR4Dk1/09HJ2Zl1Z6x+h0EgyVs5DvIIpgiUN4buRQYH5IeDHy9reyhA+yb8kiQhnU4rhY6FzDFImWFldqAl0N33S7T9dRU8/34MjQQ5jA3xyg4DcWPyvhDuxv+/+YpOgQIB88mLmiosP9zSyxm4GYWY7Kfyw6GzYHHeBTGzjNO/nqvvu6lBFEVkMoUNkzabDRaLBfNfvBzJ0DKkltwI2T8f/m3fhPvAr5U+/u08DygmkVj0OUwUt0QPcMkbNGyr5jBubDkD14dm42lNHZHXMALlDaFb+c/bdZUMt0DOfIyTN+vkeUVYxAR8J56D7+9/g+QIlamub9cPebBsQ3LhdRgvvhXrr0heNYdxbWgWPt+i39Lo87nqIo9QUYXlB73cs7LPa+tIynI5JYsyq7Q/SV0oFFIKJTpLrqaQl81myyb8nrceQz45hPGAJO878SOGbY4aantzeK6ujogLhYz3MlZDRQLZusRxrra3qudEXDweR5IbYjNZj1IQealUShlPL0LFsUW3IpWzYTRT3y7S1159HQd3vmXcSA6jguR9ikseqa0W45E8FVWdCLtuiL6/eERbRw5BS4BZ0Dgq5GBkqeBUIrPXIt56kXJMBBLJZjAyEsPOHXuwes8J/N9AQtdWy2GsD8/VWR2HwzEuyVNR2wuLwpc4lYOkom63Gx6PR7lpGez8sXxcdf28OMovS2NcLhd8Xh8Em4CcswMn5lyj62O1Vv2sZAwkxapnX7P9GC7pGy6MN+EwdI/stMPhmtindrUDaSG7ELJF+WbXbreXt3v5JeY4+WJCSfY7wm3lfj6dSxellbIpxcsOwZnYjXSg8FWE0+U0TeCJ43pndOm/I0jLEp53GmuGkcMg8rTPM17UlkDJcnvFtg7+9s7xlpNHaOF1/8uzKu3Gb5hJWQSP/FY5Jum2O+wwi8HB8mB5zd4oVkTKbbORw3A4HQ0hj1CVQGX2wbDCsNHLpWWeC2BV4hhqoj4eY8nyRF6AJZ+CVTAneYRodATHB42nie8dSOtINHIYito6G/eFrE6Fla/EbZYv80PKLS3GKForjqxFngrav9/N+25PlDVZ83EseP4iSIIbef8i5AJnIXnmNRDdXYaXIuex6Td/UBbSfX6vocoTiXmrG+fNm48bSsgjO9xI8gh6GygwMhSfVU/JY1JRmrSxHTkJn+mPkgqOhZxMtjilU0MhmrGQFNojrysl03mZIYEkeURePF54EfEYD9J9Hi69+j+Bp96x3tOJRZMseSqqOpHR0dGx6RkFyGMgAuv5TNHKOzu4tGSL6kUxJYFsEXlnFUQsvTQigp2UcAqbNv326THyCOSF49zrhsMhdHS28zjOz6MEF9raZpQF8o1yGEYYXzpLRv0wSXiWx4MpLl1kFz3eQnwWiQxziYuX9aWwqueid8PrrRzHkdRNhuSpqEog2YzyaRnHqIS6QIHzqD7E8HoLa7BmQhePu3yWQPHoqtUXG5JHkksvgK6dzfIMUSZd0V7brRNbmCxlp49L1w/47wX8hvO4fVpANqoMWU5glMd5QZN2cJir7qhebCl0UZF3zEDG+zbk7SElwC6F2+PG8uXn4+WXtyrqHAoFcPElK8ZeAoGe0+kuxJKq6keHT6DKUjH/40W4fJX9pBnoCGQ38HQuMJZAkL/Dwxgn28/VrzyZuo+/1XOF2p6YeOsz3qIhWj3Yd8HTiheuhfMvWIazzl6MkWhMsXXaF0vHbq8bpS87m5fHyCyFTbAg4A/xtRzzIZQRqs+Fvxjli7XyXwwbU/zVvpWubg9JdXdxw582VvnEjB5T5Kkgm9jaFjZFnvL8FcgTmIRgsGXC5CnXqtnDwh7kJF1p2DbIMygJrp5zuRcNaqSRiBvh9ftSFckjrzLcWdy6YeG2iNSaVJCOK/3xynRSLuyToX7kIBgzHxLYrJS6CqNRqE1gzP46fFlK2IUpW0Lhgy6ZQJJIQTKFNlSIr6yoi/lUUFhEBJFjyrrnIOcuxmpEhNYuVgNN++qZ+qkoqG2gIZKnorYL8mVpLhymP57yeVQM007kmWP5gkQakEfxJI2l+I9iPXuqD217C/+9jtTP0Ns3EOQwGk0eofpcuLCItJ6O1XCD1MXQM9e60ckx2gA5MPA7Xn4Pm91WlxrWC5K8YEtrw8kjVE7pK4kE9iP1nCSEYi8KHcYjLWS7aKzP59PFfjP2fQ8sPXlryI10GEaonNK/hntgmd2trSMbdZI82qWp01NK+Q8PDyulNOUvMzvyttCYk9Aicsa1yDAfz0g3/l+gkMMIhqo7jNTwUUwEVUWJ3RDplTeEuauVikQybETUuh7B3AJI7CbupdfQZnej8aN5C96K+LE71oWEvRtLrC/hHV1FaXvxWDd2Hu7nR/cpDrwl7OMOqo4kRQ3INKeuZm54EjY5VL4oJRdcoSnU1EV2/dA98iP8LYrSOi6vX2LXDf/iZNNWXj4hP9jih10eIclSJ+yqvXvktYV8BqdKXB+OYyZOpBxYOfcoXukP46V+moYVtxyLMY+ywNNsWCDvNN/XBNhnhu7hSnqOhrxi27oI7SEaItIoq0KFjofTdg15J2/Gc4NHcl34+c63cfL0+5GCwalBHkGULA+Y7WvanbIbEoOVG1H2xqKZYpxmtwtobfVh1qww/H6+sMRTY9plRDqm+qkAvnb49932cx43279Ru7O28Z/v0lZpCXS7HUrRgkhzufh6MM/S+HyTk6urEzRZeGimELr7w729jbOBpmCV7kOePaWtSoq2MfkWeJxn9ERUX6ntVILne+NCnvVdcc+m8W2RmMY0pnG64j8HvGUSvSq87QAAAABJRU5ErkJggg==",sa="/assets/newAdded-CcMvoMMP.png",na="/assets/newProject-CpnAEvfz.png",oa={data:[],status:"idle",error:null,loading:!1},Me=Z("getUsers",async()=>{const o=JSON.parse(localStorage.getItem("token"));return(await E.get("/user/users",{headers:{Authorization:`Bearer ${o}`}})).data}),As=Z("updateImg",async o=>{const t=await E.post("/user/updata-img",o);return t.data.message=="User profil photo updated successfully"?m.success("Üstünlikli döredildi!"):m.error("Şowsuz!"),t}),wt=Z("postStatusUser",async o=>{if((await E.patch("/user/updata/status",o)).data.status!==400){const s=await E.get("/user/status");return m.success("Üstünlikli üýtgedildi!"),s.data}else m.error("Şowsuz!")}),aa=Ee({name:"users",initialState:oa,reducers:{},extraReducers:o=>{o.addCase(Me.pending,t=>{t.status="loading..."}).addCase(Me.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Me.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(As.pending,t=>{t.status="loading..."}).addCase(As.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(As.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(wt.pending,t=>{t.status="loading..."}).addCase(wt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(wt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),ra=aa.reducer,ia=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:c,setSelectedUsers:i,allUsers:d})=>{a.useState([]);const[w,I]=a.useState([]),[g,A]=a.useState("Orta"),[y,F]=a.useState("Başlanmadyk"),[j,k]=a.useState("");a.useState("");const[p,S]=a.useState(null),[u,W]=a.useState(null),[r,v]=a.useState(t),x=R=>{A(R.target.value)},h=R=>{F(R.target.value)};a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(Q=>{I(Q.data.data)})})()},[]);const T=()=>{const R={userId:t.length&&t[t.length-1].id,name:j,status:y,priority:g,startDate:U(p).format("YYYY-MM-DD"),endDate:U(u).format("YYYY-MM-DD")};j!==""&&y!=""&&g!==""&&p!==null&&u!==null?(s(t),k(""),c(Q=>[...Q,R])):m.error("Dogry maglumatyňyzy giriziň!")};return a.useEffect(()=>{t.length&&v(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsx(oe,{open:t!==void 0>0&&o,onClose:()=>{A(""),F(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{A(""),F(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:R=>{S(R||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:R=>{W(R||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:j,fullWidth:!0,onChange:R=>k(R.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:x,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:h,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:T,children:"Ýatda sakla"})})]})]})})]})},la={data:[],status:"idle",error:null,loading:!1},nt=Z("getProjects",async()=>(await E.get("/project/get")).data.data),rt=Z("getProjectForUser",async o=>(await E.get(`/project/get/user/projects?userId=${o}`)).data.data),Ct=Z("postNewProject",async o=>((await E.post("/project/create",o)).data?m.success("Üstünlikli!"):m.error("Şowsuz!"),(await E.get("/project/get")).data.data)),St=Z("updateProject",async o=>((await E.put("/project/updata/project",o)).data?m.success("Üstünlikli!"):m.error("Şowsuz!"),(await E.get("/project/get")).data.data)),At=Z("deleteProject",async o=>{if((await E.delete(`/project/delete/project?projectId=${o.projectId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Project remove successfully")return m.success("Üstünlikli!"),(await E.get("/project/get")).data.data;m.error("Ýalňyşlyk!")}),da=Ee({name:"project",initialState:la,reducers:{},extraReducers:o=>{o.addCase(nt.pending,t=>{t.status="loading..."}).addCase(nt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(nt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(rt.pending,t=>{t.status="loading..."}).addCase(rt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(rt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ct.pending,t=>{t.status="loading..."}).addCase(Ct.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ct.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(St.pending,t=>{t.status="loading..."}).addCase(St.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(St.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(At.pending,t=>{t.status="loading..."}).addCase(At.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(At.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),ca=da.reducer,ua=({open:o,handleClose:t})=>{const[s,c]=a.useState(!1),[i,d]=a.useState("Orta"),[w,I]=a.useState("Başlanmadyk"),[g,A]=a.useState([]),[y,F]=a.useState([]);a.useState("");const[j,k]=a.useState(""),[p,S]=a.useState([]),[u,W]=a.useState(p?p.endDate:""),[r,v]=a.useState(p?p.startDate:"");z(D=>D.users.status);const x=z(D=>D.users.data),h=te(),T=D=>{d(D.target.value)},R=D=>{I(D.target.value)};a.useEffect(()=>{const D=p.reduce((f,M)=>{const C=new Date(M.startDate),V=new Date(M.endDate);return(!f.earliestStart||C<f.earliestStart)&&(f.earliestStart=C),(!f.latestEnd||V>f.latestEnd)&&(f.latestEnd=V),f},{earliestStart:null,latestEnd:null});v(D.earliestStart),W(D.latestEnd)},[p]);const Q=D=>{D.length?(c(!0),F(D)):A(D)},ee=D=>{D?(A(f=>f.filter(M=>M.id!==D)),F(f=>f.filter(M=>M.id!==D))):A(newValues),c(!1)};a.useEffect(()=>{h(Me())},[h]);const L=D=>{k(D.target.value)},N=(D,f)=>{f.length<g.length?(p.filter(M=>!f.some(C=>C.id===M.id)),A(f),S(p.filter(M=>f.some(C=>C.id!==M.id))),F(y.filter(M=>f.some(C=>C.id!==M.id)))):(f||f[0].id)&&(Q(f),A(()=>f.map(M=>({id:M.id?M.id:M.userId,name:M.name,surname:M.surname}))))},O=()=>{const D={name:j,status:w,priority:i,startDate:r,endDate:u,tasks:p};j!=""&&i!=""&&r!==""&&u!=""&&p.length!=0?(h(Ct(D)),t(),A([]),S([]),k("")):m.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:j,fullWidth:!0,onChange:L,sx:{borderRadius:"8px",height:56}})}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,value:g,fullWidth:!0,isOptionEqualToValue:(D,f)=>D.id===f.id,options:x,getOptionLabel:D=>`${_(D.name)} ${_(D.surname==null?"":D.surname)}`,onChange:N,renderInput:D=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...D,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...D.InputProps,endAdornment:e.jsx(e.Fragment,{children:D.InputProps.endAdornment})}}),popupIcon:e.jsx(Ve,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,value:U(r).isValid()?U(r):null,onChange:D=>{v(D?D?U(D).format("YYYY-MM-DD"):U(r):U(r))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,value:U(u).isValid()?U(u):null,onChange:D=>{W(D?D?U(D).format("YYYY-MM-DD"):U(u):U(u))},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:T,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,onChange:R,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:O,children:"Ýatda sakla"})})]})]})}),e.jsx(ia,{user:y,setSelectedUsers:F,openUserModal:s,handleCloseUserModal:ee,setWorkers:S,allUsers:x})]})};function pn(){const[o,t]=a.useState(!1),s=z(j=>j.project.data),c=te(),i=()=>t(!0),d=()=>t(!1);a.useEffect(()=>{c(nt())},[c]);const w=s.filter(j=>j.status==="Tamamlanan"),I=s.filter(j=>j.status==="Dowam edýän"),g=new Date;g.setDate(g.getDate()-7);const A=s.filter(j=>new Date(j.createdat)>=g),y=s.filter(j=>new Date(j.createdat)>=g).reduce((j,k)=>j+k.completion,0),F=[{id:1,img:ea,title:"Tamamlanan",value:w.length,percentage:null,width:3},{id:2,img:ta,title:"Dowam edýän",value:I.length,percentage:`${Math.ceil(y)}%`,width:3},{id:3,img:sa,title:"Täze goşulan",value:A.length,percentage:null,width:3},{id:4,img:na,title:"Täze proýekt",value:null,percentage:null,width:3}];return e.jsxs(_e,{container:!0,spacing:2,children:[F.map((j,k)=>e.jsx(_e,{item:!0,xs:12,sm:12,md:j.width,children:e.jsxs(ot,{sx:{height:"85px",borderRadius:"12px",display:"flex",justifyContent:"space-around",alignItems:"center",border:"0.5px solid lightgray"},children:[e.jsxs(n,{direction:"row",width:"70%",sx:{...j.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},justifyContent:"center",onClick:j.id==4?i:null,children:[e.jsx(n,{width:60,height:60,borderRadius:"100%",backgroundColor:"#F0F7FF",alignItems:"center",justifyContent:"center",children:e.jsx("img",{src:j.img,alt:"",style:{width:40,height:40}})}),e.jsxs(n,{children:[e.jsx(l,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,children:j.value}),e.jsx(l,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,children:j.title})]})]}),e.jsxs(n,{mr:2,sx:{...j.percentage==null&&{display:"none"}},children:[e.jsx(ro,{sx:{color:"#00B69B"}}),e.jsx(l,{color:"#00B69B",children:j.percentage})]})]})},k)),e.jsx(ua,{open:o,handleClose:d})]})}const Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANySURBVHgB7ZldThsxEMdnnDyiEk7QjfiQ+lRyA3qCqidglws0PUHCCYB3kmxvwA3KDchbpbaI7QmaPvSJYHcGxatJSdbexkYRyk9I8ZrZXc96xn9/AGzYsBIIgblJ09YrgI8GMQXEhOuMMWNEHN9rffomzwsISFAH7rLs+AHgnBreWmIyMeTEfp6fQyCCOXCbpl2j1JmPbcOYtD0afYYAKAjA1zRNKGR69pq+SkHOvGtovbM3HCL1yAeus/9/QDznUIMABHGggdi3YcMNVVp39i8vr9t5PuG6vcHgiuuEE60tpboQgDAOALy1ZeqJT7bhEq7TWmf2mpw5hgAEcYAafWjL/LWX2TUBxuIygQA8SWJKxh7Fbx/WENS6v5vnp7LuSQ+sa+OZRW176gDAKawpi9rm1IHbLLuxMU5J2DnI8zFE5HuaHqFSXx4bR+q9Oxh0quydSawBfpbGjUYCz4g25rfLxukAddFEPDCI+FRBcZ7YMjXuzmXvdIDCp7BlDDT0VSHfIXt/GcrDYCLKryEyON/LE5e904GH+RDaWWbH+vHj5MTw7yo2RvQAit5fhjsHtC5KY6WW9oAdo6t0xMeGQmi7tEdcvQeaYhZpniOJEdvlu6fTwmXvMxeSXyGByKDIs7bH6s3pAM8i5VAaah6/iLv5ZzvDh/GajdJwVgpK6/EvDvc1E5jxcoCGtlJQps1mApFA8XF8VJjxXQ+UgkKL8gQiIVWYRoxwIQQiHjFiCEkVNmL0q8IvhEQ80lCaQCSkCqOHBjBeDkg1pgX8NkTCROsBocY0IrUhElKFaU1Q+Nzj5YBUY4w4oZP5ZabTOEkMEZPY7qUyf0KG0D/7PK1YamzEx+ks2FtahPe+kBFaEEONaRqRiMsCPPF2QBnzy5ZjqPF0fgRyrsQs3g5ohxrbLY+qbZkqmzmB9FRhpulriA413h8O+/TTr3pGlQ0Nm4mZlU2MEOI9GluOocbymb4qzPiHkNalAwrxOMJI9L4sKXXteY+/A3QsdC3CiPf3exCIx0X+TAP4DIHPFnzv9c6BGZx8Z7MXdWmHIaGEvmDnoCbcg1sAhxQuPVoHH9n6unuztc/IvmVZziEEEaBFzMXBaNStc0/tAw56QRpjB/t/Gs/U7gELKycd1vV55xrFEVMdWLBoDXBFp5Z5O/Ku94YNL5W/nhNKkLkE8qkAAAAASUVORK5CYII=",ha={data:[],status:"idle",error:null,loading:!1},kt=Z("getProjectDetail",async o=>[(await E.get(`/project/id/get?projectId=${o}`)).data.data]),ks=Z("getProjectForUser",async o=>[(await E.get(`/project/get/user/projects?userId=${o}`)).data.data]),Dt=Z("updateProjectForUser",async o=>{if((await E.put("/project/updata/project",o)).data.message=="Project updated successfully")return m.success("Üstünlikli!"),(await E.get(`/project/get/user/projects?userId=${o.userId}`)).data.data;m.error("Ýalňyşlyk!")}),It=Z("updateTask",async({body:o,projectID:t})=>((await E.put("/project/updata/task",o)).data?m.success("Üstünlikli!"):m.error("Şowsuz!"),[(await E.get(`/project/id/get?projectId=${t}`)).data.data])),Ft=Z("deleteProjectTask",async({body:o,age:t})=>{if((await E.delete(`/project/delete/task?projectId=${o.projectId}&taskId=${o.taskId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Task remove successfully")return m.success("Üstünlikli!"),[(await E.get(`/project/id/get?projectId=${t}`)).data.data];m.error("Ýalňyşlyk!")}),vt=Z("deleteProjectForUser",async o=>{if((await E.delete(`/project/delete/project?projectId=${o.projectId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Project remove successfully")return m.success("Üstünlikli!"),(await E.get(`/project/get/user/projects?userId=${o.userId}`)).data.data;m.error("Ýalňyşlyk!")}),Mt=Z("addNewTask",async({body:o,projectID:t})=>((await E.post("/project/add/task/existing/project",o)).data.message==="Task created"?m.success("Üstünlikli!"):m.error("Şowsuz!"),[(await E.get(`/project/id/get?projectId=${t}`)).data.data])),Rt=Z("postNewProjectForUser",async o=>((await E.post("/project/create",o.body)).data?m.success("Üstünlikli!"):m.error("Şowsuz!"),(await E.get(`/project/get/user/projects?userId=${o.userId}`)).data.data)),pa=Ee({name:"project",initialState:ha,reducers:{},extraReducers:o=>{o.addCase(Rt.pending,t=>{t.status="loading..."}).addCase(Rt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Rt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Dt.pending,t=>{t.status="loading..."}).addCase(Dt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Dt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(vt.pending,t=>{t.status="loading..."}).addCase(vt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(vt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(kt.pending,t=>{t.status="loading..."}).addCase(kt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(kt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ks.pending,t=>{t.status="loading..."}).addCase(ks.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ks.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Mt.pending,t=>{t.status="loading..."}).addCase(Mt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Mt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(It.pending,t=>{t.status="loading..."}).addCase(It.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(It.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ft.pending,t=>{t.status="loading..."}).addCase(Ft.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ft.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),xa=pa.reducer,xn=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:c,setSelectedUsers:i})=>{const[d,w]=a.useState(t.user&&t.user.id||""),[I,g]=a.useState([]),[A,y]=a.useState(t.task?t.task.priority:"Pes"),[F,j]=a.useState(t.task?t.task.status:"Başlanmadyk"),[k,p]=a.useState("");a.useState("");const[S,u]=a.useState(t.task&&t.task.startDate||""),[W,r]=a.useState(t.task&&t.task.endDate||""),v=z(C=>C.users.data),[x,h]=a.useState([t&&t.user]),[T,R]=a.useState(0),{id:Q}=et(),ee=JSON.parse(localStorage.getItem("CRM_USER")),L=te(),N=C=>{w(C.target.value)},O=C=>{y(C.target.value)},D=C=>{j(C.target.value)},f=(C,V)=>{R(V)};a.useEffect(()=>{t&&(p(t.task&&t.task.name||""),y(t.task?t.task.priority:"Pes"),j(t.task?t.task.status:"Başlanmadyk"),u(t.task&&t.task.startDate||""),h(t&&t.user||[]),r(t.task&&t.task.endDate||""),R(t.task&&t.task.completionTask||0),w(t.user&&t.user.id||""))},[t]),a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(V=>{g(V.data.data)})})()},[]);const M=()=>{const C={taskId:t.task&&t.task.id,completionTask:T,userId:d||t.user&&t.user.id,name:k,status:F,priority:A,startDate:U(S).format("YYYY-MM-DD"),endDate:U(W).format("YYYY-MM-DD")};k!==""&&F!=""&&A!==""&&S!==null&&W!==null?(L(It({body:C,projectID:Q})),s()):m.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:t!==void 0>0&&o,onClose:()=>{y(""),j(""),s()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,...ee.role=="USER"?{height:430}:{height:500},bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t.user&&t.user.name," ",t.user&&t.user.surname]}),e.jsx(H,{onClick:()=>{y(""),j(""),s()},children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(t.task&&t.task.startDate).isValid()?U(t.task&&t.task.startDate):null,onChange:C=>{u(C||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(t.task&&t.task.endDate).isValid()?U(t.task&&t.task.endDate):null,onChange:C=>{r(C||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt...",autoComplete:"off",value:k,fullWidth:!0,onChange:C=>p(C.target.value),sx:{borderRadius:"8px",height:56}}),ee.role==="USER"?"":e.jsxs(le,{children:[e.jsx(ue,{id:"age-label",children:"Işgärler"}),e.jsx(de,{labelId:"age-label",value:d,label:"Işgärler",onChange:N,children:v.map(C=>e.jsxs(G,{value:C.id,children:[C.name," ",C.surname]},C.id))})]}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,onChange:O,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:F,onChange:D,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsxs(n,{direction:"row",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",width:"40%",children:"Işiň näçe % edildi"}),e.jsx(io,{color:T==0?"error":"success",value:T,onChange:f,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,marks:!0,max:100})]}),e.jsx(n,{alignItems:"end",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:M,children:"Ýatda sakla"})})]})]})})})},ga=({open:o,handleClose:t,details:s})=>{a.useState(!1);const[c,i]=a.useState(s?s.priority:"Pes"),[d,w]=a.useState(s?s.status:"Başlanmadyk"),I=JSON.parse(localStorage.getItem("CRM_USER")),[g,A]=a.useState((s==null?void 0:s.name)||""),[y,F]=a.useState(s?s.startdate&&P(s.enddate).format("YYYY-MM-DD"):null),[j,k]=a.useState(s?s.startdate&&P(s.startdate).format("YYYY-MM-DD"):null);z(h=>h.users.status);const p=z(h=>h.users.data);a.useEffect(()=>{s&&(A(s.name||""),i(s.priority||""),w(s.status||""),k(s.startdate||""),F(s.enddate||""))},[s]);const S=te();a.useState([]);const u=h=>{i(h.target.value)},W=h=>{w(h.target.value)};a.useEffect(()=>{S(Me())},[S]);const r=h=>{A(h.target.value)},v=(h,T)=>{},x=()=>{const h={userId:I.id,projectId:s&&s.project_id,archived:!1,name:g,status:d,priority:c,startDate:U(j).format("YYYY-MM-DD"),endDate:U(y).format("YYYY-MM-DD")};g!=""&&c!=""&&j!==null&&y!=null?(S(St(h)),t()):m.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:g,fullWidth:!0,onChange:r,sx:{borderRadius:"8px",height:56}})}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,defaultValue:s&&s.users,fullWidth:!0,options:p,getOptionLabel:h=>`${_(h.name)} ${_(h.surname==null?"":h.surname)}`,disabled:!0,onChange:v,renderInput:h=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...h,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...h.InputProps,endAdornment:e.jsx(e.Fragment,{children:h.InputProps.endAdornment})}}),popupIcon:e.jsx(Ve,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.startdate).isValid()?U(s&&s.startdate):null,onChange:h=>{k(h?h?U(h).format("YYYY-MM-DD"):U(s&&s.startdate):U(s&&s.startdate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.enddate).isValid()?U(s&&s.enddate):null,onChange:h=>{F(h&&h?U(h).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,onChange:u,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:W,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:x,children:"Ýatda sakla"})})]})]})})})};function Ms({data:o,value:t}){return e.jsx(lo,{title:t,TransitionComponent:Ie,TransitionProps:{timeout:600},sx:{fontSize:25},placement:"right",arrow:!0,children:o})}U.extend(Io);U.extend(Fo);U.locale("tk");const fa=()=>{const[o,t]=a.useState(null),[s,c]=a.useState(null),[i,d]=a.useState(""),[w,I]=a.useState(!1),[g,A]=a.useState(""),[y,F]=a.useState(),j=z(B=>B.project.status),k=z(B=>B.project.error),p=z(B=>B.project.data);a.useState(p);const S=z(B=>B.users.data),u=z(B=>B.users.status),[W,r]=a.useState(!1),v=()=>r(!0),x=()=>r(!1),[h,T]=a.useState(!1),R=we(),Q=te(),ee=()=>I(!0),L=()=>I(!1);p.filter(B=>{const xe=U(B.startdate),ge=U(B.enddate);if(!xe.isValid()||!ge.isValid())return!1;const Se=o?U(o,"YYYY-MM-DD"):null,Re=s?U(s,"YYYY-MM-DD"):null;return(!Se||xe.isSameOrAfter(Se))&&(!Re||ge.isSameOrBefore(Re))});const N=j==="succeeded"?p.filter(B=>{const xe=U(B.startdate),ge=U(B.enddate);if(!xe.isValid()||!ge.isValid())return!1;const Se=o?U(o,"YYYY-MM-DD"):null,Re=s?U(s,"YYYY-MM-DD"):null,ve=(!Se||xe.isSameOrAfter(Se))&&(!Re||ge.isSameOrBefore(Re)),Ue=B.name.toLowerCase().includes(i.toLowerCase()),Ge=B.id!==9;return ve&&Ue&&Ge}):[],O=B=>{A(B.target.value),L()},D=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{Q(Me())},[Q]),a.useEffect(()=>{g!==""&&Q(rt(g.id))},[Q,g]),a.useEffect(()=>{Q(nt())},[Q]);const f=()=>{c(null),t(null),d(""),A(""),Q(nt())},M={p:"0 10px",textAlign:"center",fontFamily:"DM Sans"},C={p:"0 10px",textAlign:"center",fontFamily:"DM Sans",width:"350px"},V={fontSize:"14px",textAlign:"center",fontFamily:"DM Sans",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},ne=B=>{if(B){const xe={projectId:B,responsibleUserId:D.id};Q(At(xe))}},Fe=()=>{T(!0)},We=()=>{T(!1)},$=_s({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}}),ae={modal:{position:"absolute",top:"25%",left:"30%",transform:"translate(-50%, -50%)",width:700,height:400,bgcolor:"background.paper",border:"0.5px solid gray",boxShadow:24,p:"8px 25px",borderRadius:"10px"}};return e.jsx(K,{mt:1.5,width:"100%",backgroundColor:"#fff",children:e.jsxs(n,{width:"100%",height:"90%",borderRadius:"12px",p:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignContent:"center",justifyContent:"space-between",p:"10px 10px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"80%",alignContent:"center",justifyContent:"center",children:e.jsx(l,{fontFamily:"DM Sans",fontWeight:600,fontSize:18,children:"Proýektleriň mazmuny"})}),e.jsxs(n,{height:"100%",direction:"row",spacing:4,alignItems:"center",justifyContent:"center",children:[e.jsx(X,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray"},onClick:f,children:"Arassala"}),e.jsxs(X,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray",gap:"10px"},onClick:ee,children:[e.jsx(co,{}),"Filter"]}),e.jsx(oe,{disableAutoFocus:!0,open:w,onClose:L,closeAfterTransition:!0,children:e.jsx(Ie,{in:w,children:e.jsxs(K,{sx:ae.modal,children:[e.jsx(n,{alignItems:"end",fullWidth:!0,children:e.jsx(H,{onClick:L,children:e.jsx(ce,{sx:{width:28,height:28,color:"#474747"}})})}),e.jsxs(n,{direction:"row",flexWrap:"wrap",children:[e.jsxs(n,{direction:"row",width:"100%",children:[e.jsx(J,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{width:"100%",color:"#000",borderRadius:"40px",mr:"20px",mt:2},onChange:B=>d(B.target.value),value:i,placeholder:"Proýektleriň ady boýunça gözle",InputProps:{sx:{backgroundColor:"#F0F7FF",height:"45px",color:"#000",fontWeight:"500",borderRadius:"40px",padding:"none","& ::placeholder":{color:"#000"}}}}),e.jsx(n,{width:"100%",mt:2,children:e.jsxs(le,{fullWidth:!0,children:[e.jsx(ue,{id:"age-label",shrink:h||!!g,sx:{position:"absolute",top:h||g?0:"50%",left:14,transform:"translateY(-50%)",padding:0,paddingRight:1,margin:0,fontSize:"16px",transition:"all 0.2s ease-in-out",color:"#8b8f94",width:"100%",fontFamily:"DM Sans"},children:"Işgärler"}),e.jsx(de,{labelId:"age-label",value:g,label:"Işgärler   ",onChange:O,onFocus:Fe,onBlur:We,sx:{borderRadius:"20px",backgroundColor:"#F0F7FF",width:"100%",height:45,padding:0,"& .MuiSelect-select":{padding:"10px 14px",display:"flex",alignItems:"center"}},children:u=="succeeded"&&S.map(B=>e.jsxs(G,{value:B,children:[B.name," ",B.surname]},B.id))})]})})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:Es,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",width:"100%",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(dan)"}),e.jsx(ie,{value:U(o,"YYYY-MM-DD").isValid()?U(o,"YYYY-MM-DD"):null,onChange:B=>{t(B?U(B).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(çenli)"}),e.jsx(Is,{theme:$,children:e.jsx(ie,{value:U(s,"YYYY-MM-DD").isValid()?U(s,"YYYY-MM-DD"):null,onChange:B=>{c(B?U(B).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})})]})]})})})})]})]})})})]})]}),e.jsxs(n,{children:[j==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):j==="failed"?m.error(k):j==="succeeded"?e.jsx(n,{children:N.length==0?e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(at,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Zo.map(B=>e.jsx(q,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:B.title},B.id))})}),e.jsx(Qe,{sx:{cursor:"pointer"},children:N.map((B,xe)=>e.jsxs(jt,{children:[e.jsx(Ms,{value:B.name,data:e.jsx(q,{sx:C,onClick:()=>R(`/projects/${B.project_id?B.project_id:B.id}`),children:e.jsx(l,{sx:V,children:B.name})})}),e.jsxs(q,{onClick:()=>R(`/projects/${B.project_id?B.project_id:B.id}`),sx:M,children:[B.users?B.users[0]?B.users[0].name:"":g.name+" "+g.surname,B.users&&B.users[1]?` , ${B.users[1].name}`:""," ",B.users&&B.users[2]?` , ${B.users[2].name}`:""]}),e.jsxs(q,{onClick:()=>R(`/projects/${B.project_id?B.project_id:B.id}`),sx:M,children:[P(B.startdate).format("DD.MM.YYYY")," -"," ",P(B.enddate).format("DD.MM.YYYY")]}),e.jsx(q,{onClick:()=>R(`/projects/${B.project_id?B.project_id:B.id}`),sx:M,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${B.completion}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.ceil(B.completion)}%`})]})}),e.jsx(q,{onClick:()=>R(`/projects/${B.project_id?B.project_id:B.id}`),sx:{...M},children:B.priority=="Pes"?e.jsx(l,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",border:"0.5px solid gray",children:"Pes"}):B.priority=="Orta"?e.jsx(l,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Orta"}):e.jsx(l,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"0.5px solid #9A93FF",children:"Ýokary"})}),e.jsx(q,{onClick:()=>R(`/projects/${B.project_id?B.project_id:B.id}`),sx:M,children:B.status=="Dowam edýän"?e.jsx(l,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",border:"0.5px solid #E79124",children:"Dowam edýän"}):B.status=="Tamamlanan"?e.jsx(l,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Tamamlanan"}):e.jsx(l,{backgroundColor:"#FFF0ED",borderRadius:"50px",border:"0.5px solid #FF6A54",color:"#FF6A54",children:B.status})}),e.jsx(q,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>{v(),F(B)},children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>ne(B.project_id?B.project_id:B.id),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})})]})})]},xe))})]})})}):"",e.jsx(ga,{open:W,handleClose:x,details:y})]})]})})},ma=({setProjectName:o})=>{const[t,s]=a.useState(""),[c,i]=a.useState(!1),[d,w]=a.useState([]);et();const I=z(p=>p.projectDetail.status),g=z(p=>p.projectDetail.error),A=z(p=>p.projectDetail.data);a.useState([A]);const y=te(),F=JSON.parse(localStorage.getItem("CRM_USER")),j=we();a.useEffect(()=>{y(rt(F.id))},[y]),I==="succeeded"&&o(A);const k={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500};return e.jsxs(n,{children:[I==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):I==="failed"?m.error(g):I==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:A.length==0?e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(at,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:un.map(p=>e.jsx(q,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:p.title},p.id))})}),e.jsx(Qe,{children:A.map(p=>e.jsxs(jt,{sx:{cursor:"pointer"},children:[e.jsx(q,{onClick:()=>j(`/projects/${p.project_id?p.project_id:p.id}`),sx:{...k,width:"35%"},children:p.name}),e.jsxs(q,{onClick:()=>j(`/projects/${p.project_id?p.project_id:p.id}`),sx:{textAlign:"center"},children:[P(p.startDate).format("DD.MM.YYYY")," -"," ",P(p.endDate).format("DD.MM.YYYY")]}),e.jsx(q,{onClick:()=>j(`/projects/${p.project_id?p.project_id:p.id}`),sx:k,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(p.completion)}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.floor(p.completion)}%`})]})}),e.jsx(q,{onClick:()=>j(`/projects/${p.project_id?p.project_id:p.id}`),sx:{textAlign:"center",width:"15%"},children:p.priority=="Pes"?e.jsx(l,{backgroundColor:"#d4f4fc",borderRadius:"50px",border:"1px solid blue",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):p.priority=="Orta"?e.jsx(l,{backgroundColor:"#E9FAF4",borderRadius:"50px",border:"1px solid #29D697",color:"#29D697",children:"Orta"}):e.jsx(l,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"1px solid #9A93FF",children:"Ýokary"})}),e.jsx(q,{onClick:()=>j(`/projects/${p.project_id?p.project_id:p.id}`),sx:{textAlign:"center",width:"15%"},children:p.status=="Dowam edýän"?e.jsx(l,{backgroundColor:"#FFF1E0",borderRadius:"50px",border:"1px solid #E79124",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):p.status=="Tamamlanan"?e.jsx(l,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"1px solid #29D697 ",children:"Tamamlanan"}):e.jsx(l,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",border:"1px solid #FF6A54 ",children:p.status})})]}))})]})})}):"",e.jsx(xn,{user:t,setSelectedUsers:s,openUserModal:c,handleCloseUserModal:()=>i(!1),setWorkers:w})]})},ja=()=>{const[o,t]=a.useState("");z(c=>c.users.data),a.useState(!1),we();const s=c=>{t(c)};return e.jsx(K,{height:"90vh",p:"0 15px",width:"100%",backgroundColor:"#fff",overflow:"auto",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:2,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsx(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:e.jsx(n,{width:"100%",children:e.jsx(l,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektler"})})}),e.jsx(ma,{setProjectName:s})]})})},ba=()=>{const o=JSON.parse(localStorage.getItem("CRM_USER"));return e.jsx(K,{height:"100vh",p:"10px",width:"100%",backgroundColor:"#fff",overflow:"auto",children:o.role==="ADMIN"?e.jsxs(e.Fragment,{children:[e.jsx(pn,{}),e.jsx(fa,{})]}):e.jsx(ja,{})})},gn=({selectedDay:o,setDateNote:t})=>{const c=on().pathname==="/employees";return e.jsx(fe,{dateAdapter:me,children:e.jsx(ie,{defaultValue:U(o,"DD/MM/YYYY").isValid()?U(o,"DD/MM/YYYY"):null,onChange:i=>{t(i?i.format("YYYY-MM-DD"):null)},format:"DD/MM/YYYY",slotProps:{textField:{InputProps:{sx:{backgroundColor:"#fcfcfc",borderRadius:"40px",color:"#ff730f !important",padding:"0 16px",height:c?45:35,width:190,"&:hover":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #FF9E58"},"& .MuiSvgIcon-root":{color:"#ff730f",opacity:.7},"& .MuiInputBase-input":{color:"#ff730f",fontFamily:"DM Sans"}}}}}})})},ya={data:[],status:"idle",error:null,loading:!1},Yt=Z("getWorkTimeForDay",async o=>(await E.get(`/user/get/users?date=${o}`)).data),wa=Ee({name:"getWorkTime",initialState:ya,reducers:{},extraReducers:o=>{o.addCase(Yt.pending,t=>{t.status="loading..."}).addCase(Yt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Yt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Ca=wa.reducer,Sa=()=>{a.useState();const[o,t]=a.useState(""),[s,c]=a.useState("+993"),[i,d]=a.useState(""),[w,I]=a.useState(""),[g,A]=a.useState(""),[y,F]=a.useState("");a.useState("");const[j,k]=a.useState(!1),[p,S]=a.useState(""),[u,W]=a.useState("TKM"),[r,v]=a.useState(""),[x,h]=a.useState(""),[T,R]=a.useState(U()),[Q,ee]=a.useState([]),L=f=>{S(f.target.value)},N=f=>{W(f.target.value)};te();const O=we();a.useEffect(()=>{(async()=>{await E.get("/position/get").then(M=>{ee(M.data)})})()},[]);const D=async f=>{f.preventDefault();try{if(o.trim().length<=0||y.trim().length<=0)m.error("Dogry maglumatyňyzy giriziň!");else{k(!0);const M=await E.post("/user/registration",{login:i,pass:y,surname:_(w),name:_(g),mail:o,phoneNumber:s,birthday:T,whereStudy:r,whereLive:x,languages:u,role:"USER",positionId:p}).then(C=>C.data?(setTimeout(()=>O("/login"),2e3),m.success("Üstünlikli registrasiýa!"),t(""),c("+993"),d(""),I(""),A(""),F(""),k(!1),v(""),S(""),W(""),h(""),R(U())):"")}}catch(M){m.error(M.message==="Network Error"?"Internet baglanyşygy ýok":M.response.data),k(!1)}};return e.jsxs(n,{width:"100%",height:600,justifyContent:"center",borderRadius:"20px",mt:-5,children:[e.jsx(l,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:D,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Ady",type:"text",value:g,name:"password",onChange:f=>A(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:w,onChange:f=>I(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:i,onChange:f=>d(f.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Wezipe"}),e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:p,onChange:L,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:Q.map(f=>e.jsx(G,{value:f.id,children:f.name},f.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(Ae,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ie,{label:"Doglan senesi",value:T,format:"DD.MM.YYYY",onChange:f=>R(f),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(J,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:o,onChange:f=>t(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:r,name:"password",onChange:f=>v(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:x,onChange:f=>h(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:s,onChange:f=>c(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Dili"}),e.jsxs(de,{labelId:"simple-select-label",id:"simple-select",value:u,onChange:N,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(G,{value:"ENG",children:"ENG"}),e.jsx(G,{value:"RUS",children:"RUS"}),e.jsx(G,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:y,onChange:f=>F(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:f=>F(f.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:e.jsx(X,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:j?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Hasaba almak"})})]})]})},fn=()=>{a.useState("");const[o,t]=a.useState(!1),s=()=>t(!0),c=()=>t(!1);a.useState(""),a.useState("+993"),a.useState(""),a.useState(""),a.useState(""),a.useState(""),a.useState(!1);const i=z(r=>r.getWorkTime.status),d=z(r=>r.getWorkTime.error),w=z(r=>r.getWorkTime.data),[I,g]=a.useState(""),[A,y]=a.useState(U()),F=te(),j=we();JSON.parse(localStorage.getItem("CRM_USER")),a.useEffect(()=>{F(Yt(U(A).format("YYYY-MM-DD")))},[A,F]);const k=i==="succeeded"?w.users&&w.users.filter(r=>r.id!==9&&r.name.toLowerCase().includes(I.toLowerCase())):[];console.log(w);const p={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},S={p:1,textAlign:"center",fontFamily:"DM Sans"},u=()=>e.jsx(l,{color:"tomato",fontSize:14,children:"-"});P().set({year:2024,month:8,date:28,hour:9,minute:0,second:0,millisecond:0}).toISOString();const W=(r,v)=>{if(!v||typeof v!="string")return console.warn("Invalid referenceStartTime provided"),null;const x=new Date(r),h=new Date(r);console.log(v);const[T,R]=v.split(":").map(Number);if(h.setHours(T,R,0,0),x>h){const Q=x-h;return Math.floor(Q/(1e3*60))}return null};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 30px 8px 0",children:[e.jsx(l,{p:"0px 5px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Işgärler"}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(J,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{color:"#000",minWidth:"150px",borderRadius:"40px",mr:"20px"},onChange:r=>g(r.target.value),value:I,placeholder:"Ady boýunça gözle",InputProps:{sx:{height:"45px",color:"#000",fontWeight:"600",borderRadius:"40px",padding:"none"}}}),e.jsx(gn,{selectedDay:A,setDateNote:y}),e.jsxs(X,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:s,children:[e.jsx(en,{}),"Işgär goşmak"]})]})]}),e.jsxs(n,{backgroundColor:"#fff",minHeight:"78vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",children:[e.jsx(Te,{}),e.jsx(oe,{open:o,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:p,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:c,children:"X"})}),e.jsx(Sa,{})]})})]}),e.jsx(n,{children:i==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):i==="failed"?m.error(d):i==="succeeded"?e.jsx(n,{children:k===void 0?e.jsx(l,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(at,{sx:{height:"77vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Vo.map(r=>e.jsx(q,{sx:{color:"#222222",fontWeight:500,fontSize:18,textAlign:"center"},children:r.title},r.id))})}),e.jsx(Qe,{children:k.map((r,v)=>{var x,h;return e.jsxs(jt,{onClick:()=>j(`/employees/${r.id}?date=${A}`),style:{cursor:"pointer"},children:[e.jsx(q,{sx:S,children:v+1}),e.jsx(q,{sx:{...S,textAlign:"start"},children:r.name}),e.jsx(q,{sx:S,children:r.surname}),e.jsx(q,{sx:S,children:r.employeeRegistrationTimes.length>0&&((x=r.employeeRegistrationTimes[0])!=null&&x.comeTime)?U(r.employeeRegistrationTimes[0].comeTime).format("HH:mm"):e.jsx(u,{})}),e.jsx(q,{sx:S,children:r.employeeRegistrationTimes&&r.employeeRegistrationTimes.length>0&&r.employeeRegistrationTimes[r.employeeRegistrationTimes.length-1]?r.employeeRegistrationTimes[r.employeeRegistrationTimes.length-1].leaveTime===null?"Bellik edilmedi":U(r.employeeRegistrationTimes[r.employeeRegistrationTimes.length-1].leaveTime).format("HH:mm"):e.jsx(u,{})}),e.jsx(q,{sx:{...S,color:"tomato"},children:(()=>{var R,Q;const T=W((R=r.employeeRegistrationTimes[0])==null?void 0:R.comeTime,((Q=r==null?void 0:r.workTime)==null?void 0:Q.startTime)||null);return T?`${Math.floor(T/60)>0?`${Math.floor(T/60)}(sag):`:""}${T%60}(min)`:"-"})()}),e.jsx(q,{sx:{maxWidth:"230px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:r.employeeRegistrationTimes.length>0&&((h=r.employeeRegistrationTimes[0])!=null&&h.note)?r.employeeRegistrationTimes[0].note:""},v)]},r.id)})})]})})}):""})]})]})},Aa={employeerTime:[],data:[],adminNotes:[],adminNote:[],status:"idle",statusAdminNote:"idle",statusMonth:"idle",errorAdminNote:"idle",error:null,errorMonth:null,loading:!1,setIsCame:JSON.parse(localStorage.getItem("iscame"))},Oe=Z("getUserMonthWorkTime",async o=>{const t=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return t.data.status===404&&m.error(t.data.message),t.data}),Tt=Z("updateUserRole",async o=>{const t=await E.patch("/user/updata/role",o);if(console.log(t.data),t.data==`User ID ${o.userId} role updated successfully.`){const s=await E.get("/user/status");return m.success("Üstünlikli üýtgedildi!"),s.data}else m.error("Şowsuz!")}),Et=Z("getUserDayWorkTime",async o=>{const t=await E.get(`time/for/day?userId=${o.userId}&date=${o.date}`);return t.data.status===404&&m.error(t.data.message),t.data}),Wt=Z("postComeTime",async o=>{const t={userId:o.userId,comeStatus:o.comeStatus};return(await E.post("/time/come",t)).data.messagge=="Saved come time work"?m.success("Üstünlikli!"):m.error("Şowsuz!"),(await E.get(`time/for/day?userId=${o.userId}&date=${o.userGetTime.date}`)).data}),Ut=Z("postLeaveTime",async o=>{const t={userId:o.userId,leaveStatus:o.leaveStatus};return(await E.post("/time/leave",t)).data.status==200?m.success("Üstünlikli!"):m.error("Şowsuz!"),(await E.get(`time/for/day?userId=${o.userId}&date=${o.userGetTime.date}`)).data}),zt=Z("noteUser",async o=>{const t={id:o.id,note:o.note,color:o.color};(await E.patch("/time/updata/note",t)).data.message==" Note updated successfully "?m.success("Üstünlikli!"):m.error("Şowsuz!");const i={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:P().format("YYYY-MM-DD")},d=await E.get(`time/work/user?userId=${i.userId}&date=${i.date}`);return d.data.status===404&&m.error(d.data.message),d.data}),Pt=Z("noteUpdate",async o=>{const t={id:o.id,note:o.note,color:o.color};(await E.patch("/time/updata/note",t)).data.message==" Note updated successfully "?m.success("Üstünlikli!"):m.error("Şowsuz!");const i={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:P().format("YYYY-MM-DD")},d=await E.get(`time/work/user?userId=${i.userId}&date=${i.date}`);return d.data.status===404&&m.error(d.data.message),d.data}),Bt=Z("getAdminNotes",async o=>{const t=await E.get(`/warning/get/share?startDate=${o.startDate}&endDate=${o.endDate}&userId=${o.userId}`);return t.data.status===404&&m.error(t.data.message),t.data}),Nt=Z("adminNotesOfMonth",async o=>{const t=await E.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return t.data.status===404&&m.error(t.data.message),t.data}),Ot=Z("postAdminNote",async o=>{const t={title:o.title,date:new Date(`${o.date} ${o.dateHour}`).toJSON(),color:o.color,users:o.users};t.title!==""&&t.date!==null&&t.users.length!==0?(await E.post("/warning/post",t)).data=="OK"?m.success("Üstünlikli!"):m.error("Şowsuz!"):m.error("Maglumatlary giriziň");const s=await E.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return s.data.status===404&&m.error(s.data.message),s.data}),Lt=Z("getAdminNoteForProject",async o=>{const t=await E.get(`/note/my/sent/notes?userId=${o}`);return t.data.status===404&&m.error(t.data.message),t.data}),Ht=Z("postAdminNotes",async o=>{o.content!==""&&o.userId!==""?(await E.post("/note/create",o)).data.message=="OK"?m.success("Üstünlikli!"):m.error("Şowsuz!"):m.error("Maglumatlary giriziň");const t=await E.get(`/note/my/sent/notes?userId=${o.authorId}`);return t.data.status===404&&m.error(t.data.message),t.data}),Qt=Z("updateAdminNote",async o=>{o.content!==""&&o.userId!==""?(await E.patch("/note/updata",o)).data.message=="Successfully"?m.success("Üstünlikli!"):m.error("Şowsuz!"):m.error("Maglumatlary giriziň");const t=await E.get(`/note/my/sent/notes?userId=${o.authorId}`);return t.data.status===404&&m.error(t.data.message),t.data}),Jt=Z("deleteAdminNote",async o=>{(await E.delete(`/warning/remove?id=${o.id}`)).data=="OK"?m.success("Üstünlikli!"):m.error("Şowsuz!");const s=await E.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return s.data.status===404&&m.error(s.data.message),s.data}),Vt=Z("deleteAdminNotes",async o=>{(await E.delete(`/note/delete?authorId=${o.authorId}&noteId=${o.id}`)).data.message=="Successfully"?m.success("Üstünlikli!"):m.error("Şowsuz!");const s=await E.get(`/note/my/sent/notes?userId=${o.authorId}`);return s.data.status===404&&m.error(s.data.message),s.data}),Gt=Z("updateAdminNotes",async o=>{const t={warningId:o.noteId,title:o.content,date:new Date(`${o.date} ${o.dateHour}`).toJSON(),color:o.color,users:o.users};(await E.put("/warning/update",t)).data.msg=="OK"?m.success("Üstünlikli!"):m.error("Şowsuz!");const c=await E.get(`warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return c.data.status===404&&m.error(c.data.message),c.data}),Xt=Z("getUserNoteForProject",async o=>{const t=await E.get(`/note/received/notes?userId=${o}`);return t.data.status===404&&m.error(t.data.message),t.data}),qt=Z("deleteUserNote",async o=>{(await E.delete(`/time/remove/note?id=${o.id}&userId=${o.userId}`)).data.msg=="Successfully"?m.success("Üstünlikli!"):m.error("Şowsuz!"),o.id,P().format("YYYY-MM-DD");const s=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return s.data.status===404&&m.error(s.data.message),s.data}),ka=Z("postUserStatus",async({body:o,data:t})=>{if((await E.patch("/user/updata/status",t)).data.status===200){const c=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return c.data.status===404&&m.error(c.data.message),c.data}else m.error("Ýalňyşlyk!")}),Da=Ee({name:"WorkTimes",initialState:Aa,reducers:{},extraReducers:o=>{o.addCase(Oe.pending,t=>{t.statusMonth="loading..."}).addCase(Oe.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(Oe.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(Tt.pending,t=>{t.statusMonth="loading..."}).addCase(Tt.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(Tt.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(Bt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Bt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Bt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Nt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Nt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Nt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Ot.pending,t=>{t.statusAdminNote="loading..."}).addCase(Ot.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Ot.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Ht.pending,t=>{t.statusAdminNote="loading..."}).addCase(Ht.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Ht.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Qt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Qt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Qt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Lt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Lt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Lt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Xt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Xt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Xt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Vt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Vt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Vt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Gt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Gt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Gt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Jt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Jt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Jt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(zt.pending,t=>{t.status="loading..."}).addCase(zt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(zt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(qt.pending,t=>{t.status="loading..."}).addCase(qt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(qt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Pt.pending,t=>{t.status="loading..."}).addCase(Pt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(Pt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Et.pending,t=>{t.status="loading..."}).addCase(Et.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Et.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Wt.pending,t=>{t.status="loading..."}).addCase(Wt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!1)}).addCase(Wt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ut.pending,t=>{t.status="loading..."}).addCase(Ut.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!0)}).addCase(Ut.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Ia=Da.reducer,Fa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHcSURBVHgB7ZiBccIwDEV/mYARNAIjZIN2g3oENsAbQCeADWCDZAO6AWxAO0EbX8IhC9sJSexwXN6djhCHWJHlLwVg4sV5w2NkpVF9XJR2xpOwLO1S2h+zE27OjgaVdoTtGLcNRoRQRYk7ZKJ4EN/nGIk9bOc0cyYX55OjYDunxPgSdhSTwyO0dYybSPJNkyEhc9jRI891ml2TIyELNvExcJ18kAwRmME98ZVf+PlBJdZXPhCBGfrxxY7fkQiCXS1CcJ08IBE8t0ISwqUmtJmicG6Y2JzjMqORGF7Olo5xXmWa0iAKfPmkxrXVyagQ/A0BHxvNQUOoIeBjSasIRzYEPIq82hhbB+5DqHLWVKUtBoy4bAi0GJcys3Lcw9WJX6OuMAAyiiTGd3C/BhDsNPDZqXaU0APe8ruah41jYhm1AlWt3sHvbOflb5Nv2jOpcVTqKNWOnuCOaKdXiDb5RrAFvkBzRJTDUYWOyKX07VzC40uVI1y5WrODe1P0hUcxQ0807vNshe6sYD/wIGgMIxmfGCj/XBDcO9HYvp5s4fmt2alr3D9gFBT8jnL9zGvzyQshMqq0bzRXD2lFCuc4hEoqjCZeGhzLmm726P+DXTD5RrhVCPO6eq4/Jyaenn/GPB3kZCDDsgAAAABJRU5ErkJggg==",va="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHXSURBVHgB7ZfxccIgFId/eg7gCIxgN0g3aCeoI+gEkgnsBrYTtBvYTmCdwGxQN7C8Ey6AJHlgmvzDd/fuTA4en4QHCZDJZDL/ysS7nqvYqhAYh0rFWsW5qcFKxWXkWNlCU09wjvFxHGbgQdP+g35ZqNggclIkwtP+qxP2RaFzhsaSdsNpS5JPXBctQf/yoOIF90M59qhnrtJjBWkTPKp4RC1JvOH6WFJZ6RyGSo9xbOrQJmgnqKx7EmmS1GfbkfuGLkE7kV0kEnGSG7hri3I9oEOO4AgCtaS9VqSKHaPvDq7ct851ZvRlC0InfFbxbt1bqvhAeKuge3vdxkB9CzDlYgVtqdK6ftIiArdyhXWvhCvLIkWQkHAlF6glKQ5w980S3v7GhXuShLh41wJXSfO7rS2bVEG/Kg2iob1pWyKSlEfMqUpTUClV7xAj2FaVX6g33Qr1lhRT9Swkwoe2OYsbD/WIvBedSzDGZc2gwP1VKdFc9a10CYpAojXStgwJV1KAKeknMVNNa+UE99EscT9LL+dJj8VaOhLNL6wF+mMB5gsrZx+kLcM8mgL9IVW8djWaBWR8zKfoULS+SJBM09QPEbQehS00CUhSA4nhP94rPW6FTCaTGY4/Fb/NMOfMGLwAAAAASUVORK5CYII=",Ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgB7ZjLccIwFEVPPgVQgkogHWiZXShBy+xCB9BBSAW4g6QD6IB0AKkAOiDSYE+ejWRb+EdmODNvBluydO13n2wEN5rxEDg/svFq4zk93nFlbGwcRSxtKK6ECXlxVyd0Sligi62NGQMy5k/MPj1e4xdqGIiVEDJNzxlOonxCFT0j07wqtBn8Qnv156gw+ajQrmzM8Xt0Rk9CfWkuomwkDOTPsjQXUYT9aegIl9a9mGxc4xqDX6i7QUUHfIlJ5hHXub69FJImvybGoPD7Myuk1pBp1sSj6LiQFmLQBZejCReSpgGay9PswxDhzzvq4YRli/WHjUNFf9eeVPSbc+7FnY2nGuN7BztGxrLGuIpzfxrZ4Z56jOiGQ9W5R+rxIn4nNn6onjgpaXc3/MbpbSVvfmfjm0g0+YpriiG/dGWx5sJFPCHOVyE0+Q8QKUzTALkkaOJRAWHuKRoaIv9AxabXees9IGxOS4WXEP8WcRPP8PtsSYsrQvGrWtW4xj3xLR34zIcRE2wq+mr8Pmv8ni1DTmgCfZSNT/w+m9IhivL0hnzWagGUYcj7RzLFXwDuSSp6Qm4emfScpscCKEMVBLjKDBXAhAGo2jzqzWchDGFxiyGFZTgBxQ3MNQPtC5Z98htOotacV/KNf8Mv2zwspa7JlfkAAAAASUVORK5CYII=",Ra="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgB7VgxdtNAEP0CDuAjiBPEdO5QOsrkBIQbyCVVyAUs5QQ4JwA6uojOpXMCdATRQWX+JxJPXtYSO7JFwvN/b63dWY31NbMzOyvgiP8cUcjN8/n89WazOWP3Js/zj2PoPkMY8iiKJrwmbEEErbo7LZimqf5sunVzFN02fVrjFAHo0S1p1dKrBz+5lH94ye4EI4Gk5ySZu/I/CJJbTHJfMT4qknxOjlVb6FuDcVuJ7a41ftnqf0EYdume4N5TzZIq0EPwN/hGd3yjpBkzEjdNP8uyBAHYpUu51mayS+8JwlDoh8QLhKOw6AYR5Juf8gEv2D1HIKy6oXkQdPkaRlh0Owkymk8Y1bc4LKZdk30WnJBkgn+I0CAZHX0WXCvD44CghzJ0uLkvD37jwi5wQDAPVl3zj97FXjCy5ZIzz1ThWpz3XuhK+RIGBBNUGVaXTr5K55Lz2vBLFR0cv2+yAMcmkiYL9kEWJrEP2C48YhgQvAZVDmnLYrvicGtnkEzW85AzwxQkdfW7xHZ6kKwpOCvsCUOi2F2DMZuqcFnyvG7XGAgzQW38JPCG3U+NjK7VaWEiC9cnt8GWNBNUlCoqWUYp3bTX4hR7hDUPZrW1lrg/ErRJ7W39CSaCIldfL5yp9ZB60QeTi0nsyiMuFRiOrG3NEgaYCC4Wi3d1Lrxmu1HFo7F7+NY5Vy+jNtpW13q4XJn23aeXwQA87mrmoZ5J5Dot7l+n/ZHPJKUreOoKVqvV99ls9oPEXmE8VHzeWyb9z+5E1+e3GHuqSP4Ca/ej0RFHPBT8BA8hA+XxDhf8AAAAAElFTkSuQmCC",Ya="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANkSURBVHgB7VexUhsxEN1zUrh0OrocXbpAZ2hiuqSK/wCno8OmSwV8gc0X4FQpAx2pclSQKk5HqhxdyqNLGsh7zMqWZcn24WhC4TejkXS70j1pd6WVyBJL/F8kZZTb7XYDVardrNfr5RIZcxEEsXaSJPto1qzP+d3d3VZskk+nCcErBbFPaK55xClVtERDJSRQcl9knFyBcmo6kG9DryYRESRYqVS6MvI3kjmESVe73W4T3Uw/k1zUHfSaGLvSApmm6aP9DsT6Vv8UhBtso95FdSCR4N1Bms5q9xEIfUeF/ULbNY3uKJggqD7VMP3b29tDVweECxA/sj7tSyT4djC12oPQMQLiPdOmuWPtoo/gMCrhazehgdxFGQUL0ZQIqMgCwAKGZsYuvpUI8BHMrZ8+lymAvGt1v0sE+AgWVjt4CPP6E8tfsZtRzsMJgupb19rlEZLKJLlU72ZD7jDWnez1QfxwYHUnnF9vGbO7OcgdSCSEgiSz2mPOz3PSuWW2JCJCBE9MA6ZccxKCqMmBCy9B9adMu2MJgSMjjiUiggmrJqnmGCmYyWgAUbYG2TejCxlEvU5gnhRVF/qp+napgHoSEtTr9StMuoNmVcufy8vLjDLUvyC/gfz1/SqTBN06v5/L5CI/0k3QXWGN0oZuAyWB/kBmYGrK79nFdXv1nU6nj2rbGpJbQXNsUrIpoD6TkeD7ZuabBCRoSpNVD5AXrjtyJg27zjC6gh1M53QDEGb0b/v+A3lfPOYPmtgApviqpiZW0K/BNJ+NHO2zzc1NLrRhDasaohj7Hovagd4VygnGf8C3Z7qA4SLU/E3Kofd7boLz+NvFxUWmP15F94V+5q69AbkzZ76CRFGOMOZa/dMQZf3D9s2538WuKUORa67GMpGKufk4a+i8HU5cmqBO1BdPUCx6D2Pen6KJh86XGdlME9ugaRx/q8FELZiq6h4x82Jvb49Jh7k6c9cqpQgS9DeHZJXHycbGBoneoNDHinnmws7RGkNz0rzu2VjKxDash33qyvAj3uV84PNNM/CMZTDs89C2PucIqFVX98EErZ+1NDdMp6gNQPp+V3nleXSDvrwwQQMlyh15KeXA46j14JukLPSYaeo190rC6RmJHdgR68M/J+hC/S2VEVGaOjeZ0RJLPHb8BR8GmX2wDLX0AAAAAElFTkSuQmCC",Ta="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPcSURBVHgB7Vg7UhtBEG3JThx5b+DlBEBGkRifAPkEWjJnWhE5Q1wASSdgFTpChI5YIsgQJ9ByAit0BH5P20uNxPR+VC5XuUqvajS70709b3pmenokssUWW/zfaMmGiOM4QLWH0mm1Wp9RhyiBihcvLy8z1BnK9Wg0msqGaExQifVAKnYJ6fNC3wOnjchAOEE9AdlMGqDdRBnk6K05ygCvj+i0j7KjnYu+9/U5QdlHOeE7v0G5gY1IGqC2B2F4qF6jN07giVTbQyWdXFxcLMn0+/0Rqh70vjh6EXTO8BiiHc2jfp1+a3nw9PT0UslN6JWiU8UVST8/P58XDdAZSD7FZ0Ubvll6FHamtEWbNbqWd1UK9ByqbzB+jk7i+/v7347sCJ19h2zsbgTqHB4efsBjdHBwcIv3rGi/u7v7AVkL38SQBWj7WdZ/u4IcpyXmqEFg4FPROlkXwKOc5hUvFsBSGKBKaZvrWjYhqGuLxjl9fUN+zLXn25loI7lbyI90568AHvzKAUB+6ZNXEmy3213JF/S5ERqO+APy15YNbgZ9jMQzANqWPBTFlg1zF2MnzpVg4v0QnlE5197Cp4NBBpBzCrnzU8NOJHlg31Gvr+C97yNdF6FjwATk5hpCp8VjWGGnOJVSqUMQ6GgH++L3ToAOH7j+3PDigwb1LmOi5EffOkj+RvtMpQ5BfPCJxODymU/O8MIa5B6rji7ozmCP61kM3QzL6UnP8zewNskeRvwoNl7PWKlGMQNhic7cklsEOYULseEmCVXIqhTgjCfH5graJR/9kn+HxnGQntmRaoQ1dCq9jdn6aMktgpluFAvZWudlCLUuWw7mmvfuYijziOrpbs3Exi6PPCnHXkHQ0OUgAwT1udQlCPB06Gl8MqHBN5IaYNwsk1tHpkWQ8W+ZssObE6PD4h5yDZ2y9cUYyKPutkxu3Vu8BHkmIqEcwyizmRnT33Ud5kkwPtTsOPXZ0SOzqwlH4pFHKvc6gTDDTJHPMeUy0qFixF2xUZzTqbwl95rOiSefrCSo6RDvGCR35ZFnkiedHd8AlEDXyhexKZipl6Vz5QSVBL00Zmrlu0Mw1Rcjn9N8UnzJBG0xDdOrQiIlqHWrw2GeoKI3psyu3RFr3hi4+Zx6j9nOtLjpaTvDyaXmiJPhcBhV9V3rVqeGuGk663dbZxm4d48B21zv6Z36ofBcHXJEo38W3Lut5KGDU5xqPOyhRGhr8Z6h6Xwi+UY51gx8oXfqad0+N/nrI8Q0kcjyzqLNVX99MBqMGRl8af1fJbhGtqMpf4iyK6uJwZPeQ+itWVNiW2yxRU38ATxkKvkv+ktbAAAAAElFTkSuQmCC",Ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPKSURBVHgB7Vg9VtwwEB5v0sdlupgTxHRAtdxgOQFQpsJLlQ5vlwrvnoDlBCxdOkzFdpATxDkB5AKQ7zPjrHAk/+7Ly8vje09PsiXNfB5pRiOLvOI/hyc9EUWRjypECbQQDyh3LNPp9EF6oDNBEBuhOvI8b1g17unpKUV1DqJz6YDWBEFsCFJnsrJWU2QgO2lLdNBmMMglIHclxlJC6QxlD2UjSRKPhW2UXfSfk5iODfhhkHEiLdDYgsfHx2dQelAQg7LZ4+PjtMkeA6kI40nMz5V63vz09PRQGqARQbVcpI93tBiIZdICkBGY1ocMfty4bl4tQQg+0D1XkNvt6pn0eCUZKskxWUpXgqWvzpRcJj2gMm/lebm5hzeqPvhtjbyRrJZkYiOncZDhhmNDfU1Lz1AvysopA3MOMf5CSXLrxC4ClV4MIUfazGzhobAGSmyQI0JuC/ZxTHkeZC1QpSUd7Qgy3olhPQc5M+Rca8ih5TJ9l49RK78Axl1q01ddVlQtsWmR1NIfy8vlj42+CGEpxvsTHcO+qDR/jpIYulKLjsolLgg+2PYeLLOv9bxELgfiXCyrZdwvW1H35g99/CgOOAlC6AfWsMK3cp+5JAjWly4ZmHuuTZILLEPutd6QtgTXhMxo+5b+2njqJIiv/8kalnwn1YpDcSN0zCngSw2qLJhpHZQ7dE+mbDNM2EKJerkZpjKLjt9xUxyo8uJiUh4GoCA1OxlONBf0NZQwFC0KxWZK5ghTQ+MxFQeqLLgw2qNyJ4MtSBSKAw3M91rMpMCVAx4YbacFK8/i8XhMRUOpODM1lTqSP7cCU7IJws3UMocf9F0fL5FDjhwUqs9ifn2xjIPBgEu2Vx6j2chUrwDmnkqh2OWlsaGjezZD4ES4gJCRCqtNjxrIO4GcOFfeIHGtjYMIxBSQqcCk6tysA+cW5CgTsid1c5pm1KFu/CKH2+yYUZt5IHPLu7p5jU4SCuLy6mMRVgJpCCPzyQOzbpVaco0JKsl5Kaxc2NIoGzQ5DZRcq6tnq7NYM5SZPobw7KRuDi9csrqDzGyZTxXeSEssl8uv29vb9Or3VLy1tcV317ax9FhUn/WRv0H2pCU6ZTN6Kc/YZrqPgL5fHsMAbnosr6rSAX3+zTi9Ur3+1iDX+TbY6++W/qe5MonkQl+exZtNPXbtBJUkz+LCWTKtg1y4541tZ3EbtHaSMuAgy52dHX7oUJ6Xu4h1E5zFX6QnehMkbm5uUng27xV5OIHlFiD3SdaAuj8LjQGLcal5O/P1/P73QM9ucwS+4m/gFxzL99Cfde1MAAAAAElFTkSuQmCC",Wa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI3SURBVHgB7Zf/cYIwFMcfnAMwAp2g7QZ2gzpBdQNxAXEBYYPaCXSDXieobsAITiD9fjFcY44fIVL9o3zvcjExyfuQvPcIIoMGDRr0v+Xpjfl8HqBKUEK5jzKUKE3TY9kxMgZMPc+byh2V5/kBVVq2feP/QO6vC4aRzQw8VYRqL/3qCae1lJZNsQLkQoB8gW/0AglfH9vAUb7UQ+3k7LRUgPZ3FEVvcqW4Btb61OAyZasb4Ol0OnDXNEhqg6dfiqMwd841tK6MNmhLugJSONLMhMTTxi6Qi8ViibmJCUcbTfMaAQ3IvSsk4bBGrHXt0X5ug7MC1CF1XyEkDL+3zeUYA+5L7dxRLGQVxQqSC07g5BvURbDA0BQAAXxoZhpUb6Utxoy17o8kSabSQVY7qIsGsHursg2AV0YlgEIdjn0oY23cqiucEyC1Xq9jHVLOSbeAZGFKYp8Ohx2OxUHWR1yh3GiHKr8Vv1vGWstpByuislQoFTch19REdQasi0rUepAc0TdxiXpT1kfcFpX4n2loy9+EU+/tnW3UXwVYRqU0OL4CejDn8gEAxTy6VPMY9QymSS+Juo+obIr6trm+BRx3Liz70I5cUkYFZGgDWQvo+/6jCYedm8FQKo4iJNcQA5K2pCsgfUWDO6r350auFNfgRUF+oz5UtiplEySEK46GN2HpT7FoH0d1MgGrQj8w7nF/rQsG84g3Ug15K2UoF9d/zxyhIjeWG3+8w40yVLFNbhw0aNCgHvUDmNRJVHDtVaoAAAAASUVORK5CYII=",Ua="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJLSURBVHgB7VjRcYJAEF2TFBArCKlA/YtfIRXEVCDpAG1ArQA/82esIHYQ/PPTdIAVhAo0b2WZ4MkBB6MmM7yZnQNu7+6xt3u7QFSjRo1MNKgCXNdto7nNUQun0+maSqIUQSE2azQa7YJDgt1u9wSiARnCmCDIWSD2iUuLzBCCZMeU5A2Zw6VfciHkK0f/TvTZFRzImAxgTBDWa8XXsMgLLOJn6cPiPYz5kFubTNfTTGqRfgu92PdAcIAmLwDa0Pfkei1j0hCkbf8RweFwOMIkY7oAsC44Tg9e4ICgsh0XgUS7H9+rPpg8NgLIhs6DOJAYNsSPO7RBgjeZ403GdAZg58bYuVFa3xX9cdQEq6JMJjkCfIj9x1Yer9UjowwqW1COJnZyWxF0uQ5VhNaCHFVYgMN/kpPguY9zslp28TM/Yxy/nI3GwVp9MiUoJB2eABP5aOeQBciGSR2u9dDfoePUuFZ1hVRcNDyzpSkHhXxQJmKZCdklRdbZkxALB2ljJa9zAuAiwy5CqijBubR9Ddn9wToY7OOAC9IgocNWSkoWltD/xvheWqc2SHhBz/MctPeQV4qspoOVDBCKLGZlkGNSE8zbxBr2drvV1pS5Wyzb986S2C5bSq4WFfgmgWxAxqeoNFuk+WZpgilkWRbxM3F6FktRZ73QhAxVJZgGIRCSJkiqos7FVVETrIr/W25xAscR8khnANaydH0qQZ8khVGUHbQDT4iD7+zr5M1qtQq63W4Tlw90ASDbcGn3lnxW5s/CqRCU+ftVo8ap8QNUl9vzmHALiwAAAABJRU5ErkJggg==",za="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACQCAYAAACoG+FoAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7FSURBVHgB7Z0xcBvXEYZ33x0Vj8biUIXsJNSMmMpmZaURS8ORHVlpRDK1QqZ17JFQRbELS4VlpQI9tNOatHpSqhxbtESXVBNWpjtTM2YyYzkjRpooHuHubfbdAeTd4UDgANzheLffDAng3TuCFH+u9u3bt4swRGqr343B0aMVIDWBil4BwAn/w0ATIOSJXf7Y9h9pm4gegNbr8NNPm9WZX+3CkEDIkH3BUgWVfUFEWhCItllJ6yzq2/D06XqWgs5EwLXP/1VB274EBBV+OQZCwaElI+bquRdvQcqkJmBjbdXR5y8RwmUQ0ZYTtsyk4RqAu149/4ttSIGBCziRcImeIOKOBtywQO+gUjsKaMu7BLADQm5goYw75I4qtI+R1pMuqHH+XU3y7+lMx5tZyAi4dOnciWswYAYq4NrnP8yjgvcBcaLtJBYtoVqxFaxpZW9Zuv4EhEMNAZ5xtZ5lORkxj7ef6Fvk6vkXlmBADETA7ONOoGV/yk8rsRMCokWg+yAUloCYZw6YdIu0Ux2EW9G3gGt/f3jZs7px7gILl99hGe0jS2Jpy4XLlpg0NYUcZ5V3yaVqv9a4ZwEbXxePPs/ugufrhhHhCg0CQn47dgLBwuVzJ6rQIz0J2HMZlLXKvu7pmC94HzRcsWxZhAn7+EKG9/jp2ZjLm+Q6M724FIkF3BDvvZaFmm91F22FyyAIbdAa5zTpd1g/x0IXvAWe+1pSEScScFvxcsgLNVwUqyt0Q8Ma34Sob9yDiFW3E9uJ17gMaI9cEPEK3WKxweOPaTbHX4UusLaMxozWuv1aXQm4nXg5ZLJsKba8slATEsKRq8e2rd5iq/tZ+EIyEXcl4MaCbSI8Sh+PKLoOgtAHtoUfGC2FBo2ILXu1tvqoYwpCRwEvfPGwFo02GMvLi7VFEIQB4GkpaokBTuNR5/1O9x64iPO2hi38NDTIfotn+gVhwNRduIkYzq0gx61Wf/fzhXb3tBVwY3v4HxDeYdvxFmzi8wopwJGJUY5QmBTMYHSCd+ycX7eLTLR1IdC2axAUr8kc07JgE9LDLOz446K3p7DPWCPPJpZYARvXgR3d6fBXh0UJlQlpY0JsClV0fVXxNBlDrIAbyTn7rxHWZIdNyAqlaJkIQlmLRpNxUYkWAX9059+t+bwuSLhMyBRlwZWQK2E0+dyzlsSxkIDNwo238ubDU+hjcR2ErDGuBCq1FBxDS12KWuGIBbYqEeu7gxpXQBCGgDKx4ciCLmqFQwKO+r5sfVfF+grDwo9KtFrh4Os9Ade++HG6JVFHrK8wZOKssCnTsHd9f9wNh81IrK8wfDwrjGolPGbvWWFPwLV7j8Z40lxwkmUpsb5CLiCAtdAAcly4sZjzLfAztxK5Z0dODwt5wVasxehi7uizinnScCFa3AcRr5Arom4EEFbMgydgBHw1eE3cByFvRN0I9o0veI+e/1t3HgUv2gpeAkHIEV6mGtHd4GFQ+q99XIHjhJLVvWPxgpAzTDSCP4ejYuwHK9C6Ehwjpb4BQcghiLgRGiCaUPsV0RuTiCT2K+QSBB3SJu/SvaJQ4angoEL4FgQhh2hSIQETwa8UL+9C2T2uoscgCDkELb929N5rhFM2P06EBp/BE7ChNLhq5Bg59XH+yUchZbyAvDBQjFRDFrgs+Q9+eSP8EHR9yh8hSBtHm8+4glpyrHvB5Ag7oRGc6Lq0VJFwHJzRLt1m0U5B5tCsVnCTxfwyCH1TOgG7jjsJim5gtDpihqB/bFxEPABKJ2CtrE8gHxifW0TcJyVarhkfFM8gULikp9ZfjdjqgzS6IjXKiN49YEpTxBd5+17Clz1QKgscLVsEJm30yM/+nGVLr5j3EkvcB+VyIQhCoTI0dWozrjSktPsn/j6i1lZE3COlEjAhDG3hto/12EJTPklEPAhKGUYbNiazSkQ8GETAQ0JEPBhEwENERNw/IuAhIyLuDxFwDhAR944IOCeIiHtDBJwjRMTJEQHnDBFxMkTAOURE3D0i4JwiIu4OEXCOERF3RgScc0TEByMCPgSIiNsjAj4kiIjjEQEfIjqJ2HVgHEqGCDhFlIaWZHlS+Afog4NErBFuQMko1Zm4rDFiIxfuh48y0Tz/dz8P/RLTpt28jynUUqZ+1mKBUwYh2xa96DivQ4kQAaeMbdGa6XYKQiqIgDPAVrioAK8ASDmpQSM+cEYoRatsLVZdcicV2gM7XOoS3eAFXemiD01EwBljobWVRSHBsiAuhHCoEQELh5pSuhAcL11TiMta2Vug6yAcXsolYIJVtEeu+4F+AkvEe+gplYC9Ev8B0frtBTjwr/Bl0jTFm1scHaCT+3fg92BCXwrZUtNX0iIgf5TShfDKrBLNaffZlFfoWlPcziw0xHySr5tK7vN1l54gqjvSIiA/lErAe30xgKYIvW3eRPf7Vd1plhTM8h+B9LrIAaWJQjjaWNxB9sVo9rrAGRCGRikscJ2tLtvaWUxmcDvi97qgG3UXx0csyXcYBoW3wCzeW8jWsusbiP3chA3PEekdFvHbIGROoQXsW16aTHIPEl6wFFzkZxcT3SciHgqFFbARUyLL26C5KEOVvOm5EbHpQQdCZhRSwCbaYMQEw0DRuya+DEImFFLAHCobZi+4Ud4ceReETCicgP2wVjK/d/DQbBlPCA+DIlrgXPigZKu+Th8L3VEoAbt+XHYIDbxj0HpWfOH0KZSA2fc9A/nB+MJDdmWKT6EEzDtt+TpSrvAsCKlSMAscTIUcPkQ6V99PESnWIg7zVeAOCcSFSJnCJPP4C7hYdiyFVxR0t7PWPC9smU72Cn7TzT0u+96a9HvgpVuGkFBaypQgGw03eEv5fi8H2anLQiSm5oPWaiY3EZASUfhsNGJRpb2p4DruJEG+/O+yUBgLbEqZujHjJmeXFNx1NHSFreAl8+if3oC7Xd2krHZnO+S0RsoUxgKbUqYmlxdyBIqAU6dYcWClNiBHkFLfgJAqxRIw6Vwde1ckx/DTplgbGahyJRiybBFwyhRKwBbSFhHkQzREq2Uq9T8sChdGsxBXIAdYlsrF91F0Cidgs6kAw179s/U1mycgpE5BNzK8cv7De3fCRcgAb/s8Wp0dOZxYIgopYK8IH9FnMBSyKTdl6rvpmLN/5NK3UCIKmwthW/iB48KZpBlqZtvZCJA0jidtBUCAyyMK9qwvi+yz9PIjYgoSmoWjjaXaPCl0Mg9a8BZvB9+EBFlhpt4Zi3eDSL+BiWpR4daIouvNV15dCswwucdUFMrIdckThU7maaRExrVlbUuj3tkstqZGHgAv2mx7r5JPnayzmdal8MSrL5axUmbhs9GMiG0LLqTnE9N1W+GVZszXZKaBdv4KWWByP0zEw5TDsk33o/Jhs5f3gK3OqeZA0weEgmF8YnJxw0UyRUf6Tq/0CgBq93qLcPgfz0Z4C1JGk/ME7Oe+L9NmScyhhd1SFbhGi9b4B17j1fsMAc3zH2/iI0hGuErhohfnVVbLdbMbCBlgsYNfugY1hKORhfW2zeuU73hszwKjhfxLpUL7Uo3NjlWvhpqm13k9/zoRTUKc34v8vxHpbxXwws4+stJsECNkDxEcC7+m/9ik6UFwtU0lOsdl+Q1cTDf5ZWgEpTDw8+8dKcLGUkG6Gg0VBXpSB4KHxvgqNsubwUmEWOqDiEa0zQ8QcgWBCmmTLfAD/p8Rt0OztJaDiUIuaVmzaL2u4Ii1Hpk3LjW9hHwS2Rj66blNVX3t+K4JpQWGpaaXkDuclrp3uF2dOb7bWJ3QrdA1qekl5A1sKZu7bj75Aia1HrqkdeLeEoKQJrxgmwq/dm+bR1/Avh+8G7g+6uSrVKlQYrzWwNHw7tMj6+bBE7DnBxN8HZogboSQF1rcB1wy/q95tp/Mo2AhNEcqjAs5wD91Em6X1nQfDHsCrr5xYh0ibgS4zhwIwhDRbrTvHkcfzr24F3QIpVOyG/FR+DXNiRUWhoVnfTFifUFfC74O5wMfsY0bIVZYyAXG+oYXb7xr7I6sB+eEBNxYzLVaYel5JmRMXLdVct3l6vnj28Gx1hMZnhUO5UeMaoQbIAhZ4kKk2yn7vudfvBqd1iJgf2s57Gcgwpk6oTTuEzLB0TRHkY5TUU02aXvsduHOw3t8VyUw9Bg1TJfx4KCQHcZ10C7dDh6qJdK3OfIwHTe/7aFOcuw/QmRBZ46cS1RCSAujLa3hZuhEOOIu6COX293TVsDGWSYNYVfC/HXU638DQUiDev1GdMuYrW81unALcuCx+uqbJxYIMBSVMP4w703/BQRhgNRdfLfF79X0UfW3LywddF/nuhAj1lX+vBkepHlTeQYEYQA0qhhF9xs2q2++cLnTvR0F7EUlXHsmEloDE6MTSyz0i7G8rVWMcNvXXGe6Lv5V+/zRBFruPba+E8Fx3vhYUyMjV6QauZAEs2Ajx/mktfihEa/12kF+b2g2JKCtiAF2lIZS1uYSkuOFyky0oaWEQzLxGhLVRvMiE/wGLe6E30zwlmx2CJ0wmxRenHcA4vXugh7wLbFjqtucjvmSd1DTh2KNhSB+51P8sE295E3j8yYVr6EnATepffnjAgJdirtGhIvKK7gsQi4z3uZE3WQ06vm4krUmVAb/G7naPGGRlL4EbKh9+cM8Atb46Vj0mlfdhnBFhFw+OgnX7LCRS9fMXgP0Qd8CNhiXApSzwJscF9rP8tpfrXr9K4TC4h0GVniWXPf37YqEE9DX4I7M9+IyRBmIgJv41li9H41SBDFWmS226WksYi4AjXDYZCfR+vBCDfS1TrtrSRiogJvUvnh4lX+QuYOEHPgWNviH3wLt/pODIlt8j8l6eyIuR75oHmrQlvUyknMSlPVL9l+n2Ik92bEdg3EXjK/71F7o1ddt+6UhJTy3wqpXOllkocCkKNy9t4AMqK39OA2unvatslBoPNG6X4NSC42T7um+HWRIbfXRGBxzK76Y1atimYuBVxxS0y2w1To7f+tpWds4MhVwFE/QzzunQesKv5zgv94JfhxjcZ/iQPIYCLlhv4IpbfPvZpst7KZXWzpjwUb5PxY7UQrHPcirAAAAAElFTkSuQmCC",Pa={data:[],status:"idle",error:null,loading:!1},gt=Z("getStandarts",async o=>{const t=await E.get(`/labor/protection/get?userId=${o}`);return t.data.status===404&&m.error(t.data.message),t.data}),it=Z("getStandartsForUser",async o=>{const t=await E.get(`/labor/protection/get/user?userId=${o}`);return t.data.status===404&&m.error(t.data.message),t.data}),ft=Z("deleteStandart",async o=>{if((await E.delete(`/labor/protection/delete?id=${o.laborId}&userId=${o.userId}`)).data.message==="LaborProtection deleted successfully")return m.success("Üstünlikli!"),(await E.get(`/labor/protection/get?userId=${o.userId}`)).data;m.error("Ýalňyşlyk!")}),Zt=Z("deleteStandartForUser",async o=>{if((await E.delete(`/labor/protection/delete?id=${o.laborId}&userId=${o.userId}`)).data.message==="LaborProtection deleted successfully")return m.success("Üstünlikli!"),(await E.get(`/labor/protection/get/user?userId=${o.id}`)).data;m.error("Ýalňyşlyk!")}),Kt=Z("postStandartForUser",async o=>{const t={title:o.title,description:o.description,usersId:o.usersId};if((await E.post("/labor/protection/add",t)).data=="OK")return m.success("Üstünlikli!"),(await E.get(`/labor/protection/get/user?userId=${o.userId}`)).data;m.error("Ýalňyşlyk!")}),$t=Z("postStandart",async o=>{const t={title:o.title,description:o.description,usersId:o.usersId};if((await E.post("/labor/protection/add",t)).data=="OK")return m.success("Üstünlikli!"),(await E.get(`/labor/protection/get?userId=${o.userId}`)).data;m.error("Ýalňyşlyk!")}),_t=Z("updateStandart",async o=>{if((await E.put("/labor/protection/update",o)).data)return m.success("Üstünlikli!"),(await E.get(`/labor/protection/get?userId=${o.userId}`)).data;m.error("Ýalňyşlyk!")}),es=Z("changeLoginPassword",async o=>{const t=await E.patch("/user/updata/password",o);if(console.log(t.data),t.data==`User ID ${o.userId} login and password updated successfully.`)return m.success("Üstünlikli!");m.error("Ýalňyşlyk!")}),Ba=Ee({name:"standart",initialState:Pa,reducers:{},extraReducers:o=>{o.addCase(gt.pending,t=>{t.status="loading..."}).addCase(gt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(gt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(it.pending,t=>{t.status="loading..."}).addCase(it.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(it.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ft.pending,t=>{t.status="loading..."}).addCase(ft.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(ft.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Zt.pending,t=>{t.status="loading..."}).addCase(Zt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(Zt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase($t.pending,t=>{t.status="loading..."}).addCase($t.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase($t.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Kt.pending,t=>{t.status="loading..."}).addCase(Kt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(Kt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(_t.pending,t=>{t.status="loading..."}).addCase(_t.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(_t.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(es.pending,t=>{t.status="loading..."}).addCase(es.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(es.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Na=Ba.reducer,Oa=o=>e.jsx(ot,{...o,sx:{maxHeight:300,overflow:"scroll"}}),mn=({open:o,handleClose:t,userId:s})=>{const c=z(W=>W.users.data),[i,d]=a.useState([]),[w,I]=a.useState([]),[g,A]=a.useState(""),[y,F]=a.useState(""),j={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},k=te();a.useEffect(()=>{k(Me())},[k]);const p=(W,r)=>{r.some(v=>v.id==="selectAll")?(d(c),I(c.map(v=>v.id))):(d(r),I(r.map(v=>v.id)))},S=[{id:"selectAll",name:"Ählisi",surname:""},...c],u=()=>{const W={title:y,description:g,usersId:w,userId:s};y&&g&&w.length?(k($t(W)),t(),F(""),A(""),d([]),I([])):m.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:j,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(J,{label:"Tertip - düzgünnama ady",value:y,onChange:W=>F(W.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,value:i,fullWidth:!0,isOptionEqualToValue:(W,r)=>W.id===r.id,options:S,getOptionLabel:W=>`${_(W.name)} ${_(W.surname||"")}`,onChange:p,PaperComponent:Oa,renderInput:W=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...W,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...W.InputProps,endAdornment:e.jsx(e.Fragment,{children:W.InputProps.endAdornment})}})}),e.jsx(J,{label:"Beýan",multiline:!0,minRows:15,maxRows:15,value:g,onChange:W=>A(W.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2,height:"100%"}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(X,{onClick:u,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},La=o=>e.jsx(ot,{...o,sx:{maxHeight:300,overflow:"scroll"}}),Ws=({openUpdate:o,handleClose:t,data:s,userId:c})=>{const i=z(x=>x.users.data),[d,w]=a.useState([s&&s]),[I,g]=a.useState([]),[A,y]=a.useState([]),[F,j]=a.useState(s&&s.description),[k,p]=a.useState(s&&s.title);a.useEffect(()=>{s&&w(s),s&&p(s.title),s&&j(s.description)},[s]);const S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},u=te();a.useEffect(()=>{u(Me())},[u]);const W=(x,h)=>{h.some(T=>T.id==="selectAll")?(g(i),y(i.map(T=>T.id))):(g(h),y(h.map(T=>T.id)))},r=[{id:"selectAll",name:"Ählisi",surname:""},...i],v=()=>{const x={id:d.id,title:k,description:F,usersId:A.length?A:d.users.map(h=>h.id),userId:c};k&&F?(u(_t(x)),t(),p(""),j(""),g([]),y([])):m.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:S,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:d.title}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"98%",p:1,minHeight:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(J,{label:"Tertip - düzgünnama ady",value:k,onChange:x=>p(x.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,fullWidth:!0,defaultValue:s&&s.users,isOptionEqualToValue:(x,h)=>x.id===h.id,options:r,getOptionLabel:x=>`${_(x.name)} ${_(x.surname||"")}`,onChange:W,PaperComponent:La,renderInput:x=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%",height:"95px"}},...x,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...x.InputProps,endAdornment:e.jsx(e.Fragment,{children:x.InputProps.endAdornment})}})}),e.jsx(J,{label:"Beýan",value:F,onChange:x=>j(x.target.value),variant:"outlined",multiline:!0,minRows:13.7,maxRows:18,fullWidth:!0,sx:{mt:2,"& .MuiOutlinedInput-root":{resize:"vertical"}}}),e.jsx(n,{alignItems:"end",pt:2,mb:1,children:e.jsx(X,{onClick:v,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},Ha=()=>{const[o,t]=a.useState(!1),[s,c]=a.useState(!1),[i,d]=a.useState(),w=()=>t(!0),I=()=>t(!1),g=r=>{d(r),c(!0)},A=()=>c(!1),y=te(),F=z(r=>r.standarts.status),j=z(r=>r.standarts.error),k=z(r=>r.standarts.data),p=JSON.parse(localStorage.getItem("CRM_USER")),S=z(r=>r.users.data),u=k.filter(r=>r.users.length==S.length);k.filter(r=>(r.users&&r.users.length)!==S.length),a.useEffect(()=>{p.role==="ADMIN"?y(gt(p.id)):y(it(p.id))},[y]);const W=r=>{const v={laborId:r,userId:p.id};y(ft(v))};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(Te,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(l,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama"}),p.role==="USER"?"":e.jsxs(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:w,children:[e.jsx(Ve,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(mn,{open:o,userId:p.id,handleClose:I})]}),e.jsx(n,{children:F==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):F==="failed"?m.error(j):F==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:u.length==0?e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(_e,{container:!0,item:!0,height:"100%",xs:12,md:6,lg:12,spacing:2,children:e.jsx(n,{width:"100%",children:u.map((r,v)=>e.jsx(_e,{item:!0,xs:12,mt:v==0?"":2,lg:12,sm:12,children:e.jsx(ot,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...r.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(l,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[r.title,r.users&&r.users.length===S.length?e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...v==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):r.users.map((x,h)=>e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:60,height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...h==0?{ml:3}:{ml:1}},variant:"outlined",children:x.name},h))]}),p.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>g(r),children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>W(r.id),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})}),e.jsx(Ws,{data:i,openUpdate:s,handleClose:A,userId:p.id})]})]}),e.jsx(l,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:r.description})]})})},v))})})})})}):""})]})},Qa={data:[],docType:[],status:"idle",error:null,loading:!1,uploadProgress:0},lt=Z("getDocType",async o=>{const t=await E.get(`/document/type/get?userId=${o}`);return t.data.status===404&&m.error(t.data.message),t.data.data}),ts=Z("getPDF",async o=>{const t=await E.get(`/pdf/get/files?userId=${o}`);return t.data.status===404&&m.error(t.data.message),t.data}),ss=Z("createPdf",async(o,{rejectWithValue:t,dispatch:s})=>{var c;try{const i=await E.post("/pdf/upload/file",o.body,{headers:{"Content-Type":"multipart/form-data"},maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:d=>{const w=Math.round(d.loaded*100/d.total);s(Us(w))}});if(i.status===200)return m.success("Üstünlikli!"),(await E.get(`/pdf/get/files?userId=${o.userId}`)).data;i.data.status===404&&m.error(i.data.message)}catch(i){return m.error("Ýalňyşlyk!"),t(((c=i.response)==null?void 0:c.data)||i.message)}}),ns=Z("updatePdf",async(o,{rejectWithValue:t,dispatch:s})=>{var c;try{const i=await E.put(o.files==null?"/pdf/edit":"/pdf/edit/file",o.body,{maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:d=>{const w=Math.round(d.loaded*100/d.total);s(Us(w))}});if(console.log(i.data),i.data.message==="Successfully")return m.success("Üstünlikli!"),(await E.get(`/pdf/get/files?userId=${o.userId}`)).data;i.data.status===404&&m.error(i.data.message)}catch(i){return m.error("Ýalňyşlyk!"),t(((c=i.response)==null?void 0:c.data)||i.message)}}),os=Z("createPdfByAdmin",async(o,{rejectWithValue:t,dispatch:s})=>{var c;try{const i=await E.post("/pdf/upload/file",o.body);if(i.status===200)return m.success("Üstünlikli!"),(await s(Oe({userId:o.userId,date:o.date}))).data;i.data.status===404&&m.error(i.data.message)}catch(i){return m.error("Ýalňyşlyk!"),t(((c=i.response)==null?void 0:c.data)||i.message)}}),Ja=Z("createPdfByAdmin",async(o,{rejectWithValue:t,dispatch:s})=>{var c;try{const i=await E.put(o.files==null?"/pdf/edit":"/pdf/edit/file",o.body,{maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:d=>{const w=Math.round(d.loaded*100/d.total);s(Us(w))}});if(console.log(i.data),i.data.message==="Successfully")return m.success("Üstünlikli!"),(await s(Oe({userId:o.userId,date:o.date}))).data;i.data.status===404&&m.error(i.data.message)}catch(i){return m.error("Ýalňyşlyk!"),t(((c=i.response)==null?void 0:c.data)||i.message)}}),as=Z("deletePdf",async o=>{const t=await E.delete(`/pdf/delete?userId=${o.userId}&documentId=${o.documentId}`);t.status===200&&m.success("Üstünlikli!"),t.data.status===404&&m.error(t.data.message);const s=await E.get(`/pdf/get/files?userId=${Qo.id}`);return s.data.status===404&&m.error(s.data.message),s.data}),rs=Z("deletePdfForUser",async(o,{dispatch:t})=>{const s=await E.delete(`/pdf/delete?userId=${o.userId}&documentId=${o.documentId}`);s.status===200&&(m.success("Üstünlikli!"),await t(Oe({userId:o.userId,date:o.date}))),s.data.status===404&&m.error(s.data.message);const c=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return c.data.status===404&&m.error(c.data.message),c.data}),jn=Ee({name:"postPdf",initialState:Qa,reducers:{updateUploadProgress:(o,t)=>{o.uploadProgress=t.payload},resetUploadProgress:o=>{o.uploadProgress=0}},extraReducers:o=>{o.addCase(ss.pending,t=>{t.status="loading..."}).addCase(ss.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(ss.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(ns.pending,t=>{t.status="loading..."}).addCase(ns.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(ns.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(os.pending,t=>{t.status="loading..."}).addCase(os.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(os.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(ts.pending,t=>{t.status="loading..."}).addCase(ts.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ts.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(lt.pending,t=>{t.status="loading..."}).addCase(lt.fulfilled,(t,s)=>{t.status="succeeded",t.docType=s.payload}).addCase(lt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(as.pending,t=>{t.status="loading..."}).addCase(as.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(as.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(rs.pending,t=>{t.status="loading..."}).addCase(rs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(rs.rejected,(t,s)=>{t.status="failed",t.error=s.error.message})}}),{updateUploadProgress:Us,resetUploadProgress:Ti}=jn.actions,Va=jn.reducer,Ga=({userData:o,userId:t,params:s,handleClose:c})=>{JSON.parse(localStorage.getItem("CRM_USER"));const i=o&&o.user,[d,w]=a.useState(!1),[I,g]=a.useState(i.mail),[A,y]=a.useState(i.phoneNumber);a.useState("");const[F,j]=a.useState(i.surname),[k,p]=a.useState(i.name);a.useState("");const[S,u]=a.useState(i.position?i.position.id:"ADMIN"),[W,r]=a.useState(i.languages?i.languages.split(","):[]),[v,x]=a.useState(i.whereStudy),[h,T]=a.useState(i.whereLive),[R,Q]=a.useState(U(i.birthday)),[ee,L]=a.useState([]),N=M=>{u(M.target.value)},O=te();we(),a.useEffect(()=>{(async()=>{await E.get("/position/get").then(C=>{L(C.data)})})()},[]),z(M=>M.imgAccount.updated);const D=async M=>{M.preventDefault();try{if(I.trim().length<=0||k.trim().length<=0||I.trim().length<=0||A.trim().length<=0||v.length<10)m.error("Dogry maglumatyňyzy giriziň!");else{w(!0);const C={userId:t,date:P(s).format("YYYY-MM-DD")},V=await E.put("/user/updata/info",{userId:i.id,surname:_(F),name:_(k),mail:I,phoneNumber:A,birthday:R.add(1,"day"),whereStudy:v,whereLive:h,languages:W.join(","),positionId:S}).then(ne=>{ne.data&&(m.success("Maglumat üýtgedildi!"),O(Oe(C)),c(),w(!1))})}}catch(C){m.error(C.message==="Network Error"?"Internet baglanyşygy ýok":C.response.data),w(!1)}},f=M=>{const{name:C,checked:V}=M.target;r(ne=>V?[...ne,C]:ne.filter(Fe=>Fe!==C))};return e.jsx(n,{direction:"column",width:"95%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:D,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(J,{id:"outlined-basic",type:"text",value:k,name:"password",onChange:M=>p(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:F,onChange:M=>j(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(le,{fullWidth:!0,children:e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:S,onChange:N,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:ee.map(M=>e.jsx(G,{value:M.id,children:M.name},M.id))})})]})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(ie,{value:R,format:"DD.MM.YYYY",onChange:M=>Q(M),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:I,onChange:M=>g(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri (doly ady)"}),e.jsx(J,{id:"outlined-basic",type:"text",value:v,error:v.length<10,name:"password",onChange:M=>x(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri (doly ady)"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:h,onChange:M=>T(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:A,onChange:M=>y(M.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(l,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(hn,{handleChange:f,selectedLanguages:W})]})]})]}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(X,{onClick:D,disabled:i.name===I&&i.surname===F,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:d?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})},Xa=({id:o,handleCloseDocsModal:t,params:s})=>{const[c,i]=a.useState(null),[d,w]=a.useState(""),[I,g]=a.useState(""),A=te(),y=z(S=>S.uploadPDf.docType),F=z(S=>S.uploadPDf.status);a.useEffect(()=>{A(lt(o))},[A]);const j=S=>{const u=S.target.files[0];u&&m.success("Faýl saýlandy"),i(u)},k=S=>{g(S.target.value)},p=()=>{if(!d){m.warn("Faýl ady giriz!");return}if(!c){m.warn("Faýl saýlaň");return}if(!I){m.warn("Faýl görnüşini saýlaň");return}const S=new FormData;S.append("userId",o),S.append("title",d),S.append("documentTypeId",I),S.append("file",c);const u={body:S,userId:o,date:P(s).format("YYYY-MM-DD")};A(os(u)),i(null),t(),w("")};return e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsxs(n,{width:"80%",spacing:"20px",height:"80%",position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",justifyContent:"space-between",spacing:1,height:"100%",children:[e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:S=>w(S.target.value),fullWidth:!0,value:d,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ue,{id:"demo-simple-select-label",shrink:!0,sx:{transform:"translate(14px, 11px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"},height:"45px"},children:"Resminama görnüşi"}),e.jsx(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,label:"Resminama görnüşi",onChange:k,sx:{height:"45px",borderRadius:"30px"},children:F==="succeeded"&&y.map(S=>e.jsx(G,{value:S.id,children:S.name},S.id))})]}),e.jsx("input",{type:"file",onChange:j,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"}),c?e.jsx(n,{children:e.jsxs(l,{children:["Ady: ",c.name," - ",(c.size/1024).toFixed(2)," KB"]})}):e.jsx(l,{children:"Faýl saýlaň"})]}),e.jsx(X,{sx:{color:"#fff",background:"#9FC2A5",textTransform:"revert",width:"100%",height:"45px",borderRadius:"50px",fontSize:23,fontWeight:500,"&:hover":{background:"#9FC2A5"}},onClick:p,children:"Ýatda sakla"})]})]})},qa=o=>e.jsx(ot,{...o,sx:{maxHeight:300,overflow:"scroll"}}),Za=({open:o,handleClose:t,userId:s,defaultUser:c})=>{const i=z(r=>r.users.data),[d,w]=a.useState([]),[I,g]=a.useState([]),[A,y]=a.useState(""),[F,j]=a.useState(""),k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},p=te();a.useEffect(()=>{w([c])},[c]),a.useEffect(()=>{p(Me())},[p]);const S=(r,v)=>{v.some(x=>x.id==="selectAll")?(w(i),g(i.map(x=>x.id))):(w(v),g(v.map(x=>x.id)))},u=[{id:"selectAll",name:"Ählisi",surname:""},...i],W=()=>{const r={title:F,description:A,usersId:d[0].id,userId:d[0].id};F&&A&&I?(p(Kt(r)),t(),j(""),y("")):m.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:k,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(J,{label:"Tertip - düzgünnama ady",value:F,onChange:r=>j(r.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,defaultValue:[c],value:[c],disabled:!0,fullWidth:!0,isOptionEqualToValue:(r,v)=>r.id===v.id,options:u,getOptionLabel:r=>`${_(r.name)} ${_(r.surname||"")}`,onChange:S,PaperComponent:qa,renderInput:r=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...r,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...r.InputProps,endAdornment:e.jsx(e.Fragment,{children:r.InputProps.endAdornment})}})}),e.jsx(J,{label:"Beýan",multiline:!0,rows:4,value:A,onChange:r=>y(r.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(X,{onClick:W,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Goşmak"})})]})]})})},Ka=({userData:o})=>{const[t,s]=a.useState(!1),[c,i]=a.useState(!1),[d,w]=a.useState(),I=()=>s(!0),g=()=>s(!1),A=()=>i(!1),y=te(),F=z(r=>r.standarts.status),j=z(r=>r.standarts.error),k=z(r=>r.standarts.data),p=JSON.parse(localStorage.getItem("CRM_USER")),S=z(r=>r.users.data);k.filter(r=>(r.users&&r.users.length)===S.length);const u=k.filter(r=>(r.users&&r.users.length)!==S.length);a.useEffect(()=>{y(it(o.id))},[y]);const W=r=>{const v={laborId:r,userId:p.id,id:o.id};y(Zt(v))};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(l,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500"}),p.role==="USER"?"":e.jsxs(X,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:I,children:[e.jsx(Ve,{sx:{color:"#90BAEB",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(Za,{open:t,userId:p.id,handleClose:g,defaultUser:o})]}),e.jsx(n,{children:F==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):F==="failed"?m.error(j):F==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:k.length==0?e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(_e,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:u.map((r,v)=>e.jsx(_e,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(ot,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center"},children:e.jsxs(n,{width:"95%",p:"15px 0",sx:{...r.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(l,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[r.title,r.users&&r.users.length===S.length?e.jsx(X,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...v==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):r.users.map((x,h)=>e.jsx(X,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:60,height:25,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...h==0?{ml:3}:{ml:1}},variant:"outlined",children:x.name},h))]}),p.role==="USER"||r.users.length>1?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>W(r.id),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})}),e.jsx(Ws,{data:d,openUpdate:c,handleClose:A,userId:p.id})]})]}),e.jsx(l,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",children:r.description})]})})},v))})})}):""})]})},$a=({open:o,handleClose:t,data:s})=>{const[c,i]=a.useState((s==null?void 0:s.documentTypeId)||""),[d,w]=a.useState(null),[I,g]=a.useState((s==null?void 0:s.title)||""),[A]=Ys(),y=A.get("date"),F=te();console.log(c),a.useEffect(()=>{F(lt(s.id))},[F]);const j=z(r=>r.uploadPDf.docType),k=z(r=>r.uploadPDf.status),p=r=>{i(r.target.value)};a.useEffect(()=>{s&&o&&(g(s.title||"Goşmaça"),i(s.documentTypeId||""))},[s,o]);const S=r=>{const v=r.target.files[0];v&&m.success("Faýl saýlandy"),w(v)},u=()=>{if(I==""){m.warn("Faýl ady giriz!");return}const r=new FormData;r.append("userId",s.userId),r.append("documentId",s.id),r.append("title",I),r.append("file",d),r.append("documentTypeId",s?c:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const v={title:I,userId:s.userId,documentId:s.id,documentTypeId:s?c:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},x={userId:s.userId,body:d?r:v,files:d||null,date:P(y).format("YYYY-MM-DD")};F(Ja(x)),w(null),g(""),t()},W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:500,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:o,onClose:()=>{w(null),t()},children:e.jsxs(K,{sx:W,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{w(null),t()},children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"column",alignItems:"center",spacing:2,children:[e.jsx(J,{label:"Resminama ady",id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:r=>g(r.target.value),fullWidth:!0,value:I,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ue,{id:"demo-simple-select-label",sx:{transform:"translate(14px, 11px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"},height:"45px"},children:"Resminama görnüşi"}),e.jsx(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,label:"Resminama görnüşi",onChange:p,sx:{height:"45px",borderRadius:"30px"},children:k==="succeeded"&&j.map(r=>e.jsx(G,{value:r.id,children:r.name},r.id))})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(l,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:S,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),d?e.jsx(n,{children:e.jsxs(l,{children:["Saýlanan faýl:",d.name," - ",(d.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:u,children:"+ Goş"})})]})})]})})},_a=()=>{const[o,t]=a.useState(!1),[s,c]=a.useState(!1),[i,d]=a.useState(!1),[w,I]=a.useState(!1),[g,A]=a.useState(""),y=()=>t(!0),F=()=>t(!1),j=()=>c(!0),k=()=>c(!1),p=C=>{d(!0),A(C)},S=()=>d(!1),u=()=>I(!0),W=()=>I(!1),{id:r}=et(),[v]=Ys(),x=z(C=>C.getWorkDate.statusMonth),h=z(C=>C.getWorkDate.employeerTime);JSON.parse(localStorage.getItem("CRM_USER"));const T=v.get("date");we();const[R,Q]=a.useState(h.user&&h.user.status||!1),ee=te(),L=[{img:Fa,title:"Jaň ",link:`tel:${h.user&&h.user.phoneNumber}`,target:"_blank"},{img:Ma,title:"Sms",link:"/chat",target:""},{img:va,title:"Poçta",target:"_blank",link:`mailto:${h.user&&h.user.mail}`}];a.useEffect(()=>{Q(h.user&&h.user.status)},[h]),a.useEffect(()=>{const C={userId:r,date:P(T).format("YYYY-MM-DD")};ee(Oe(C))},[ee]);const N=()=>{const C={userId:r,date:P(T).format("YYYY-MM-DD")};ee(ka({body:C,data:{userId:r,status:R!==!0}}))},O=C=>{C&&(Q(C.target.checked),N())},D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:550,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},M=(C,V)=>{const ne={userId:C,documentId:V,date:P(T).format("YYYY-MM-DD")};ee(rs(ne))};return e.jsxs(n,{backgroundColor:"#fff",width:"40%",height:"82vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",position:"relative",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"30px",height:"55%",children:x==="loading..."?e.jsx(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:e.jsx(pe,{})}):x==="failed"?e.jsx(l,{textAlign:"center",height:"43%",mt:4,children:"Maglumat ýok"}):x==="succeeded"?h.length===0?e.jsx(l,{width:"100%",pt:5,textAlign:"center",fontSize:25,children:"Goşmaça resminama ýok"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{width:"40%",alignItems:"center",children:[e.jsxs(n,{alignItems:"center",children:[e.jsx(H,{sx:{height:96,width:96},children:h.user&&h.user.img===null?e.jsx(xs,{alt:h.user&&h.user.name,src:h.user&&h.user.img,sx:{background:"#2F6FD0",height:96,width:96}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${h.user&&h.user.img}`,alt:""})}),e.jsxs(l,{fontFamily:"DM Sans",fontWeight:"400",mt:1,fontSize:18,children:[h.user&&h.user.name," ",h.user&&h.user.surname]}),e.jsx(gs,{control:e.jsx(Fs,{checked:R,onChange:O,color:"primary"}),label:`Işgär ${R?"Aktiw":"Aktiw däl"}`})]}),e.jsx(n,{mt:3,direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:L.map((C,V)=>e.jsxs(n,{sx:{...C.link=="tel:null"||C.link=="mailto:null"?{display:"none"}:{display:"block"}},width:50,alignItems:"center",children:[e.jsx(H,{sx:{width:50,height:50,borderRadius:"100%",border:"1px solid #000",alignItems:"center",justifyContent:"center"},children:e.jsx("a",{href:C.link,style:{width:25,height:25},target:C.target,rel:"noopener noreferrer",children:e.jsx("img",{src:C.img,style:{width:25,height:25},alt:""})})}),e.jsx(l,{mt:"7px",textAlign:"center",fontSize:14,color:"#727272",children:C.title})]},V))})]}),e.jsxs(n,{width:"60%",children:[e.jsxs(n,{alignItems:"end",position:"absolute",top:1,right:10,children:[e.jsx(H,{onClick:y,children:e.jsx(Je,{sx:{color:"#727272",width:20,height:20}})}),e.jsx(oe,{open:o,onClose:F,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:D,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:F,children:"X"})}),e.jsx(Ga,{userData:h,userId:h.user&&h.user.id,params:T,handleClose:F})]})})]}),e.jsxs(n,{children:[h.user&&h.user.mail&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Wa,style:{width:25,height:25},alt:"mail2"}),e.jsx(Ms,{value:h.user&&h.user.mail,data:e.jsx(l,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:h.user&&h.user.mail})})]}),h.user&&h.user.phoneNumber&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Ya,style:{width:25,height:25},alt:"mail2"}),e.jsx(l,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:h.user&&h.user.phoneNumber})]}),h.user&&h.user.languages&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Ta,style:{width:25,height:25},alt:"mail2"}),e.jsx(l,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:h.user&&h.user.languages})]}),h.user&&h.user.whereStudy&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Ua,style:{width:25,height:25},alt:"mail2"}),e.jsx(Ms,{value:h.user&&h.user.whereStudy,data:e.jsx(l,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:h.user&&h.user.whereStudy})})]})]}),e.jsxs(n,{children:[h.user&&h.user.birthday&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"16px",children:[e.jsx("img",{src:Ra,style:{width:25,height:25},alt:"mail2"}),e.jsx(l,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:P(h.user&&h.user.birthday).format("DD/MM/YYYY")})]}),h.user&&h.user.whereLive&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Ea,style:{width:25,height:25},alt:"mail2"}),e.jsx(l,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:h.user&&h.user.whereLive})]}),e.jsx(X,{variant:"contained",sx:{background:"#2F6FD0",mt:2,textTransform:"revert",fontSize:16,"&:hover":{background:"#2F6FD0"}},onClick:u,children:"Düzgünnama Goşmak"})]})]})]}):null}),e.jsx(oe,{open:w,onClose:W,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:f,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:W,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsx(Ka,{userData:h.user})]})}),e.jsx(De,{}),e.jsx(n,{children:console.log(h)}),e.jsx(De,{}),e.jsxs(n,{height:"45%",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:2,children:[e.jsx(l,{fontFamily:"DM Sans",fontWeight:"400",fontSize:18,children:"Resminamalar"}),e.jsx(H,{onClick:j,sx:{width:44,height:36,borderRadius:"10px"},children:e.jsx("img",{style:{width:44,height:36},src:za,alt:"add"})}),e.jsx(oe,{open:s,onClose:k,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:D,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:k,children:"X"})}),e.jsx(Xa,{id:h.user&&h.user.id,params:T,handleCloseDocsModal:k})]})})]}),h.documents&&h.documents.length==0?e.jsx(l,{color:"#727272",textAlign:"center",height:205,fontSize:18,fontFamily:"DM Sans",children:"Resminama ýok"}):e.jsxs(n,{height:"100%",className:"times2",overflow:"auto",children:[console.log(h.documents),h.documents&&h.documents.map((C,V)=>e.jsxs(n,{spacing:"18px",direction:"row",alignItems:"center",justifyContent:"space-between",mt:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(l,{color:"#727272",mr:2,fontFamily:"DM Sans",children:[V+1,"."]}),e.jsx(uo,{sx:{color:"#727272",mr:2}}),e.jsx(Ye,{to:`http://192.168.1.46/files/${C.pathPdf}`,target:"_blank",style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},children:e.jsx(l,{color:"#727272",fontFamily:"DM Sans",children:C.title})})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>p(C),children:e.jsx(Je,{sx:{color:"#2F6FD0",width:20,height:20}})}),e.jsx($a,{open:i,handleClose:S,data:g}),e.jsx(H,{children:e.jsx(Ye,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${C.pathPdf}`,children:e.jsx(bt,{sx:{color:"#2F6FD0"}})})}),e.jsx(H,{onClick:()=>M(h.user&&h.user.id,C.id),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:"Delete"})})]})]},C.id))]})]})]})},er=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:c,setSelectedUsers:i,allUsers:d})=>{a.useState([]);const[w,I]=a.useState([]),[g,A]=a.useState(""),[y,F]=a.useState("Başlanmadyk"),[j,k]=a.useState("");a.useState("");const[p,S]=a.useState(null),[u,W]=a.useState(null),[r,v]=a.useState(t),x=R=>{A(R.target.value)},h=R=>{F(R.target.value)};a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(Q=>{I(Q.data.data)})})()},[]);const T=()=>{const R={userId:t.length&&t[t.length-1].id,name:j,status:y,priority:g,startDate:U(p).format("YYYY-MM-DD"),endDate:U(u).format("YYYY-MM-DD")};j!==""&&y!=""&&g!==""&&p!==null&&u!==null?(s(t),A(""),k(""),F(""),c(Q=>[...Q,R])):m.error("Dogry maglumatyňyzy giriziň!")};return a.useEffect(()=>{t.length&&v(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsx(oe,{open:t!==void 0>0&&o,onClose:()=>{A(""),F(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{A(""),F(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:R=>{S(R||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:R=>{W(R||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:j,fullWidth:!0,onChange:R=>k(R.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:x,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:h,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:T,children:"Ýatda sakla"})})]})]})})]})},tr=({open:o,handleClose:t,details:s,userData:c})=>{a.useState(!1);const[i,d]=a.useState(s?s.priority:"Pes"),[w,I]=a.useState(s?s.status:"Başlanmadyk");JSON.parse(localStorage.getItem("CRM_USER"));const{id:g}=et(),[A,y]=a.useState((s==null?void 0:s.name)||""),[F,j]=a.useState(s?s.endDate&&P(s.endDate).format("YYYY-MM-DD"):null),[k,p]=a.useState(s?s.startDate&&P(s.startDate).format("YYYY-MM-DD"):null);z(T=>T.users.status);const S=z(T=>T.users.data);a.useEffect(()=>{s&&(y(s.name||""),d(s.priority||""),I(s.status||""),p(s.startDate||""),j(s.endDate||""))},[s]);const u=te();a.useState([]);const W=T=>{d(T.target.value)},r=T=>{I(T.target.value)};a.useEffect(()=>{u(Me())},[u]);const v=T=>{y(T.target.value)},x=(T,R)=>{},h=()=>{const T={userId:g,projectId:s&&s.id,archived:!1,name:A,status:w,priority:i,startDate:U(k).format("YYYY-MM-DD"),endDate:U(F).format("YYYY-MM-DD")};A!=""&&i!=""&&k!==null&&F!=null?(u(Dt(T)),t()):m.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:A,fullWidth:!0,onChange:v,sx:{borderRadius:"8px",height:56}})}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,defaultValue:c,fullWidth:!0,options:S,getOptionLabel:T=>`${_(T.name)} ${_(T.surname==null?"":T.surname)}`,disabled:!0,onChange:x,renderInput:T=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...T,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...T.InputProps,endAdornment:e.jsx(e.Fragment,{children:T.InputProps.endAdornment})}}),popupIcon:e.jsx(Ve,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.startDate).isValid()?U(s&&s.startDate):null,onChange:T=>{p(T?T?U(T).format("YYYY-MM-DD"):U(s&&s.startDate):U(s&&s.startDate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.endDate).isValid()?U(s&&s.endDate):null,onChange:T=>{j(T&&T?U(T).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:W,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,onChange:r,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:h,children:"Ýatda sakla"})})]})]})})})},sr=({setProjectName:o,userData:t})=>{const[s,c]=a.useState(""),[i,d]=a.useState(!1);a.useState([]);const{id:w}=et(),I=z(u=>u.projectDetail.status),g=z(u=>u.projectDetail.error),A=z(u=>u.projectDetail.data);a.useState([A]);const y=te(),F=JSON.parse(localStorage.getItem("CRM_USER")),j=we();a.useEffect(()=>{y(rt(w))},[w,y]),I==="succeeded"&&o(w);const k={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},p=u=>{d(!0),c(u)},S=u=>{const W={projectId:u.id,userId:w,responsibleUserId:F.id};u&&w&&y(vt(W))};return e.jsxs(n,{children:[I==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):I==="failed"?m.error(g):I==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"540px"},children:A.length==0?e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(at,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:un.map(u=>e.jsx(q,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center",zIndex:1e3},children:u.title},u.id))})}),e.jsx(Qe,{children:A.map(u=>e.jsxs(jt,{sx:{cursor:"pointer"},children:[e.jsx(q,{onClick:()=>j(`/projects/${u.project_id?u.project_id:u.id}`),sx:k,children:u.name}),e.jsxs(q,{onClick:()=>j(`/projects/${u.project_id?u.project_id:u.id}`),sx:k,children:[P(u.startDate).format("DD.MM.YYYY")," -"," ",P(u.endDate).format("DD.MM.YYYY")]}),e.jsx(q,{onClick:()=>j(`/projects/${u.project_id?u.project_id:u.id}`),sx:k,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(u.completion)}%`,height:"14px",backgroundColor:"#2F6FD0",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#2F6FD0"},children:`${Math.floor(u.completion)}%`})]})}),e.jsx(q,{onClick:()=>j(`/projects/${u.project_id?u.project_id:u.id}`),sx:{...k},children:u.priority=="Pes"?e.jsx(l,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):u.priority=="Orta"?e.jsx(l,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(l,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(q,{onClick:()=>j(`/projects/${u.project_id?u.project_id:u.id}`),sx:k,children:u.status=="Dowam edýän"?e.jsx(l,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):u.status=="Tamamlanan"?e.jsx(l,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(l,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:u.status})}),e.jsx(q,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>p(u),children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>S(u),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})})]})})]}))})]})})}):"",e.jsx(tr,{open:i,handleClose:()=>d(!1),details:s,userData:t})]})},nr=({open:o,handleClose:t,userData:s})=>{const[c,i]=a.useState(!1),[d,w]=a.useState("Orta"),[I,g]=a.useState("Başlanmadyk"),[A,y]=a.useState([]),[F,j]=a.useState([]);a.useState("");const[k,p]=a.useState(""),[S,u]=a.useState(""),[W,r]=a.useState("");z(f=>f.users.status);const v=z(f=>f.users.data),x=te(),[h,T]=a.useState([]),R=f=>{w(f.target.value)},Q=f=>{g(f.target.value)},ee=f=>{f.length?(i(!0),j(f)):y(f)},L=f=>{f?(y(M=>M.filter(C=>C.id!==f)),j(M=>M.filter(C=>C.id!==f))):y(newValues),i(!1)};a.useEffect(()=>{x(Me())},[x]);const N=f=>{p(f.target.value)},O=(f,M)=>{M.length<A.length?(h.filter(C=>!M.some(V=>V.id===C.id)),y(M),T(h.filter(C=>M.some(V=>V.id!==C.id))),j(F.filter(C=>M.some(V=>V.id!==C.id)))):(M||M[0].id)&&(ee(M),y(()=>M.map(C=>({id:C.id?C.id:C.userId,name:C.name,surname:C.surname}))))},D=()=>{const M={body:{name:k,status:I,priority:d,startDate:U(W).format("YYYY-MM-DD"),endDate:U(S).format("YYYY-MM-DD"),tasks:[{userId:s[0].id,name:k,status:I,priority:d,startDate:U(W).format("YYYY-MM-DD"),endDate:U(S).format("YYYY-MM-DD")}]},userId:s[0].id};k!=""&&d!=""&&W!==""&&S!=""&&s.length!=0?(x(Rt(M)),t(),y([]),T([]),p("")):m.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:k,fullWidth:!0,onChange:N,sx:{borderRadius:"8px",height:56}})}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,defaultValue:s,fullWidth:!0,options:v,getOptionLabel:f=>`${_(f.name)} ${_(f.surname==null?"":f.surname)}`,disabled:!0,onChange:O,renderInput:f=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...f,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...f.InputProps,endAdornment:e.jsx(e.Fragment,{children:f.InputProps.endAdornment})}}),popupIcon:e.jsx(Ve,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:f=>{r(f||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:f=>{u(f||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:R,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,onChange:Q,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:D,children:"Ýatda sakla"})})]})]})}),e.jsx(er,{user:F,setSelectedUsers:j,openUserModal:c,handleCloseUserModal:L,setWorkers:T,allUsers:v})]})},or=({data:o})=>{const[t,s]=a.useState("");z(y=>y.users.data),a.useState(!1);const[c,i]=a.useState(!1),[d,w]=a.useState([o]);a.useEffect(()=>{w([o])},[o]);const I=()=>i(!0),g=()=>i(!1);we();const A=y=>{s(y)};return e.jsx(K,{height:"90vh",p:"0 15px",backgroundColor:"#fff",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:1,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"100%",children:e.jsx(l,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektleri"})}),e.jsxs(X,{sx:{color:"#fff",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:I,children:[e.jsx(Ve,{}),"Proýekt goşmak"]}),e.jsx(nr,{open:c,userData:d,handleClose:g})]}),e.jsx(sr,{setProjectName:A,userData:d})]})})},ar=({projectId:o,allUsers:t,openUserModal:s,handleCloseUserModal:c})=>{const[i,d]=a.useState(),[w,I]=a.useState([]),[g,A]=a.useState("Orta"),[y,F]=a.useState("Başlanmadyk"),[j,k]=a.useState("");a.useState("");const[p,S]=a.useState(null),[u,W]=a.useState(null),r=te(),v=R=>{A(R.target.value)},x=R=>{F(R.target.value)};a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(Q=>{I(Q.data.data)})})()},[]);const h=R=>{d(R.target.value)};console.log(o);const T=()=>{const R={projectId:o,userId:i,name:j,status:y,priority:g,startDate:U(p).format("YYYY-MM-DD"),endDate:U(u).format("YYYY-MM-DD")};o&&j!==""&&y!=""&&g!==""&&p!==null&&u!==null?(r(Mt({body:R,projectID:o})),c(),A(""),k(""),F(""),d()):m.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:s,onClose:()=>{A(""),k(""),F(""),d(),c()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:440,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsx(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"flex-end",alignItems:"end",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:e.jsx(H,{onClick:()=>{A(""),k(""),F(""),d(),c()},children:e.jsx(ce,{sx:{color:"#fff"}})})}),e.jsxs(n,{p:"15px 20px 30px ",spacing:"10px",children:[e.jsxs(le,{children:[e.jsx(ue,{id:"age-label",children:"Işgär"}),e.jsx(de,{labelId:"age-label",value:i,label:"Işgärler",onChange:h,children:t.map(R=>e.jsxs(G,{value:R.id,children:[R.name," ",R.surname]},R.id))})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{pt:0,width:"100%",direction:"row",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:R=>{S(R||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{pt:0,width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:R=>{W(R||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:j,fullWidth:!0,onChange:R=>k(R.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:v,label:"Wajyplygy",children:[e.jsx(G,{value:"Ýokary",children:"Ýokary"}),e.jsx(G,{value:"Orta",children:"Orta"}),e.jsx(G,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ue,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:x,label:"Statusy",children:[e.jsx(G,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(G,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(G,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(G,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:T,children:"Ýatda sakla"})})]})]})})})},rr=({setProjectName:o,setProjectId:t})=>{const[s,c]=a.useState(""),[i,d]=a.useState(!1),[w,I]=a.useState([]),{projectId:g,subId:A}=et(),y=z(v=>v.projectDetail.status),F=z(v=>v.projectDetail.error),j=z(v=>v.projectDetail.data);a.useState([j]);const k=te(),p=we();console.log(j);const S=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{y==="succeeded"&&j.length&&(o(j[0].name),t(j[0].id))},[y,j,o,t]),a.useEffect(()=>{k(kt(g))},[k]);const u={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500,cursor:"pointer"},W=v=>{d(!0),c(v)},r=v=>{const x={projectId:g,taskId:v.id,responsibleUserId:S.id};v&&g&&k(Ft({body:x,age:g}))};return e.jsxs(n,{children:[y==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):y==="failed"?m.error(F):y==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:j.length==0?e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(at,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Ko.map(v=>e.jsx(q,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:v.title},v.id))})}),e.jsx(Qe,{children:j.map(v=>v.tasks&&v.tasks.map(x=>e.jsxs(jt,{children:[console.log(v),e.jsx(q,{sx:u,onClick:()=>{p(`/projects/${g}/${x.id}`),localStorage.setItem("subTaskId",JSON.stringify(x))},children:x.name}),e.jsxs(q,{sx:u,onClick:()=>{p(`/projects/${g}/${x.id}`),localStorage.setItem("subTaskId",JSON.stringify(x))},children:[console.log(x),x.user&&x.user.name," ",x.user&&x.user.surname]}),e.jsxs(q,{sx:u,onClick:()=>{p(`/projects/${g}/${x.id}`),localStorage.setItem("subTaskId",JSON.stringify(x))},children:[P(x.startDate).format("DD.MM.YYYY")," -"," ",P(x.endDate).format("DD.MM.YYYY")]}),e.jsx(q,{sx:u,onClick:()=>{p(`/projects/${g}/${x.id}`),localStorage.setItem("subTaskId",JSON.stringify(x))},children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${x.completionTask}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${x.completionTask}%`})]})}),e.jsx(q,{sx:u,onClick:()=>{p(`/projects/${g}/${x.id}`),localStorage.setItem("subTaskId",JSON.stringify(x))},children:x.priority=="Pes"?e.jsx(l,{backgroundColor:"#F0F7FF",borderRadius:"50px",color:"gray",border:"1px solid lightblue",width:"100%",textAlign:"center",children:"Pes"}):x.priority=="Orta"?e.jsx(l,{border:"1px solid #29D697",backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(l,{border:"1px solid #9A93FF",backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(q,{sx:u,onClick:()=>{p(`/projects/${g}/${x.id}`),localStorage.setItem("subTaskId",JSON.stringify(x))},children:x.status=="Dowam edýän"?e.jsx(l,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",border:"1px solid #E79124",textAlign:"center",children:"Dowam edýän"}):x.status=="Tamamlanan"?e.jsx(l,{backgroundColor:"#E9FAF4",borderRadius:"50px",border:"1px solid #29D697",color:"#29D697",children:"Tamamlanan"}):e.jsx(l,{backgroundColor:"#FFF0ED",border:"1px solid #FF6A54",borderRadius:"50px",color:"#FF6A54",children:x.status})}),e.jsx(q,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{sx:{...x.user&&x.user.id===S.id||S.role==="ADMIN"?{display:"flex"}:{display:"none"}},onClick:()=>W({task:x,user:x.user}),children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})}),S.role==="USER"?"":e.jsx(H,{onClick:()=>r(x),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})})]})})]},x.id)))})]})})}):"",e.jsx(xn,{user:s,setSelectedUsers:c,openUserModal:i,handleCloseUserModal:()=>d(!1),setWorkers:I})]})},ir=()=>{const[o,t]=a.useState(""),[s,c]=a.useState(""),i=z(j=>j.users.data),[d,w]=a.useState(!1),I=JSON.parse(localStorage.getItem("CRM_USER")),g=we(),A=j=>{t(j)},y=()=>{w(!0)},F=()=>{w(!1)};return e.jsxs(K,{height:"100vh",p:1,width:"100%",backgroundColor:"#fff",overflow:"auto",children:[I.role==="USER"?"":e.jsx(pn,{}),e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:I.role==="USER"?"97%":"80%",borderRadius:"12px",p:"20px",mt:2,boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",sx:{...I.role==="USER"?"":{justifyContent:"space-between"}},p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(Ye,{to:"#",onClick:()=>g(-1),style:{textDecoration:"none",color:"#474747",display:"flex",height:"100%",alignItems:"center",gap:"10px",padding:"15px 0"},children:e.jsx(Ts,{})}),e.jsx(l,{width:"100%",textAlign:"center",fontSize:"24px",fontFamily:"DM Sans",fontWeight:"500",children:o!==""&&o})]}),e.jsx(n,{alignItems:"center",justifyContent:"center",sx:{...I.role==="USER"?{display:"none"}:{display:"block"}},children:e.jsxs(X,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:y,children:[e.jsx(en,{}),"Ýerine Ýetirýän"]})})]}),e.jsx(rr,{setProjectName:A,setProjectId:c}),I.role==="USER"?"":e.jsx(ar,{openUserModal:d,handleCloseUserModal:F,allUsers:i,projectId:s})]})]})},lr=()=>{var x,h,T,R,Q,ee,L;const[o,t]=a.useState(U());a.useState("");const{id:s}=et(),[c]=Ys(),i=we(),d=te(),w=z(N=>N.getWorkDate.statusMonth),I=z(N=>N.getWorkDate.errorMonth),g=z(N=>N.getWorkDate.employeerTime);c.get("date");const[A,y]=a.useState(null);a.useEffect(()=>{const N={userId:s,date:P(o).format("YYYY-MM-DD")};d(Oe(N))},[o,d]);const F=N=>{y(O=>O===N?null:N)};console.log(g.user);const j={p:0,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},k=w==="succeeded"&&g.employeerTime.reduce((N,O)=>{const D=new Date(O.comeTime).toISOString().split("T")[0];if(N[D]||(N[D]={totalMinutes:0,firstComeTime:O.comeTime,lastLeaveTime:O.leaveTime,note:O.note,workSessions:[]}),O.comeTime&&O.id){const f=new Date(O.comeTime);let C=(new Date(O.leaveTime)-f)/(1e3*60);C<0&&(C=0),N[D].totalMinutes+=C,N[D].workSessions.push({comeTime:O.comeTime,leaveTime:O.leaveTime,duration:C,note:O.note}),N[D].firstComeTime>O.comeTime&&(N[D].firstComeTime=O.comeTime),(!N[D].lastLeaveTime||N[D].lastLeaveTime<O.leaveTime)&&(N[D].lastLeaveTime=O.leaveTime),!N[D].note&&O.note&&(N[D].note=O.note)}return N},{}),p=Object.keys(k).map(N=>{const{totalMinutes:O,firstComeTime:D,lastLeaveTime:f,note:M}=k[N],C=Math.floor(O/60),V=O%60;return{date:N,totalHours:C,totalMinutes:Math.ceil(V),firstComeTime:D,lastLeaveTime:f,workSessions:k[N].workSessions,note:M}});console.log(g);const S=(N,O)=>{if(!O)return console.error("Reference start time is null or undefined"),null;const D=new Date(N),f=new Date(N),[M,C]=O.split(":").map(Number);if(f.setHours(M,C,0,0),D>f){const V=D-f;return Math.floor(V/(1e3*60))}return null},W=w==="succeeded"&&((N,O)=>N.reduce((D,f)=>D+S(f,O),0))(((x=g.employeerTime)==null?void 0:x.map(N=>N.comeTime))||[],((T=(h=g.user)==null?void 0:h.workTime)==null?void 0:T.startTime)||null);console.log("Total Late Time:",W);const r=qo(g,W);console.log(r);const v=Xo(((Q=(R=g.user)==null?void 0:R.workTime)==null?void 0:Q.startTime)||null,((L=(ee=g.user)==null?void 0:ee.workTime)==null?void 0:L.endTime)||null);return console.log(v),e.jsxs(K,{backgroundColor:"#fff",overflow:"auto",height:"100vh",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",pr:2,children:[e.jsxs(Ye,{to:"#",onClick:()=>i(-1),style:{textDecoration:"none",color:"#474747",display:"flex",alignItems:"center",marginLeft:10},children:[e.jsx(Ts,{}),e.jsx(l,{p:"5px 10px",fontSize:"20px",fontFamily:"Montserrat",fontWeight:"600",sx:{"&:hover":{textDecoration:"underline"}},children:"Işgärler / Profili"})]}),e.jsx(gn,{selectedDay:o,setDateNote:t})]}),e.jsxs(n,{pb:1,direction:"row",alignItems:"center",justifyContent:"space-around",children:[e.jsx(_a,{data:g}),e.jsx(n,{backgroundColor:"#fff",width:"57%",height:"82vh",borderRadius:"20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(n,{width:"100%",children:w==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):w==="failed"?m.error(I):w==="succeeded"?e.jsx(at,{sx:{height:"82.5vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Le,{sx:{justifyContent:"space-between",height:"100%"},children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:v.map(N=>e.jsx(q,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center",p:1.4},children:N.title},N.id))})}),e.jsx(Qe,{children:p.map((N,O)=>e.jsxs(e.Fragment,{children:[e.jsxs(ye,{children:[e.jsxs(q,{sx:{...j,direction:"row",justifyContent:"space-between"},children:[e.jsx(H,{onClick:()=>F(N.date),children:A===N.date?e.jsx(ho,{}):e.jsx(po,{})}),P(N.date).format("DD.MM.YYYY")]}),e.jsx(q,{sx:j,children:P(N.firstComeTime).format("HH:mm")}),e.jsx(q,{sx:j,children:N.lastLeaveTime==null?e.jsx(l,{color:"tomato",children:"-"}):P(N.lastLeaveTime).format("HH:mm")}),e.jsx(q,{sx:j,children:`${N.totalHours}:${N.totalMinutes}`}),e.jsx(q,{sx:{...j,color:"tomato"},children:(()=>{var f,M;const D=S(N.firstComeTime,((M=(f=g==null?void 0:g.user)==null?void 0:f.workTime)==null?void 0:M.startTime)||null);return D?`${Math.floor(D/60)>0?`${Math.floor(D/60)}(sag):`:""}${D%60}(min)`:"-"})()}),e.jsx(q,{sx:j,children:N.note})]},N.date),e.jsx(ye,{children:e.jsx(q,{colSpan:7,sx:{paddingBottom:0,paddingTop:0},children:e.jsx(xo,{in:A===N.date,timeout:"auto",unmountOnExit:!0,children:e.jsxs(K,{margin:1,children:[e.jsx(l,{variant:"h6",children:"Işlän wagtlary:"}),e.jsxs(Le,{size:"small",children:[e.jsx(He,{children:e.jsxs(ye,{children:[e.jsx(q,{children:"Gelen wagty"}),e.jsx(q,{children:"Giden wagty"}),e.jsx(q,{children:"Işlän sagady"}),e.jsx(q,{children:"Belligi"})]})}),e.jsx(Qe,{children:N.workSessions.map((D,f)=>e.jsxs(ye,{children:[e.jsx(q,{children:D.comeTime?P(D.comeTime).format("HH:mm"):"-"}),e.jsx(q,{children:D.leaveTime?P(D.leaveTime).format("HH:mm"):"-"}),e.jsx(q,{children:D.leaveTime?`${Math.floor(D.duration/60)}(sag):${Math.ceil(D.duration%60)}(min)`:"-"}),e.jsx(q,{children:D.note?D.note:""})]},f))})]})]})})})})]}))}),e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",bottom:0,zIndex:100,boxShadow:"0px -2px 10px 0px rgba(199,199,199,1)",height:35,p:0,width:"100%"},children:r.map(N=>e.jsx(q,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center",boxShadow:"0px -6px 9px 0px rgba(199,199,199,1)",p:.6},children:N.title}))})]})}):""})})]}),e.jsx(or,{data:g.user})]})},bn="/assets/pattern-7eLabnOn.png",dr=({openModal:o,events:t,setStartDate:s,setEndDate:c,holidays:i})=>{P.locale("tk"),P.updateLocale("tk",{weekdays:dn.slice(0,7)}),P.updateLocale("tk",{months:cn}),JSON.parse(localStorage.getItem("CRM_USER"));const[d,w]=a.useState(P()),[I,g]=a.useState(null);a.useState(""),a.useState(!1);const[A,y]=a.useState("month"),F=()=>{let h,T;if(A==="month")h=d.clone().startOf("month").startOf("isoWeek"),T=d.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(A==="week")h=d.clone().startOf("isoWeek"),T=d.clone().endOf("isoWeek").subtract(1,"day");else return[];const R=h.clone().subtract(1,"day"),Q=[];for(;R.isBefore(T,"day");)Q.push(Array(7).fill(0).map(()=>R.add(1,"day").clone()));return Q.length===5&&Q[4][6].isBefore(T,"day")&&Q.push(Array(7).fill(0).map(()=>R.add(1,"day").clone())),{calendar:Q,firstDay:h.format("YYYY MM DD"),lastDay:T.format("YYYY MM DD"),endDay:T,startDay:h}};a.useEffect(()=>{const{startDay:h,endDay:T}=F();s(h.format("YYYY-MM-DD")),c(T.format("YYYY-MM-DD"))},[d,A,s,c]);const j=h=>h.day()===0,k=h=>{g(h),j(h)||o(h.format("YYYY-MM-DD"))},p=h=>i&&i.some(T=>P(T.date).isSame(h,"day")),S=h=>t.some(T=>P(T.comeTime).isSame(h,"day")),u=h=>t.filter(T=>P(T.comeTime).isSame(h,"day")),W=()=>{if(A==="day")return renderDayView();{const h=F();return e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{children:P.weekdays().map((T,R)=>e.jsx(q,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...R===0?{borderTopLeftRadius:"12px"}:"",...P.weekdays().length-1===R?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:T},R))})}),e.jsx(Qe,{children:h.calendar.map((T,R)=>e.jsx(ye,{children:T.map((Q,ee)=>e.jsxs(q,{onClick:()=>{k(Q)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:j(Q)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:Q.month()===d.month()?"#474747":"#959494",...Q.month()===d.month()?"":{backgroundImage:`url(${bn})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...P().isSame(Q,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%",zIndex:100}},children:Q.format("D")}),S(Q)&&t.filter(L=>P(L.comeTime).isSame(Q,"day")).map((L,N)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:L.color?"#e5dffb":"white",color:Q?L.color:"blue",borderLeft:`6px solid ${L.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(l,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:_(L.note)}),u(Q).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:L.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",u(Q).length-1]})]},N)),p(Q)&&i.filter(L=>P(L.date).isSame(Q,"day")).map((L,N)=>e.jsx(n,{style:{fontSize:"14px",backgroundColor:L.color?"transparent":"white",color:Q?L.color:"blue",border:`3px solid ${L.color}`,height:"100%",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"flex-end",alignItems:"end",spacing:1,children:e.jsx(l,{width:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"start",pt:2,children:L.name})},N))]},ee))},R))})]})}},r=()=>{w(d.clone().subtract(1,"month"))},v=()=>{w(d.clone().add(1,"month"))},x=()=>{w(P())};return e.jsxs(n,{p:"10px 15px 5px 15px",children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(X,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",minHeight:"40px"},onClick:x,children:"Şu gün"}),e.jsxs(n,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656"},onClick:r,children:e.jsx(tn,{sx:{width:18,height:20}})}),e.jsx(l,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:d.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656"},onClick:v,children:e.jsx(sn,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...A==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"}}:{background:"#fff"}},onClick:()=>y("week"),children:"Hepde"}),e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...A=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>y("month"),children:"Aý"})]})]})]}),W()]})},cr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFMSURBVHgBzZUxTgMxEEX/2Bu0QkLKEZYKIVHkCOEGUIDELeihCAJEyRFSUqTIFcIJki6CBucESU/sYTdRCmKTmYQt8prVjvfPt72eMUGgM+w2bZ63UmMecJ3TG7dJn0HAHh61CdxPjgWclw+3SW8gYCg4/APZwPvZX2MecwcBgoKnjx6n4vcnV6JeXMEC5kkUAjso0BkYmiJ2mKikmo8QWJVsdwOm6EcTmS8oUBkw4qPKwde3RQbk1mPEPNNpFQRjomScMN3ZIFnNZOpbQaqaNVW8mAeUrFezpoorxG66gpnfy4wFltOaYl9Qb1F18TTy/MLDIsAPpItmK4OX8VvhbTYsz2azeq8anfnG5d3Z9UjSqk6Rp6y7Sr6cFRV8QK8ara4XgY+jCHMBBUoDRFtRNrsBFKgMLDdu6XdrGM29fUDdPI577efPfmsbzQ/mEmtiWItDBwAAAABJRU5ErkJggg==",ur="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH2SURBVHgB7ZlNTsJAFIDfVHCNC3TrEeAIbiTEhV7BE0hPQDlB4QSegYVRcYGeQI/gzgRi5ADQ57zYmmaYAr5Oh4mZLyHpzwTmy5u+94YCeDyePAKYxPcfp+KgdisPW/LTgBL0zpvseRA1YJAKvELJyZsiAA5BMARHBAiWhBDBJVgknsxao8d5v+g+azmplF3TmyABAWKKAhpSBG46zYE6hrecLJEJQLp0pUiki4izEqpARpIka1F3UqJIAFfJIOyeROp45yT+KkA4JcERILTZaTiZY/6ck33ih3kPVvgcXhy/7TSeKUBUEonR02dfBBCLupjGd7PWtvFlBAjjEiSAmETpaWObSFkBwriEJgUWipgQIIxLhJ1mhAhqVV0TMSVAGGk7VEgkli2CEJCvrpnIGdRpD2BGgKhEgtgkkh3nx28S2JYtK60TRUsLDEUgo/JiVyDyS1kBwkrFLhIxIUBYaztUEVMCRGUPto7sYZfFBEwJEFYlCBIBwzi9s9sVL+EKXsIVuNlpAbnWQe1tbMOLhICdtpxVgEkyVq+xJHBZu4afaNhFiAXgYU+9zJIIu0fvuKq15TZ0DDaQk0fAF1wetOm31dvsip1+2RU4gE+xrvAvJLT/7Mm8/wUW3wSVfb+hj8Qe6wAHrcTe6gATrYT1OuDxeIzyDSk9ACXAXvuiAAAAAElFTkSuQmCC",hr={data:[],status:"idle",error:null,loading:!1},$e=Z("getHolidays",async o=>(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data),is=Z("createHoliday",async o=>{const t={name:o.name,date:o.date,color:o.color};if((await E.post("/holiday/add",t)).data.message==="Successfully added")return m.success("Üstünlikli üýtgedildi!"),(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data;m.error("Şowsuz!")}),mt=Z("deleteHoliday",async o=>{if((await E.delete(`/holiday/delete?id=${o.id}`)).data.message==="Successfully deleted")return m.success("Üstünlikli üýtgedildi!"),(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data;m.error("Şowsuz!")}),ls=Z("updateHoliday",async o=>{const t={id:o.id,name:o.name,date:o.date,color:o.color};if((await E.put("/holiday/update",t)).data.message==="Successfully update")return m.success("Üstünlikli üýtgedildi!"),(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data;m.error("Şowsuz!")}),pr=Ee({name:"holidays",initialState:hr,reducers:{},extraReducers:o=>{o.addCase($e.pending,t=>{t.status="loading..."}).addCase($e.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase($e.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(is.pending,t=>{t.status="loading..."}).addCase(is.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(is.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(mt.pending,t=>{t.status="loading..."}).addCase(mt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(mt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ls.pending,t=>{t.status="loading..."}).addCase(ls.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ls.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),xr=pr.reducer,yn=({open:o,handleClose:t,startDate:s,endDate:c})=>{const[i,d]=a.useState(""),[w,I]=a.useState(""),[g,A]=a.useState("#05dac5"),y=te();z(S=>S.holidays.data.data),z(S=>S.holidays.status),z(S=>S.holidays.error);const[F,j]=a.useState([{color:"#05dac5",id:1},{color:"#4CAF50",id:2},{color:"#FF9E58",id:3},{color:"#1E88E5",id:4}]),k=S=>{A(S)},p=()=>{const S={name:i,date:U(w).format("YYYY-MM-DD"),color:g,startDate:s,endDate:c};i!==""&&w!==""?(y(is(S)),t()):m.error("Maglumatlary giriz!")};return a.useEffect(()=>{y($e())},[y]),e.jsx(oe,{open:o,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsx(Ie,{in:o,children:e.jsxs(K,{sx:{position:"absolute",top:"35%",left:"35%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},children:[e.jsx(n,{alignItems:"end",p:"0",children:e.jsx(H,{onClick:t,sx:{p:0},children:e.jsx(ce,{sx:{width:28,height:28,color:"gray",p:0}})})}),e.jsxs(n,{children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(l,{fontWeight:600,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Baýramçylyk ady"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:i,autoComplete:"off",name:"username",onChange:S=>d(S.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"50px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsx(n,{direction:"row",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:Es,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",spacing:"16px",children:[e.jsxs(n,{width:"50%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",fontFamily:"Montserrat",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{onChange:S=>{I(S?U(S).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsx(n,{pt:3,width:"50%",direction:"row",justifyContent:"space-between",spacing:"9px",children:F.map(S=>e.jsx(n,{onClick:()=>k(S.color),style:{backgroundColor:S.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:g===S.color?e.jsx(st,{}):""},S.color))})]})})})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(X,{variant:"outlined",sx:{mt:2,textTransform:"revert",fontSize:16},onClick:p,children:"Ýatda sakla"})})]})})})},wn=({open:o,handleClose:t,startDate:s,endDate:c,holidayData:i})=>{const[d,w]=a.useState(i&&i.name),[I,g]=a.useState(""),[A,y]=a.useState("#05dac5"),F=te();z(u=>u.holidays.data.data),z(u=>u.holidays.status),z(u=>u.holidays.error);const[j,k]=a.useState([{color:"#05dac5",id:1},{color:"#4CAF50",id:2},{color:"#FF9E58",id:3},{color:"#1E88E5",id:4}]);a.useEffect(()=>{i&&w(i.name),i&&y(i.color),i&&g(i.date)},[i]);const p=u=>{y(u)},S=()=>{const u={id:i&&i.id,name:d,date:U(I).format("YYYY-MM-DD"),color:A,startDate:s,endDate:c};d!==""&&I!==""?(F(ls(u)),t()):m.error("Maglumatlary giriz!")};return a.useEffect(()=>{F($e())},[F]),e.jsx(oe,{open:o,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsx(Ie,{in:o,children:e.jsxs(K,{sx:{position:"absolute",top:"35%",left:"35%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},children:[e.jsx(n,{alignItems:"end",p:"0",children:e.jsx(H,{onClick:t,sx:{p:0},children:e.jsx(ce,{sx:{width:28,height:28,color:"gray",p:0}})})}),e.jsxs(n,{children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(l,{fontWeight:600,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Baýramçylyk ady"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:d,autoComplete:"off",name:"username",onChange:u=>w(u.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"50px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsx(n,{direction:"row",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:Es,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",spacing:"16px",children:[e.jsxs(n,{width:"50%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",fontFamily:"Montserrat",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{value:U(i&&i.date,"YYYY-MM-DD").isValid()?U(i&&i.date,"YYYY-MM-DD"):null,onChange:u=>{g(u?U(u).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsx(n,{pt:3,width:"50%",direction:"row",justifyContent:"space-between",spacing:"9px",children:j.map(u=>e.jsx(n,{onClick:()=>p(u.color),style:{backgroundColor:u.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:A===u.color?e.jsx(st,{}):""},u.color))})]})})})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(X,{variant:"outlined",sx:{mt:2,textTransform:"revert",fontSize:16},onClick:S,children:"Ýatda sakla"})})]})})})},Rs=()=>{const[o,t]=a.useState(!1),[s,c]=a.useState(()=>JSON.parse(localStorage.getItem("holidayShown")||!0)),[i,d]=a.useState(!1),[w,I]=a.useState(!1),[g,A]=a.useState([]),[y,F]=a.useState("#7551E9"),[j,k]=a.useState(null),[p,S]=a.useState({}),[u,W]=a.useState(""),[r,v]=a.useState(""),[x,h]=a.useState(""),[T,R]=a.useState([]),[Q,ee]=a.useState(),[L,N]=a.useState(),[O,D]=a.useState(),[f,M]=a.useState(),C=te(),V=JSON.parse(localStorage.getItem("CRM_USER")),ne=z(Y=>Y.getWorkDate.data),Fe=z(Y=>Y.getWorkDate.statusMonth),We=z(Y=>Y.holidays.data.data),$=z(Y=>Y.holidays.status);z(Y=>Y.holidays.error),a.useEffect(()=>{const Y={startDate:U(r).format("YYYY-MM-DD"),endDate:U(x).format("YYYY-MM-DD")};r!==""&&x!==""&&C($e(Y))},[r,x,C]);const ae=z(Y=>Y.getWorkDate.employeerTime.employeerTime),B=z(Y=>Y.getWorkDate.adminNotes),xe=z(Y=>Y.getWorkDate.adminNote),ge=z(Y=>Y.getWorkDate.statusAdminNote),Se=z(Y=>Y.getWorkDate.status);P.locale("tk"),a.useEffect(()=>{A([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]);const Re=Y=>{const he={userId:V.id,date:Y};P().isSame(Y,"day")&&C(Et(he))},ve=ne.filter(Y=>Y.leaveTime===null);a.useEffect(()=>{const Y={userId:V.id,date:P(r).add(13,"days").format("YYYY-MM-DD")};r!==""&&C(Oe(Y))},[r,C]),a.useEffect(()=>{const Y={startDate:r,endDate:x,userId:V.id};(Y.startDate||Y.endDate!=="")&&(C(Bt(Y)),C(Xt(V.id)))},[r,x,C]);const Ue=Fe==="succeeded"&&ae.reduce((Y,he)=>{if(he.note!==null){const re=P(he.comeTime).format("YYYY-MM-DD");Y[re]||(Y[re]=[]),Y[re].push(he)}return Y},{});ge==="succeeded"&&B.reduce((Y,he)=>{if(he.note!==null){const re=P(he.date,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD");Y[re]||(Y[re]=[]),Y[re].push(he)}return Y},{});const Ge=Y=>{F(Y)},tt=()=>{I(!1),t(!1),R([])},je=Y=>{k(Y),t(!0),Re(Y)},dt=()=>{const Y={userId:V.id,comeStatus:!0,userGetTime:{id:V.id,date:j}};C(Wt(Y))},ct=()=>{const Y={userId:V.id,leaveStatus:!0,userGetTime:{id:V.id,date:j}};C(Ut(Y))},Xe=Fe==="succeeded"?ae.filter(Y=>Y.note!==null):[],ys=()=>{const Y={id:ne[ne.length-1].id,note:u,color:y,userGetTime:{id:V.id,date:j}};u!==""&&C(zt(Y)),W("")},ze=()=>{const Y={id:L.id,note:u,color:y,userGetTime:{id:V.id,date:j}};u!==""?C(Pt(Y)):m.error("Maglumatlary giriziň!"),W("")},Ne=Y=>{Y.preventDefault(),j&&(S({text:u,color:y}),ys(),t(!1))},ws=()=>{ze(),S({text:u,color:y}),I(!1)},qe=Y=>{W(Y.note),N(Y),I(!0),ee(Y.id)},ut=Y=>{const he={id:Y,userId:V.id,date:P(r).add(13,"days").format("YYYY-MM-DD")};he.id&&he.userId&&C(qt(he))},Ze=Y=>{const he={id:Y,startDate:U(r).format("YYYY-MM-DD"),endDate:U(x).format("YYYY-MM-DD")};he.id&&C(mt(he))},ht=Y=>{D(Y),M(!0)};return e.jsx(K,{backgroundColor:"#fff",children:e.jsxs(n,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsxs(n,{direction:"column",width:"28%",height:"88vh",children:[e.jsx(n,{backgroundColor:"#fff",spacing:2,width:"90%",borderRadius:"20px",m:"0px 20px ",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",mb:"14px",sx:{display:"flex",minHeight:"200px",maxHeight:"35%"},className:"notes",overflow:"auto",children:e.jsxs(n,{maxHeight:"100%",children:[e.jsx(n,{direction:"row",children:e.jsx(l,{textAlign:"start",fontWeight:600,color:"#DC6262",fontSize:15,mb:"10px",p:"18px 20px 0 14px",children:"Admindan bellik"})}),e.jsx(yn,{open:i,handleClose:()=>d(!1),startDate:r,endDate:x}),e.jsx(wn,{open:f,handleClose:()=>M(!1),holidayData:O,startDate:r,endDate:x}),e.jsx(n,{children:ge==="loading..."?e.jsxs(n,{direction:"column",height:"10%",alignItems:"center",sx:{gap:"10px",mt:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):ge==="failed"?e.jsx(l,{textAlign:"center",color:"tomato",height:"33%",mt:4,children:"Ýalňyşlyk!"}):ge==="succeeded"?B.length==0&&xe.length==0?e.jsx(l,{pt:4,textAlign:"center",children:"Bellik ýok"}):B.map(Y=>e.jsxs(n,{children:[e.jsx(De,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"3px",borderRadius:"5px"},direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:cr,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(l,{color:"#202224",fontSize:15,fontWeight:600,children:_(Y.title)}),e.jsx(l,{color:"#797a7c",fontSize:14,fontWeight:500,children:P(Y.date).format("DD.MM.YYYY HH:mm")})]})]})]},Y.id)):""}),e.jsx(n,{children:xe.map(Y=>e.jsxs(n,{children:[e.jsx(De,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"5px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:ur,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(l,{color:"#202224",fontSize:15,fontWeight:600,children:_(Y.content)}),e.jsx(l,{color:"#797a7c",fontSize:14,fontWeight:500,children:P(Y.createdAt).format("DD.MM.YYYY HH:mm")})]})]},Y.id)]},Y.id))})]})}),e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"90%",sx:{height:"100%"},borderRadius:"20px",alignItems:"center",m:"0px 20px ",p:"20px 10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",overflow:"auto",children:[e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(X,{variant:"outlined",sx:{fontWeight:600,color:"#474747",textTransform:"revert",fontSize:14,width:"100%",height:"45px",...s==!0?{bgcolor:"#2F6FD0",color:"#fff","&:hover":{bgcolor:"#2F6FD0",color:"#fff"}}:{bgcolor:"#fff",color:"#474747","&:hover":{bgcolor:"#fff",color:"#474747"}}},onClick:()=>{c(!0),localStorage.setItem("holidayShown",JSON.stringify(!0))},children:"Ýetişik bellikleri"}),e.jsx(X,{variant:"outlined",sx:{fontWeight:600,color:"#474747",textTransform:"revert",fontSize:14,width:"90%",height:"45px","&:hover":{bgcolor:"#fff",color:"#474747"},...s==!1?{bgcolor:"#2F6FD0",color:"#fff","&:hover":{bgcolor:"#2F6FD0",color:"#fff"}}:{bgcolor:"#fff",color:"#474747"}},onClick:()=>{c(!1),localStorage.setItem("holidayShown",JSON.stringify(!1))},children:"Baýramçylyklar"})]}),e.jsx(De,{sx:{width:"100%"}}),s==!0?Fe==="loading..."||ge==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):Fe==="failed"||ge==="failed"?e.jsx(l,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):Fe==="succeeded"||ge==="succeeded"?Xe.length===0||Xe===void 0?e.jsx(l,{pt:4,children:"Bellik ýok"}):e.jsx(Ie,{in:s==!0,style:{transformOrigin:"0 0 0"},timeout:500,children:e.jsx(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:e.jsx(n,{children:Object.keys(Ue).map((Y,he)=>e.jsxs(fs,{children:[e.jsx(ms,{expandIcon:e.jsx(js,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(l,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:P(Y).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:Ue[Y].length})]})}),e.jsx(bs,{sx:{p:0},children:Ue[Y].map(re=>e.jsxs(n,{children:[e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:re.color}),e.jsxs(n,{direction:"column",children:[e.jsx(l,{color:"#202224",fontSize:15,fontWeight:600,children:_(re.note)}),e.jsx(l,{color:"#797a7c",fontSize:14,fontWeight:500,children:P(re.comeTime).format("DD.MM.YYYY HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...P().isSame(re.comeTime,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>qe(re),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>ut(re.id),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:""})})]})]}),e.jsx(De,{sx:{width:"100%"}})]},re.id))})]},he))})})}):"":e.jsxs(n,{width:"100%",children:[e.jsxs(X,{variant:"outlined",sx:{...V.role=="USER"&&{display:"none"},width:"100%",textTransform:"revert",mt:1,border:"0.5px solid green",color:"green","&:hover":{border:"0.5px solid green"}},onClick:()=>d(!0),children:[e.jsx(Ve,{sx:{color:"green",width:25,height:25,mr:2}}),"Baýramçylyk güni goşmak"]}),e.jsx(n,{children:$==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):$==="failed"?e.jsx(l,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):$==="succeeded"?We.length?We.map(Y=>e.jsx(Ie,{in:s==!1,children:e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsxs(n,{direction:"row",gap:"15px",alignItems:"center",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:Y.color}),e.jsxs(n,{direction:"column",children:[e.jsx(l,{color:"#202224",fontSize:15,fontWeight:600,children:Y.name}),e.jsx(l,{color:"#797a7c",fontSize:14,fontWeight:500,children:P(Y.date).format("DD.MM.YYYY")})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...P().isSame(Y.comeTime,"day")&&V.role!=="USER"?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>ht(Y),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>Ze(Y.id),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:""})})]})]})})):e.jsx(l,{pt:4,textAlign:"center",children:"Baýramçylyk ýok"}):""})]}),P(j).isAfter(P(),"day")?"":e.jsx(oe,{closeAfterTransition:!0,open:o,onClose:tt,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:o,style:{transformOrigin:"1 0 0"},timeout:500,children:e.jsxs(K,{sx:Jo,height:"605px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{...P().isSame(j,"day")?{marginBottom:"0px"}:{marginBottom:"85px"}},children:[e.jsx(l,{textAlign:"end",fontFamily:"Montserrat",fontSize:32,width:"70%",color:"#474747",fontWeight:500,children:P(j).format("DD.MM.YYYY")}),e.jsx(H,{onClick:tt,children:e.jsx(ce,{sx:{width:38,height:38,color:"#DC6262"}})})]}),e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"center",spacing:"20px",pt:"10px",pb:"10px",sx:{...P().isSame(j,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(X,{disabled:ve.length>0,sx:{...ve.length==0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,border:"1px solid #D5D5D5",borderRadius:"50px",height:55,"&:hover":{background:"#78a880"}},onClick:dt,children:"Geldim"}),e.jsx(X,{disabled:ve.length==0,sx:{...ve.length>0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,"&:hover":{background:"#78a880"}},onClick:ct,children:"Gitdim"})]}),Se==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(pe,{}),"Loading..."]}):Se==="failed"?e.jsx(l,{textAlign:"center",sx:{...P().isSame(j,"day")?{height:"28%"}:{height:"36%"}},mt:4,fontSize:35,children:"Maglumat ýok"}):Se==="succeeded"?ne.length===0?e.jsx(l,{mt:4,textAlign:"center",sx:{...P().isSame(j,"day")?{height:"35%"}:{height:"36%"}},fontSize:35,children:"Maglumat ýok"}):e.jsxs(n,{sx:{...P().isSame(j,"day")?{minHeight:"42%",maxHeight:"28%"}:{height:"70%"}},className:"times",overflow:"scroll",children:[e.jsxs(n,{spacing:"10px",direction:"row",justifyContent:"space-between",p:"0 10px 20px 30px",width:"100%",position:"sticky",top:"0",backgroundColor:"#fff",children:[e.jsx(l,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,textAlign:"center",children:"Gelen wagty"}),e.jsx(l,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Giden wagty"}),e.jsx(l,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Işlän sagady"})]}),e.jsx(n,{direction:"column",width:"100%",spacing:"10px",children:ne.map((Y,he)=>e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.jsx(l,{fontFamily:"Montserrat",color:"#000",textAlign:"center",fontSize:15,children:he+1}),e.jsxs(n,{width:"100%",spacing:"5px",direction:"row",alignItems:"center",justifyContent:"space-between",border:"1px solid #d5d5d5",p:"0 40px",borderRadius:"50px",backgroundColor:"#F8F9FA",children:[e.jsx(n,{height:25,color:"#A6A6A6",fontSize:15,fontWeight:400,justifyContent:"flex-start",alignItems:"center",direction:"row",children:e.jsx(l,{fontFamily:"Montserrat",color:"#A6A6A6",textAlign:"center",fontSize:15,children:P(Y.comeTime).format("HH:mm")})}),e.jsx(n,{height:35,color:"#A6A6A6",fontSize:15,fontWeight:400,alignItems:"start",justifyContent:"center",children:Y.leaveTime!=null?P(Y.leaveTime).format("HH:mm"):""}),e.jsx(n,{height:25,fontSize:15,fontWeight:400,alignItems:"start",color:"#A6A6A6",justifyContent:"center",children:Y.comeTime&&Y.leaveTime?P.duration(P(Y.leaveTime).diff(P(Y.comeTime))).hours()+":"+P.duration(P(Y.leaveTime).diff(P(Y.comeTime))).minutes():""})]})]}))},Rs)]}):"",e.jsx(n,{direction:"column",sx:{...P().isSame(j,"day")?{display:"flex"}:{display:"none"}},children:e.jsxs("form",{onSubmit:Ne,children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(l,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:u,autoComplete:"off",name:"eventText",onChange:Y=>W(Y.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(l,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"9px",children:g.map(Y=>e.jsx(n,{onClick:()=>Ge(Y.color),style:{backgroundColor:Y.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:y===Y.color?e.jsx(st,{}):""},Y.color))}),e.jsx(X,{sx:{backgroundColor:"#F5F6FA",color:"#474747",textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,mt:-.5,"&:hover":{background:"#78a880",color:"#F5F6FA"}},type:"submit",children:"Goşmak"})]})]})," "]})]})})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:w,onClose:tt,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:w,children:e.jsxs(K,{sx:vs,height:"565px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(H,{onClick:tt,children:e.jsx(ce,{sx:{width:38,height:38,color:"#DC6262"}})}),e.jsx(l,{textAlign:"center",fontFamily:"Montserrat",fontSize:32,color:"#474747",fontWeight:500,children:L!==void 0?P(L.comeTime).format("DD.MM.YYYY"):""}),e.jsx(H,{onClick:ws,children:e.jsx(st,{sx:{width:38,height:38,color:"#9FC2A5"}})})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"10px",children:[e.jsx(l,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:u,autoComplete:"off",name:"username",onChange:Y=>W(Y.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(l,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:g.map(Y=>e.jsx(n,{onClick:()=>Ge(Y.color),style:{backgroundColor:Y.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:y===Y.color?e.jsx(st,{}):""},Y.color))})]})]})})})]})]}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(dr,{openModal:je,color:y,events:Xe,setEvents:S,setStartDate:Y=>v(Y),setEndDate:Y=>h(Y),holidays:We})})]})})},gr=()=>{const o=JSON.parse(localStorage.getItem("CRM_USER")),t=we();return a.useEffect(()=>{o.role==="ADMIN"&&t("/employees")},[o]),e.jsx(K,{height:"100vh",width:"100%",className:"notes",backgroundColor:"#fff",overflow:"auto",children:o.role==="USER"?e.jsx(Rs,{}):o.role==="MODERATOR"?e.jsx(Rs,{}):o.role==="ADMIN"?e.jsx(fn,{}):""})},zs="http://192.168.1.46",fr=async o=>{const t=await fetch(`${zs}/api/chat/chats/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},Js=async o=>{const t=await fetch(`${zs}/api/chat/users/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},Ke=an(`${zs}:5022`),mr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},jr=()=>{const[o,t]=a.useState({name:"",surname:"",img:""}),[s,c]=a.useState(""),[i,d]=a.useState(),[w,I]=a.useState(null),[g,A]=a.useState(!1),[y,F]=a.useState(null),j=Number(i),[k,p]=a.useState(""),S=a.useRef(null),[u,W]=a.useState([]),[r,v]=a.useState([]),[x,h]=a.useState(null),[T,R]=a.useState(null),[Q,ee]=a.useState(null),[L,N]=a.useState(null),[O,D]=a.useState([]),f=a.useRef(null),M=u.length?u.filter($=>$.name&&$.name.toLowerCase().includes(k.toLowerCase())):u;a.useEffect(()=>{const $=JSON.parse(localStorage.getItem("CRM_USER"));d($.id)},[i]),a.useEffect(()=>{(async()=>{const ae=await fr(i);W(ae)})()},[]),a.useEffect(()=>((async()=>{const ae=await Js(i);v(ae.users),W(ae.chats),S.current&&S.current.focus()})(),Ke.emit("register",i),Ke.on("message",ae=>{const{senderId:B,receiverId:xe,text:ge}=ae;D(Se=>[...Se,{senderId:Number(i),receiverId:xe,text:ge}])}),()=>Ke.off("message")),[i]),a.useEffect(()=>{f.current&&(f.current.scrollIntoView({behavior:"smooth"}),S.current&&S.current.focus())},[O]);const C=async($,ae)=>{Ke.emit("createchat",{senderId:$,receiverId:ae});const B=await Js(i);v(B.users),W(B.chats)},V=$=>{$.preventDefault(),s&&w&&(Ke.emit("message",{senderId:i,recipientId:w,message:s,chatId:x,oppositeChatId:L,oppositeSenderId:T,oppositeReceiverId:Q}),c(""))},ne=($,ae)=>(Ke.emit("getchat",{chatId:ae,senderId:$}),Ke.on("getchat",B=>{const{chatHistory:xe}=B;D(xe)}),S.current&&S.current.focus(),()=>Ke.off("getchat")),Fe=($,ae,B,xe,ge,Se,Re,ve,Ue,Ge)=>{I($),t({name:ae,surname:B,img:xe}),h(ge),R(Se),ee(Re),N(ve),F(Ue),ne(Ge,ge)},We=($,ae,B)=>{I($),t(ae),C(B,$),A(!1)};return e.jsx(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{width:"30%",height:"100%",borderRadius:"10px",backgroundColor:"#f0f0f0",children:e.jsxs(n,{spacing:1,justifyContent:"center",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",spacin:2,width:"100%",sx:{p:{lg:"15px 5px 0 10px",xs:"0 5px 0 5px"},gap:"5px"},children:[e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,onChange:$=>p($.target.value),value:k,sx:{},InputProps:{startAdornment:e.jsx("img",{src:rn,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsx(H,{onClick:()=>A(!0),sx:{width:"45px",height:"45px",border:"0.5px solid #cdcdcd",color:"#fff",background:"#2F6FD0","&:hover":{background:"#2F6FD0"}},children:"+"})]}),u.length==0?"Does not have chats":M.map(($,ae)=>e.jsxs(n,{onClick:()=>Fe($.id,$.name,$.surname,$.img,$.chatId,$.oppositeSenderId,$.oppositeReceiverId,$.oppositeChatId,$.receiverId,$.senderId),direction:"row",spacing:2,p:"8px",sx:{...ae==0?{borderTop:"1px solid #CDCDCD"}:"",borderBottom:"1px solid #CDCDCD","&:hover":{backgroundColor:"#F5F5F5"}},children:[$.img?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${$.img}`,alt:""}):e.jsx(xs,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(n,{sx:{cursor:"pointer"},height:45,width:"90%",justifyContent:"center",children:[e.jsxs(l,{fontFamily:"Montserrat",color:"#4399FF",fontWeight:600,children:[$.name," ",$.surname]}),e.jsx(l,{color:"#959595"})]})]},ae))]})}),e.jsx("div",{className:"chat-messages",style:{position:"relative",background:"#fff",height:"100%"},children:o.name==""?e.jsx(l,{fontFamily:"Montserrat",color:"#cdcdcd",mt:6,fontSize:30,textAlign:"center",fontWeight:600,children:"Söhbetdeşlik saýlaň"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)",p:1,children:[o.img!=null?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${o.img}`,alt:""}):e.jsx(xs,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(l,{fontSize:18,fontWeight:500,color:"#4399FF",children:[o.name," ",o.surname]})]}),e.jsxs("ul",{style:{height:"500px !important"},children:[O.map(($,ae)=>e.jsx("li",{style:{textAlign:$.senderId===j?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:$.senderId===j?"#D0E7FF":"#D4F8E8",position:"relative",alignItems:"center"},children:[e.jsx("b",{className:"chat-messages__div-b",children:$.senderId===j?"":o.name}),e.jsxs(n,{width:"100%",spacing:2,direction:"row",alignItems:"end",justifyContent:"space-between",children:[e.jsxs("span",{className:"chat-messages__div-span",children:[$.text," "]}),e.jsx("span",{style:{color:"gray",fontSize:11,marginBottom:"-4px"},children:P($.createdAt).format("HH:mm")})]})]})},ae)),e.jsx("div",{ref:f})]}),e.jsx(n,{className:"chat-input",style:{position:"absolute",bottom:10,right:"2%",width:"95%",alignItems:"center"},children:e.jsxs("form",{onSubmit:V,children:[e.jsx("input",{ref:S,type:"text",placeholder:"Tekst...",value:s,onChange:$=>c($.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})})]}),e.jsx(oe,{open:g,onClose:()=>A(!1),children:e.jsxs(K,{sx:mr,children:[e.jsx(l,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:r.map($=>e.jsx("li",{onClick:()=>We($.id,$.name,i),children:$.name},$.id))})})]})})]})})},br=({open:o,handleClose:t,data:s})=>{const[c,i]=a.useState(null),[d,w]=a.useState(s&&s.name),I=JSON.parse(localStorage.getItem("CRM_USER")),[g,A]=a.useState(I);a.useEffect(()=>{w(s&&s.name),A(I)},[s]);const y=te(),F=p=>{const S=p.target.files[0];S&&m.success("Faýl saýlandy"),i(S),w(S.name)},j=()=>{if(d==""){m.warn("Faýl ady giriz!");return}if(!c){m.warn("Faýl saýlaň");return}const p=new FormData;p.append("userId",g.id),p.append("title",d),p.append("file",c),p.append("documentTypeId",s.id);const S={userId:g.id,body:p};y(ss(S)),i(null),w(""),t()},k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:k,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Goşmaça resminama"}),e.jsx(H,{onClick:t,children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"95%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(l,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:p=>w(p.target.value),fullWidth:!0,value:d,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"80%",spacing:2,children:[e.jsx(l,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:F,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"})]}),c?e.jsx(n,{children:e.jsxs(l,{children:["Ady: ",c.name," - ",(c.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:j,children:"+ Goş"})})]})})]})})},yr=({open:o,handleClose:t,data:s})=>{const[c,i]=a.useState(null),[d,w]=a.useState(o&&s.pdfDocuments&&s.pdfDocuments[0].title),[I,g]=a.useState(o&&s.title),A=JSON.parse(localStorage.getItem("CRM_USER")),[y,F]=a.useState(A);a.useEffect(()=>{o&&s.pdfDocuments&&w(s.pdfDocuments[0].title),o&&g(s.title),F(A)},[o,s]);const j=te(),k=u=>{const W=u.target.files[0];W&&m.success("Faýl saýlandy"),i(W)},p=()=>{if(d==""){m.warn("Faýl ady giriz!");return}const u=new FormData;u.append("userId",y.id),u.append("documentId",s.id),u.append("title",d),u.append("file",c),u.append("documentTypeId",s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const W={title:d,userId:y.id,documentId:s.id,documentTypeId:s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},r={userId:y.id,body:c?u:W,files:c||null};j(ns(r)),i(null),w(""),t()},S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:430,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:o,onClose:()=>{i(null),t()},children:e.jsxs(K,{sx:S,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{i(null),t()},children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(l,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:u=>w(u.target.value),fullWidth:!0,value:d==!1?I:d,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(l,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:k,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),c?e.jsx(n,{children:e.jsxs(l,{children:["Saýlanan faýl:",c.name," - ",(c.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:p,children:"+ Goş"})})]})})]})})},wr=()=>{const[o,t]=a.useState(""),[s,c]=a.useState(""),[i,d]=a.useState(!1),[w,I]=a.useState(!1),g=JSON.parse(localStorage.getItem("CRM_USER")),[A,y]=a.useState(g),[F,j]=a.useState(!1);a.useEffect(()=>{y(g)},[]);const k=z(L=>L.uploadPDf.data);z(L=>L.uploadPDf.docType);const p=z(L=>L.uploadPDf.status),S=z(L=>L.uploadPDf.error),u=z(L=>L.uploadPDf.uploadProgress),W=te();a.useEffect(()=>{W(lt(A.id)),W(ts(A.id))},[W]);const r=()=>{j(!F)},v=L=>{const N={userId:A.id,documentId:L[0].id};W(as(N))},x=L=>{t(L),d(!0)},h=()=>d(!1),T=L=>{c(L.documentType&&L.documentType.id),t(L),I(!0)},R=()=>{I(!1)},Q=k.filter(N=>N.name!=="Goşmaça"),ee=k.filter(L=>L.name==="Goşmaça");return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(l,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Resminama"}),e.jsx(Te,{}),e.jsx(n,{direction:"row",backgroundColor:"#fff",spacing:"60px",minHeight:"80vh",borderRadius:"10px",m:"0px 20px ",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",padding:"0px 0 30px",justifyContent:"space-between",children:e.jsx(n,{width:"100%",justifyContent:"flex-start",alignItems:"center",children:p==="loading..."?e.jsxs(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(pe,{}),e.jsxs(l,{children:[u,"% Loading..."]})]}):p==="failed"?e.jsxs(l,{textAlign:"center",height:"43%",mt:4,children:["Maglumat ýok: ",S]}):p==="succeeded"?e.jsxs(n,{width:"95%",mt:2,children:[e.jsxs(n,{width:"100%",children:[e.jsx(l,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pb:1,width:"100%",children:"Esasy"}),e.jsx(De,{}),Q.map((L,N)=>e.jsxs(n,{direction:"row",sx:{borderBottom:"1px solid lightgray"},alignItems:"center",justifyContent:"space-between",backgroundColor:"#fff",children:[e.jsxs(n,{width:"80%",height:45,alignItems:"center",direction:"row",pl:2.5,minHeight:"45px",children:[e.jsx(Os,{sx:{...L.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},width:36,height:36}}),e.jsxs(l,{fontFamily:"DM Sans",fontWeight:"400",fontSize:L.name==="Goşmaça"?20:18,pl:5,color:"#474747",width:"100%",children:[L.name," ",L.pdfDocuments.length?`( ${L.pdfDocuments&&L.pdfDocuments.map(O=>O.title)})`:""]},N)]}),L.name==="Goşmaça"?e.jsxs(fs,{expanded:F,onChange:r,sx:{width:"100%",backgroundColor:"#fff",boxShadow:"none"},children:[e.jsx(ms,{expandIcon:e.jsx(js,{}),"aria-controls":"panel1a-content",id:"panel1a-header"}),e.jsx(bs,{children:L.pdfDocuments.map((O,D)=>e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(l,{children:O.title}),e.jsxs(n,{direction:"row",spacing:1,children:[e.jsx(H,{children:e.jsx(Ye,{style:{textDecoration:"none",color:"#474747"},target:"_blank",to:`http://192.168.1.46/files/${O.pathPdf}`,children:e.jsx(bt,{sx:{color:"#9FA1C2"}})})}),e.jsx(H,{onClick:()=>v([O]),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:"Delete"})})]})]},D))})]}):e.jsxs(n,{direction:"row",children:[L.pdfDocuments&&L.pdfDocuments.length?e.jsxs(e.Fragment,{children:[e.jsx(H,{onClick:()=>T(L),children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(Ye,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${L.pdfDocuments[0].pathPdf}`,children:e.jsx(bt,{sx:{color:"#9FA1C2"}})})})]}):"",L.pdfDocuments.length?e.jsx(H,{sx:{width:38,height:38},onClick:()=>v(L.pdfDocuments),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:"Delete"})}):e.jsx(H,{sx:{width:38,height:38,position:"relative",overflow:"hidden"},onClick:()=>x(L),children:e.jsx(Ls,{sx:{...L.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},cursor:"pointer",width:28,height:28}})})]})]},N)),ee.map((L,N)=>e.jsxs(n,{direction:"row",position:"relative",alignItems:"center",children:[e.jsxs(fs,{expanded:F,onChange:r,sx:{width:"97%",backgroundColor:"#fff",boxShadow:"none"},children:[e.jsx(ms,{expandIcon:e.jsx(js,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{alignItems:"center"},children:e.jsxs(n,{alignItems:"center",justifyContent:"space-between",direction:"row",children:[e.jsx(Os,{sx:{color:"brown",width:36,height:36,ml:.7}}),e.jsxs(l,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pl:5,color:"#474747",width:"100%",children:[" ",L.name," "]}),e.jsx(n,{border:"1px solid #2F6FD0",backgroundColor:"#2F6FD0",borderRadius:"100%",width:45,alignItems:"center",justifyContent:"center",height:25,color:"#fff",children:L.pdfDocuments.length})]})}),e.jsx(bs,{children:L.pdfDocuments.map((O,D)=>e.jsxs(e.Fragment,{children:[e.jsx(De,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(l,{children:O.title}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(H,{onClick:()=>T(O),children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(Ye,{style:{textDecoration:"none",color:"#474747",display:"flex",alignItems:"center"},target:"_blank",to:`http://192.168.1.46/files/${O.pathPdf}`,children:e.jsx(bt,{sx:{color:"#9FA1C2"}})})}),e.jsx(H,{onClick:()=>v([O]),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:"Delete"})})]})]},D),e.jsx(De,{})]}))})]},N),e.jsx(H,{sx:{width:38,height:38,position:"absolute",top:10,right:0,overflow:"hidden"},onClick:()=>x(L),children:e.jsx(Ls,{sx:{...L.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},cursor:"pointer",width:28,height:28}})})]}))]}),e.jsx(br,{open:i,data:o,handleClose:h}),e.jsx(yr,{open:w,handleClose:R,data:o,docId:s})]}):null})})]})},Cr=({openModal:o})=>{const[t,s]=a.useState(""),[c,i]=a.useState("+993"),[d,w]=a.useState(""),[I,g]=a.useState(""),[A,y]=a.useState(""),[F,j]=a.useState(""),[k,p]=a.useState(!1),[S,u]=a.useState(""),[W,r]=a.useState("TKM"),[v,x]=a.useState(""),[h,T]=a.useState(""),[R,Q]=a.useState(U()),[ee,L]=a.useState([]),N=C=>{u(C.target.value)},O=C=>{r(C.target.value)},D=()=>{o(!0)};te();const f=we();a.useEffect(()=>{(async()=>{await E.get("/position/get").then(V=>{L(V.data)})})()},[]);const M=async C=>{C.preventDefault();try{t.trim().length<=0||F.trim().length<=0?m.error("Dogry maglumatyňyzy giriziň!"):(p(!0),(await E.post("/user/registration",{login:d,pass:F,surname:_(I),name:_(A),mail:t,phoneNumber:c,birthday:R,whereStudy:v,whereLive:h,languages:W,role:"USER",positionId:S})).data.data==="Successfully"&&(setTimeout(()=>f("/login"),2e3),m.success("Üstünlikli registrasiýa!"),s(""),i("+993"),w(""),g(""),y(""),j(""),p(!1),x(""),u(""),r(""),T(""),Q(U()),o(!1)))}catch(V){m.error(V.message==="Network Error"?"Internet baglanyşygy ýok":V.response.data),p(!1)}};return e.jsx(n,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(n,{width:{lg:"65%",md:"80%",sm:"97",xs:"97%"},height:650,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(l,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:M,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Ady",type:"text",value:A,name:"password",onChange:C=>y(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:I,onChange:C=>g(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:d,onChange:C=>w(C.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Wezipe"}),e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:S,onChange:N,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:ee.map(C=>e.jsx(G,{value:C.id,children:C.name},C.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(Ae,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ie,{label:"Doglan senesi",value:R,format:"DD.MM.YYYY",onChange:C=>Q(C),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(J,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:t,onChange:C=>s(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:v,name:"password",onChange:C=>x(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:h,onChange:C=>T(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:c,onChange:C=>i(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ue,{id:"simple-select-label",children:"Dili"}),e.jsxs(de,{labelId:"simple-select-label",id:"simple-select",value:W,onChange:O,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(G,{value:"ENG",children:"ENG"}),e.jsx(G,{value:"RUS",children:"RUS"}),e.jsx(G,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:F,onChange:C=>j(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:C=>j(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:[e.jsx(n,{direction:"row",spacing:2,children:e.jsx(X,{onClick:D,style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},children:"Siziň hasabyňyz barmy? Şu ýere giriň"})}),e.jsx(X,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:k?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Hasaba gir"})]})]})]})})},Sr="/assets/Logo-DZQxkVEy.png",Ar="/assets/login (2)-C6oMrZMN.png",kr="/assets/login (1)-CZfUSTBP.png",Dr=()=>{const[o,t]=a.useState(""),[s,c]=a.useState(""),[i,d]=a.useState(""),[w,I]=a.useState(!1),[g,A]=a.useState(!1),[y,F]=a.useState(!1),j=()=>{A(r=>!r)},k=r=>{r.preventDefault()};a.useEffect(()=>{d("")},[o,s]);const p=te(),S=we(),u=async r=>{r.preventDefault();try{if(o.trim().length<=0||s.trim().length<=0)m.error("Dogry maglumatyňyzy giriziň!");else{I(!0);const v=await E.post("/user/login",{login:o,pass:s});if(v.data.status===404)m.error(v.data.message=="Неправелный пароль"?"Login ýada Açar söz nädogry!":v.data.message),I(!1);else{const x=v.data;p(Eo(x)),localStorage.setItem("CRM_USER",JSON.stringify(x)),setTimeout(()=>S("/"),500),m.success("Üstünlikli giriş!"),I(!1)}}}catch(v){v.message==="Network Error"?m.error("Internet baglanyşygy ýok"):v.response.status?m.error("Login ýada Açar söz nädogry!"):v.response.data.message,p(Wo(v.message||"Login failed")),I(!1)}},W=()=>{F(!y)};return e.jsxs(K,{children:[e.jsx(Te,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},children:[e.jsxs(n,{width:"40%",maxHeight:"100vh",backgroundColor:"#3763f5",sx:{display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:[e.jsxs(n,{left:"30px",top:"30px",position:"absolute",width:250,direction:"row",alignItems:"center",children:[e.jsx("img",{src:Sr,style:{width:"85px",height:"95px"},alt:""}),e.jsx(l,{textAlign:"center",color:"#fff",fontWeight:"500",fontSize:20,ml:-3,fontFamily:"Montserrat",children:"ÄLEM TILSIMAT"})]}),e.jsx("img",{src:Ar,style:{width:"100%",height:"49.4vh"},alt:""}),e.jsx(l,{textAlign:"center",color:"#fff",fontWeight:"600",fontSize:65,position:"absolute",top:"45%",left:"3%",fontFamily:"Montserrat",children:"CRM"}),e.jsx("img",{src:kr,style:{width:"100%",height:"49.5vh"},alt:""})]}),y===!1?e.jsx(n,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(n,{width:{lg:"60%",md:"80%",sm:"97",xs:"97%"},height:500,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(l,{mb:"30px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:7.4,children:"Giriş"}),e.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",width:"100%",gap:"40px",alignItems:"center",justifyContent:"center"},children:[e.jsx(J,{id:"outlined-basic",label:"Ady",type:"text",variant:"outlined",autoComplete:"off",name:"username",onChange:r=>t(r.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"}},InputLabelProps:{sx:{color:"#757575"}}}),e.jsx(J,{name:"password",label:"Açar söz",fullWidth:!0,variant:"outlined",type:g?"text":"password",onChange:r=>c(r.target.value),InputProps:{endAdornment:e.jsx(go,{position:"end",children:e.jsx(H,{"aria-label":"toggle password visibility",onClick:j,onMouseDown:k,edge:"end",children:g?e.jsx(fo,{}):e.jsx(mo,{})})})},InputLabelProps:{sx:{color:"#757575"}},sx:{width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"},transition:"all ease-in-out 0.2s","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},backgroundColor:"#fff",height:"60px",color:"#000",outline:"none",boxShadow:"none"}}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",spacing:2,children:[e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(Ye,{to:"/",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textAlign:"center"},children:"Paroly dikeltmek"}),e.jsx(X,{to:"/register",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},onClick:W,children:"Hasaba alyş"})]}),e.jsx(X,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:w?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Dowam et"})]})]})]})}):e.jsx(Cr,{openModal:W})]})]})},Ps="http://192.168.1.46",Ir=async o=>{const t=await fetch(`${Ps}/api/chat/chats/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},Vs=async o=>{const t=await fetch(`${Ps}/api/chat/users/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},pt=an(`${Ps}:5022`),Fr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},vr=()=>{const[o,t]=a.useState(""),[s,c]=a.useState(""),[i,d]=a.useState(sessionStorage.getItem("userId")),[w,I]=a.useState(null),[g,A]=a.useState(!1);a.useState(null);const y=Number(sessionStorage.getItem("userId")),[F,j]=a.useState([]),[k,p]=a.useState([]),[S,u]=a.useState(null),[W,r]=a.useState(null),[v,x]=a.useState(null),[h,T]=a.useState(null),[R,Q]=a.useState([]),ee=a.useRef(null);a.useEffect(()=>{(async()=>{const f=await Ir(y);j(f)})()},[]),console.log(k),a.useEffect(()=>((async()=>{const f=await Vs(y);p(f.users),j(f.chats)})(),pt.emit("register",i),pt.on("message",f=>{const{senderId:M,receiverId:C,text:V}=f;Q(ne=>[...ne,{senderId:Number(M),receiverId:C,text:V}])}),()=>pt.off("message")),[i]),a.useEffect(()=>{ee.current&&ee.current.scrollIntoView({behavior:"smooth"})},[R]);const L=async(D,f)=>{pt.emit("createchat",{senderId:D,receiverId:f});const M=await Vs(y);p(M.users),j(M.chats)},N=D=>{D.preventDefault(),s&&w&&(pt.emit("message",{senderId:i,recipientId:w,message:s,chatId:S,oppositeChatId:h,oppositeSenderId:W,oppositeReceiverId:v}),c(""))},O=(D,f,M)=>{I(D),t(f),L(M,D),A(!1)};return e.jsx(K,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsx(H,{className:"iconIoAdd",onClick:()=>A(!0),children:"+"}),e.jsx("div",{className:"chat-header",children:e.jsxs("h2",{children:["Chat",e.jsx("span",{children:": "+o})]})}),e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{}),e.jsxs("div",{className:"chat-messages",children:[e.jsx("h3",{children:"Messages"}),e.jsxs("ul",{children:[R.map((D,f)=>e.jsx("li",{style:{textAlign:D.senderId===y?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:D.senderId===y?"#D0E7FF":"#D4F8E8"},children:[e.jsx("b",{className:"chat-messages__div-b",children:D.senderId===y?"":o}),e.jsx("span",{className:"chat-messages__div-span",children:D.text})]})},f)),e.jsx("div",{ref:ee})]}),e.jsx("div",{className:"chat-input",children:e.jsxs("form",{onSubmit:N,children:[e.jsx("input",{type:"text",placeholder:"Type a message",value:s,onChange:D=>c(D.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})]}),e.jsx(oe,{open:g,onClose:()=>A(!1),children:e.jsxs(K,{sx:Fr,children:[e.jsx(l,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:k.map(D=>e.jsx("li",{onClick:()=>O(D.id,D.name,sessionStorage.getItem("userId")),children:D.name},D.id))})})]})})]})})},Mr=()=>{const[o,t]=a.useState(!1),[s,c]=a.useState([]),[i,d]=a.useState({}),[w,I]=a.useState({}),[g,A]=a.useState(U()),y=te(),F=JSON.parse(localStorage.getItem("CRM_USER")),j=we();a.useEffect(()=>{(async()=>{try{t(!0);const h=await E.get("/user/status");c(h.data.messagge)}catch(h){console.error("Error fetching user status:",h)}finally{t(!1)}})()},[]),a.useEffect(()=>{const x=s.reduce((T,R)=>(T[R.id]=R.status,T),{}),h=s.reduce((T,R)=>(T[R.id]=R.role==="MODERATOR",T),{});d(x),I(h)},[s]);const k=a.useCallback(x=>{const h=!i[x];y(wt({userId:x,status:h})),d(R=>({...R,[x]:h}))},[i,y]),p=a.useCallback((x,h)=>{const T={editorId:F.id,userId:x,newRole:h};y(Tt(T)),I(R=>({...R,[x]:h==="MODERATOR"}))},[F.id,y]),S=s.filter(x=>x.role!=="ADMIN"&&x.status===!1),u=s.filter(x=>x.role=="MODERATOR"),W=s.filter(x=>x.role!=="ADMIN"&&x.role!=="MODERATOR"&&x.status===!0),r=[...u,...W,...S];console.log(r);const v={p:1,textAlign:"center",fontFamily:"DM Sans"};return e.jsxs(n,{backgroundColor:"#fff",width:"80%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"10px 24px 17px",m:"15px 0 10px 15px",children:[e.jsx(l,{textAlign:"center",fontFamily:"DM Sans",mb:2,fontSize:20,children:"Ulanyjylar"}),e.jsx(n,{height:"100%",children:o?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):e.jsx(n,{children:s.length===0?e.jsx(l,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(at,{sx:{height:"78vh",overflowY:"auto",borderRadius:"20px"},children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",position:"sticky",top:0,zIndex:100,boxShadow:"0px 12px 7px -14px rgba(71,71,71,1)"},children:Go.map(x=>e.jsx(q,{sx:{color:"#222222",fontWeight:500,fontFamily:"DM Sans",fontSize:18,textAlign:"center"},children:x.title},x.id))})}),e.jsx(Qe,{children:r.map((x,h)=>e.jsxs(ye,{onClick:()=>j(`/employees/${x.id}?date=${g}`),style:{cursor:"pointer"},children:[e.jsx(q,{sx:v,children:h+1}),e.jsx(q,{sx:v,children:x.name}),e.jsx(q,{sx:v,children:x.surname||"-"}),e.jsx(q,{sx:v,children:e.jsx(gs,{control:e.jsx(Fs,{checked:i[x.id]||!1,onChange:()=>k(x.id),color:"primary"}),label:""})}),e.jsx(q,{sx:v,children:e.jsx(gs,{control:e.jsx(Fs,{checked:w[x.id]||!1,onChange:()=>p(x.id,w[x.id]?"USER":"MODERATOR"),color:"primary"}),label:""})}),e.jsx(q,{sx:v,children:x.workTime&&x.workTime.startTime?` ${P(x.workTime&&x.workTime.startTime,"HH:mm:ss").format("HH:mm")} -
                                ${P(x.workTime&&x.workTime.endTime,"HH:mm:ss").format("HH:mm")}`:"-"}),e.jsx(q,{sx:{width:"50px"},children:e.jsx(n,{direction:"row",alignItems:"end",spacing:1,children:e.jsx(H,{onClick:()=>{handleOpen(),setDetails(x)},children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})})})})]},x.id))})]})})})})]})},Rr={data:[],status:"idle",error:null,loading:!1},ds=Z("getWorkTimeForDay",async()=>(await E.get("/time/get")).data),Ds=Z("postWorkTimeDay",async o=>{const t=await E.post("/time/set",o);if(console.log(t.data),t.data.status)return m.success("Üstünlikli!"),(await E.get("/time/get")).data}),Yr=Ee({name:"getTimeOfWork",initialState:Rr,reducers:{},extraReducers:o=>{o.addCase(ds.pending,t=>{t.status="loading..."}).addCase(ds.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ds.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ds.pending,t=>{t.status="loading..."}).addCase(Ds.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ds.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Tr=Yr.reducer,Er={position:"absolute",top:"30%",left:"40%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px"},Gs=JSON.parse(localStorage.getItem("CRM_USER")),Wr=({open:o,handleClose:t,userData:s})=>{const[c,i]=a.useState(""),[d,w]=a.useState({field1:"",field2:""}),I=te();a.useEffect(()=>{s!==null&&i(s)},[s]);const g=y=>{const{name:F,value:j}=y.target;w({...d,[F]:j})},A=()=>{const y={editorId:Gs.id,userId:c.id,newLogin:d.field1,newPassword:d.field2};console.log(y),Gs&&c!==""&&d.field1!==""&&d.field2!==""&&(I(es(y)),t(),w({field1:"",field2:""}))};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:o,onClose:t,children:e.jsx(Ie,{in:o,children:e.jsxs(K,{sx:Er,children:[e.jsxs(l,{variant:"h6",textAlign:"center",mb:2,children:[c.name," ",c.surname]}),e.jsxs(n,{spacing:2,children:[e.jsx(J,{label:"Täze Login",name:"field1",value:d.field1,onChange:g,fullWidth:!0}),e.jsx(J,{label:"Täze Açar söz",name:"field2",value:d.field2,onChange:g,fullWidth:!0}),e.jsxs(n,{direction:"row",spacing:2,justifyContent:"flex-end",children:[e.jsx(X,{onClick:t,variant:"outlined",children:"Yza"}),e.jsx(X,{onClick:A,variant:"contained",children:"Çalyşmak"})]})]})]})})})})},Ur=()=>{const[o,t]=a.useState(null),[s,c]=a.useState(!1),i=z(u=>u.workTime.data),d=z(u=>u.workTime.status),w=z(u=>u.users.data);z(u=>u.holidays.data.data),z(u=>u.holidays.status),z(u=>u.holidays.error);const[I,g]=a.useState(!1),[A,y]=a.useState(null),[F,j]=a.useState(null),k=te(),p=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{k(Me()),k(ds())},[k]);const S=(u,W)=>{t(W)};return a.useEffect(()=>{d==="succeeded"&&i.length>0&&(y(i[0].startTime),j(i[0].endTime))},[d,i]),a.useEffect(()=>{k($e())},[k]),e.jsx(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs(n,{p:1,direction:"row",alignItems:"center",height:"100%",children:[e.jsxs(n,{backgroundColor:"#fff",width:"40%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",children:[e.jsxs(X,{variant:"contained",sx:{...p.role=="USER"&&{display:"none"},textTransform:"revert",height:"45px",mb:3,fontSize:17,border:"0.5px solid #2F6FD0","&:hover":{border:"0.5px solid #2F6FD0"}},onClick:()=>g(!0),children:[e.jsx(Ve,{sx:{color:"#fff",width:25,height:25}}),"Baýramçylyk güni goşmak"]}),e.jsx(yn,{open:I,handleClose:()=>g(!1)}),e.jsx(l,{textAlign:"center",fontFamily:"DM Sans",mb:2,mt:3,fontSize:20,children:"Ulanyjy login we parol çalyşmak"}),e.jsx(ke,{rows:4,value:o,fullWidth:!0,options:w,getOptionLabel:u=>`${_(u.name)} ${_(u.surname||"")}`,onChange:S,renderInput:u=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...u,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...u.InputProps,endAdornment:e.jsx(e.Fragment,{children:u.InputProps.endAdornment})}})}),e.jsx(X,{variant:"contained",sx:{...p.role=="USER"&&{display:"none"},textTransform:"revert",mt:2,fontSize:17,border:"0.5px solid #2F6FD0","&:hover":{border:"0.5px solid #2F6FD0"}},onClick:()=>{o!==null?c(!0):m.error("Ulanyjy saýlaň!")},children:"Çalyşmak"})]}),e.jsx(Wr,{open:s,handleClose:()=>c(!1),userData:o}),e.jsx(Mr,{}),e.jsx(Te,{})]})})},zr=({openModal:o,events:t,setStartDate:s,setEndDate:c,holidays:i})=>{P.locale("tk"),P.updateLocale("tk",{weekdays:dn.slice(0,7)}),P.updateLocale("tk",{months:cn});const d=JSON.parse(localStorage.getItem("CRM_USER")),[w,I]=a.useState(P()),[g,A]=a.useState(null);a.useState("");const[y,F]=a.useState(!1),[j,k]=a.useState(null),[p,S]=a.useState("month");U.locale("tk");const u=()=>{let O,D;if(p==="month")O=w.clone().startOf("month").startOf("isoWeek"),D=w.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(p==="week")O=w.clone().startOf("isoWeek"),D=w.clone().endOf("isoWeek").subtract(1,"day");else return[];const f=O.clone().subtract(1,"day"),M=[];for(;f.isBefore(D,"day");)M.push(Array(7).fill(0).map(()=>f.add(1,"day").clone()));return M.length===5&&M[4][6].isBefore(D,"day")&&M.push(Array(7).fill(0).map(()=>f.add(1,"day").clone())),{calendar:M,firstDay:O.format("YYYY MM DD"),lastDay:D.format("YYYY MM DD"),endDay:D,startDay:O}};a.useEffect(()=>{const{startDay:O,endDay:D}=u();s(O.format("YYYY-MM-DD")),c(D.format("YYYY-MM-DD"))},[w,p,s,c]);const W=O=>O.day()===0,r=O=>{A(O),W(O)||o(O.format("YYYY-MM-DD"))},v=O=>t.some(D=>P(D.date).isSame(O,"day")),x=O=>t.filter(D=>P(D.date).isSame(O,"day")),h=()=>{k(null),F(!y)},T=O=>{k(U(O)),I(w.clone().month(O.month()).date(O.date()).year(O.year()))},R=O=>i&&i.some(D=>P(D.date).isSame(O,"day")),Q=()=>{if(p==="day")return renderDayView();{const O=u();return e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{children:P.weekdays().map((D,f)=>e.jsx(q,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...f===0?{borderTopLeftRadius:"12px"}:"",...P.weekdays().length-1===f?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:D},f))})}),e.jsx(Qe,{children:O.calendar.map((D,f)=>e.jsx(ye,{children:D.map((M,C)=>e.jsxs(q,{onClick:()=>{r(M)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:W(M)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:M.month()===w.month()?"#474747":"#959494",...M.month()===w.month()?"":{backgroundImage:`url(${bn})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...P().isSame(M,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%"}},children:M.format("D")}),v(M)&&t.filter(V=>P(V.date).isSame(M,"day")).map((V,ne)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:V.color?"#e5dffb":"white",color:M?V.color:"blue",borderLeft:`6px solid ${V.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(l,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:d.role==="USER"?_(V.note):_(V.title)}),x(M).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:V.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",x(M).length-1]})]},ne)),R(M)&&i.filter(V=>P(V.date).isSame(M,"day")).map((V,ne)=>e.jsx(n,{style:{fontSize:"14px",backgroundColor:V.color?"#e5dffb":"white",color:M?V.color:"blue",borderRight:`6px solid ${V.color}`,height:"55%",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:e.jsx(l,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:V.name})},ne))]},C))},f))})]})}},ee=()=>{I(w.clone().subtract(1,"month"))},L=()=>{I(w.clone().add(1,"month"))},N=()=>{I(P())};return e.jsxs(n,{p:"10px 15px 5px 15px",children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(X,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",height:"40px"},onClick:N,children:"Şu gün"}),e.jsx(X,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",minHeight:"40px",...y?{backgroundColor:"tomato",color:"#fff","&:hover":{backgroundColor:"tomato"}}:{backgroundColor:"#fff"}},onClick:h,children:y?"X":"Sene"}),e.jsx(Ie,{in:y,children:e.jsx(n,{width:"50%",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",children:e.jsx(ie,{value:j,onChange:T,format:"DD/MM/YYYY",openTo:"year",views:["year","month","day"],slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"75%",border:"1px solid #ccc"}}}},renderInput:O=>e.jsx("input",{...O})})})})})]}),e.jsxs(n,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",ml:-13,children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656"},onClick:ee,children:e.jsx(tn,{sx:{width:18,height:20}})}),e.jsx(l,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:w.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656"},onClick:L,children:e.jsx(sn,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...p==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"}}:{background:"#fff"}},onClick:()=>S("week"),children:"Hepde"}),e.jsx(X,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...p=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>S("month"),children:"Aý"})]})]})]}),Q()]})},Pr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFhSURBVHgB7ZeNTcNADIUdxAAdIWzQDUg3KBMQJkk7ATAB3QCxQdiAEdiAbnA8S257SXOtnbOqSO2TrIsuce6T7fsjumlCKrQfhhBmaJakV1sUxS95CQBL2F+wqdb+/0753StsRg6SiHZ0TzqV0n7DNkqflo4BntG8oV0gVT9kURTiDxopBoj+w6ktd++06ciSRGATdb2bizYnEr0IsFbnHCoeSKw6BxF/4wIgTvXQFBuCwHMjfY0bgAWCiyp0143GBcACIX3zIZAsACtEAuTzFEBI1FzWFJUFZwHbSle8t6zxftVzKWG1WOkCkQBJASTlslj1QEwALO3eoQJBnh/Qbq2+rsv2GAB3iLGaBIS1JqqQsZ1TNC0pmk1aiJYB6DDPc8UA+0ONNh0vsC/yEQ/+FJ8nVJEQB8tJ26TJF+YjipAyNO7eIbuil2rtuJ10yB6wpgtr8BrIEUEzpzz5XgOvQv8C+jI7OK+spwAAAABJRU5ErkJggg==",Br=()=>{const[o,t]=a.useState(!1),[s,c]=a.useState(!1),[i,d]=a.useState(!1),[w,I]=a.useState(!1),[g,A]=a.useState([]),[y,F]=a.useState("#7551E9"),[j,k]=a.useState(null),[p,S]=a.useState({});a.useState("");const[u,W]=a.useState(""),[r,v]=a.useState(""),[x,h]=a.useState(""),[T,R]=a.useState(""),[Q,ee]=a.useState(null),[L,N]=a.useState(null),[O,D]=a.useState(),[f,M]=a.useState(),[C,V]=a.useState(),[ne,Fe]=a.useState(),[We,$]=a.useState(),[ae,B]=a.useState(""),[xe,ge]=a.useState(),[Se,Re]=a.useState();U.locale("tk");const ve=z(b=>b.holidays.data.data),Ue=z(b=>b.holidays.status);z(b=>b.holidays.error);const Ge={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},tt=_s({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}}),je=te();a.useEffect(()=>{const b={startDate:U(u).format("YYYY-MM-DD"),endDate:U(r).format("YYYY-MM-DD")};u!=""&&r!=""&&je($e(b))},[u,r,je]),a.useEffect(()=>{const b=document.querySelector(".MuiTypography-overline");b&&(b.textContent="Your custom text")},[]);const dt=z(b=>b.project.data);a.useEffect(()=>{je(nt())},[je]);const ct=z(b=>b.getWorkDate.adminNotes),Xe=z(b=>b.getWorkDate.statusAdminNote),ys=z(b=>b.users.status),ze=z(b=>b.users.data),Ne=We!==void 0?We.WarningShares&&We.WarningShares.map(b=>({userId:b.userId,name:b.User.name,surname:b.User.surname})):[],ws=ys==="succeeded"&&ze.filter(b=>Ne&&!Ne.some(se=>se.userId===b.id));a.useState(Ne);const[qe,ut]=a.useState([]),Ze=JSON.parse(localStorage.getItem("CRM_USER"));z(b=>b.getWorkDate.data),z(b=>b.getWorkDate.statusMonth),z(b=>b.getWorkDate.employeerTime.employeerTime);const ht=z(b=>b.getWorkDate.adminNote);P.locale("tk"),a.useEffect(()=>{A([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]),a.useEffect(()=>{je(Me())},[je]),a.useEffect(()=>{const b={startDate:u,endDate:r};(b.startDate||b.endDate!=="")&&(je(Nt(b)),je(Lt(Ze.id)))},[u,r,je]);const Y=Xe==="succeeded"?ct.reduce((b,se)=>{if(se.note!==null){const be=P(se.date).format("YYYY-MM-DD");b[be]||(b[be]=[]),b[be].push(se)}return b},{}):"",he=b=>{F(b)},re=()=>{c(!1),t(!1),I(!1),d(!1),ut([]),h(""),R(""),ee(),N(null),k(null),M(),R(""),B("")},Cn=b=>{k(b),t(!0)},Sn=Ne&&Ne.map(b=>({id:b.userId})),An=[{id:"selectAll",name:"Ählisi",surname:""},...ze],kn=()=>{qe.map(se=>({id:se.id}));const b={title:x,date:P(L===null?j:L).format("YYYY-MM-DD"),dateHour:f,color:y,startDate:u,endDate:r,users:qe};x!==""&&(L!==null||j)&&f!==void 0?(je(Ot(b)),re()):m.error("Maglumatlary giriziň!")},Dn=()=>{const b={userId:T,authorId:Ze.id,content:x,project:ae};x!==""&&T!==""&&ae!==""?(je(Ht(b)),re()):m.error("Maglumatlary giriziň!")},Bs=(b,se)=>{se.some(be=>be.id==="selectAll")?ut(ze):(ut(()=>[...se.map(be=>({id:be.id?be.id:be.userId,name:be.name,surname:be.surname}))]),R(se.length>0?se[0].id:null))},In=b=>{je(Jt({id:b,startDate:u,endDate:r}))},Fn=b=>{const se={id:b,authorId:Ze.id};je(Vt(se))},vn=()=>{const b={noteId:C,content:x,date:P(O&&O.date).format("YYYY-MM-DD"),dateHour:f??P(Q).format("HH:mm"),startDate:u,endDate:r,authorId:Ze.id,users:qe.length===0?Sn:qe,color:y};x!==""&&(qe.length!==0||Ne&&Ne.length!==0)?(je(Gt(b)),re()):m.error("Maglumatlary giriziň!")},Mn=b=>{$(b),I(!0),ee(b.date),h(b.title),V(b.id)},Rn=()=>{const b={authorId:Ze.id,noteId:C,content:x,projectId:ae==""?ne.projectId:ae,userId:T==""?ne.userId:T};x!==""?(je(Qt(b)),re()):m.error("Maglumatlary giriziň!")},Yn=b=>{Fe(b),d(!0),V(b.id),h(b.content)},Tn=b=>{ge(b),Re(!0)},En=b=>{const se={id:b,startDate:U(u).format("YYYY-MM-DD"),endDate:U(r).format("YYYY-MM-DD")};se.id&&je(mt(se))};return e.jsx(K,{height:"100vh",backgroundColor:"#fff",children:e.jsxs(n,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsx(n,{direction:"column",width:"28%",children:e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"97%",sx:{height:"87.5vh"},borderRadius:"20px",alignItems:"center",m:"0px 10px ",p:"20px 10px 10px 20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",children:[e.jsxs(X,{sx:{color:"#fff",background:"#DC6262",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px",fontWeight:600,"&:hover":{background:"#9FC2A5"}},onClick:()=>t(!0),children:[e.jsx(jo,{})," Duýduryş goşmak"]}),e.jsxs(X,{sx:{color:"#fff",background:"#90BAEB",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px","&:hover":{background:"#9FC2A5"},gap:"10px",fontWeight:600},onClick:()=>c(!0),children:[e.jsx("img",{style:{width:20,height:20},src:Pr,alt:"check"})," ","Bellik goşmak"]}),Xe==="loading..."||Ue==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):Xe==="failed"||Ue==="failed"?e.jsx(l,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):Xe==="succeeded"||Ue==="succeeded"?ct.length===0&&ht.length==0&&!ve.length?e.jsx(l,{pt:4,children:"Bellik ýok"}):e.jsxs(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:[e.jsxs(n,{children:[e.jsx(l,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,children:"Duýduryşlar"}),e.jsx(De,{sx:{width:"100%",mb:2}}),Object.keys(Y).length===0?e.jsx(l,{mb:3,textAlign:"center",children:"Duýduryş ýok"}):Object.keys(Y).map((b,se)=>e.jsxs(fs,{children:[e.jsx(ms,{expandIcon:e.jsx(js,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(l,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:P(b).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:Y[b].length})]})}),e.jsx(bs,{sx:{padding:0},children:Y[b].map(be=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",minWidth:35,minHeight:35,backgroundColor:be.color}),e.jsxs(n,{direction:"column",children:[e.jsx(l,{color:"#202224",fontSize:15,fontWeight:600,children:_(be.title)}),e.jsx(l,{color:"#797a7c",fontSize:14,fontWeight:500,children:P(be.date).format("DD.MM.YYYY  HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>Mn(be),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>In(be.id),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:""})})]})]},be.id),e.jsx(De,{sx:{width:"100%"}})]}))})]},se))]}),e.jsxs(n,{children:[e.jsx(l,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Bellikler"}),e.jsx(De,{sx:{width:"100%",mb:1}}),ht.length==0?e.jsx(l,{mb:3,textAlign:"center",children:"Bellik ýok"}):ht.map(b=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{borderRadius:"5px"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"5px",mb:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx(bo,{sx:{color:"#90BAEB"}})}),e.jsxs(n,{direction:"column",children:[e.jsx(l,{color:"#202224",fontSize:15,fontWeight:600,fontFamily:"Montserrat",children:_(b.content)}),e.jsx(l,{fontSize:15,fontWeight:600,fontFamily:"Montserrat",color:"#90BAEB",children:_(b.projectId)}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,justifyContent:"space-between",children:[e.jsx(l,{color:"#797a7c",fontSize:15,fontWeight:500,children:ze.find(se=>se.id===b.userId)?`${_(ze.find(se=>se.id===b.userId).name)} ${_(ze.find(se=>se.id===b.userId).surname)}`:""}),e.jsx(l,{color:"#797a7c",fontSize:14,fontWeight:500,children:P(b.createdAt).format("DD.MM.YYYY ")})]})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>Yn(b),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>Fn(b.id),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:""})})]})]},b.id),e.jsx(De,{sx:{width:"100%"}})]}))]}),e.jsxs(n,{children:[e.jsx(l,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Baýramçylyklar"}),e.jsx(De,{sx:{width:"100%",mb:1}}),e.jsx(n,{width:"100%",children:e.jsx(n,{children:ve.length?ve.map(b=>e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsxs(n,{direction:"row",gap:"15px",alignItems:"center",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:b.color}),e.jsxs(n,{direction:"column",children:[e.jsx(l,{color:"#202224",fontSize:16,fontWeight:500,children:b.name}),e.jsx(l,{color:"#797a7c",fontSize:14,fontWeight:500,children:P(b.date).format("DD.MM.YYYY")})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...P().isSame(b.comeTime,"day")&&Ze.role!=="USER"?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>Tn(b),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>En(b.id),children:e.jsx("img",{style:{width:24,height:24},src:Ce,alt:""})})]})]})):e.jsx(l,{mb:3,textAlign:"center",children:"Baýramçylyk ýok"})})})]})]}):"",e.jsx(wn,{open:Se,handleClose:()=>Re(!1),holidayData:xe,startDate:u,endDate:r}),e.jsx(oe,{closeAfterTransition:!0,open:s,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:s,children:e.jsxs(K,{sx:vs,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(ce,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(ke,{id:"combo-box-demo",options:dt,getOptionLabel:b=>`${_(b.name)} `,onChange:(b,se)=>B(se.name),renderInput:b=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...b,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärleri"}),e.jsx(ke,{id:"combo-box-demo",options:ze,getOptionLabel:b=>`${_(b.name)} ${_(b.surname==null?"":b.surname)}`,onChange:(b,se)=>R(se.id),filterSelectedOptions:!0,renderInput:b=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...b,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(J,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:b=>h(b.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:Dn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:i,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:i,children:e.jsxs(K,{sx:vs,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(ce,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(ke,{id:"combo-box-demo",options:dt,value:dt.find(b=>b.name===(ne?ne.projectId:""))||null,getOptionLabel:b=>`${_(b.name)}`,onChange:(b,se)=>{B(se?se.name:"")},renderInput:b=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...b,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(ke,{id:"combo-box-demo",options:ze,value:ze.find(b=>b.id===(ne?ne.userId:""))||null,getOptionLabel:b=>`${_(b.name)} ${_(b.surname==null?"":b.surname)}`,onChange:(b,se)=>R(se.id),renderInput:b=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...b,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(J,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",value:x,onChange:b=>h(b.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:Rn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:o,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:o,children:e.jsx(K,{sx:Qs,children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(ce,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş"}),e.jsx(J,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:b=>h(b.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsx(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",children:e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(ke,{id:"combo-box-demo",multiple:!0,value:qe,options:An,isOptionEqualToValue:(b,se)=>b.id===se.id,getOptionLabel:b=>`${_(b.name)} ${_(b.surname==null?"":b.surname)}`,onChange:Bs,filterSelectedOptions:!0,renderInput:b=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...b,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})}),e.jsx(n,{direction:"row",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:Ge,children:e.jsx(Ae,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{disabled:U(j,"YYYY-MM-DD").isValid(),value:U(j,"YYYY-MM-DD").isValid()?U(j,"YYYY-MM-DD"):null,onChange:b=>{N(b?U(b).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(Is,{theme:tt,children:e.jsx(Hs,{ampm:!1,onChange:b=>{M(b?b.format("HH:mm"):null)},DialogProps:{sx:{".MuiTypography-root":{display:"none"}}},format:"HH:mm",slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"20px",pt:"8px",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:g.map((b,se)=>e.jsx(n,{onClick:()=>he(b.color),style:{backgroundColor:b.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:y===b.color?e.jsx(st,{}):""},se))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:kn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})}),e.jsx(oe,{closeAfterTransition:!0,open:w,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:w,children:e.jsx(K,{sx:Qs,height:"565px",children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(ce,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş y"}),e.jsx(J,{fullWidth:!0,value:x,placeholder:"Tekst",type:"text",name:"Tekst",onChange:b=>h(b.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsxs(n,{direction:"column",mt:2,width:"100%",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(ke,{id:"combo-box-demo",options:ws,multiple:!0,defaultValue:Ne,filterSelectedOptions:!0,getOptionLabel:b=>`${_(b.name)} ${_(b.surname==null?"":b.surname)}`,onChange:Bs,sx:{width:"100%"},renderInput:b=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...b,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsx(n,{width:"100%",direction:"row",children:e.jsx(fe,{dateAdapter:me,localeText:Ge,adapterLocale:"tk",children:e.jsx(Ae,{components:["MobileTimePicker","DatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(Q).isValid()?U(Q):null,onChange:b=>{D(b?U(b).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(Is,{theme:tt,children:e.jsx(Hs,{ampm:!1,defaultValue:U(Q).isValid()?U(Q):null,onChange:b=>{M(b?U(b).format("HH:mm"):null)},views:["hours","minutes"],format:"HH:mm",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"40px",width:"100%",pt:"8px",children:[e.jsx(l,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:g.map((b,se)=>e.jsx(n,{onClick:()=>he(b.color),style:{backgroundColor:b.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:y===b.color?e.jsx(st,{}):""},se))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(X,{onClick:vn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})})]})}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(zr,{openModal:Cn,color:y,events:ct,setEvents:S,setStartDate:b=>W(b),setEndDate:b=>v(b),holidays:ve})})]})})},Nr=()=>{const[o,t]=a.useState(!1),[s,c]=a.useState(!1),[i,d]=a.useState(),w=()=>t(!0),I=()=>t(!1),g=r=>{d(r),c(!0)},A=()=>c(!1),y=te(),F=z(r=>r.standarts.status),j=z(r=>r.standarts.error),k=z(r=>r.standarts.data),p=JSON.parse(localStorage.getItem("CRM_USER")),S=z(r=>r.users.data);k.filter(r=>(r.users&&r.users.length)===S.length);const u=k.filter(r=>(r.users&&r.users.length)!==S.length);a.useEffect(()=>{p.role==="ADMIN"?y(gt(p.id)):y(it(p.id))},[y]);const W=r=>{const v={laborId:r,userId:p.id};y(ft(v))};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(Te,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(l,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama (Aýratyn)"}),p.role==="USER"?"":e.jsxs(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#E7E7FB","&:hover":{background:"#E7E7FB"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:w,children:[e.jsx(Ve,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(mn,{open:o,userId:p.id,handleClose:I})]}),e.jsx(n,{children:F==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):F==="failed"?m.error(j):F==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:u.length==0?e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(_e,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:u.map((r,v)=>e.jsx(_e,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(ot,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...r.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(l,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[r.title,r.users&&r.users.length===S.length?e.jsx(X,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...v==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):r.users.map((x,h)=>e.jsxs(X,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#D9E8FF","&:hover":{background:"#D9E8FF"},gap:"10px",height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...h==0?{ml:3}:{ml:1}},variant:"outlined",children:[x.name," ",x.surname]},h))]}),p.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>g(r),children:e.jsx(Je,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>W(r.id),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})}),e.jsx(Ws,{data:i,openUpdate:s,handleClose:A,userId:p.id})]})]}),e.jsx(l,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:r.description})]})})},v))})})})}):""})]})},Or={data:[],status:"idle",error:null,loading:!1},cs=Z("getSubTasks",async o=>(await E.get(`/subtask/get?userId=${o.userId}&taskId=${o.taskId}`)).data),us=Z("createSubTasks",async o=>{const t={subTasks:o.subTasks};if((await E.post("/subtask/add",t)).data.message==="Secsefully")return m.success("Üstünlikli!"),(await E.get(`/subtask/get?userId=${o.userId}&taskId=${o.taskId}`)).data;m.error("Şowsuz!")}),hs=Z("deleteSubTask",async o=>{if(o.subTaskId,(await E.delete(`/subtask/delete?subTaskId=${o.subTaskId}&taskId=${o.taskId}&permissionId=${o.userId}`)).data.message==="Successfully deleted 1 subtask(s)")return m.success("Üstünlikli üýtgedildi!"),(await E.get(`/subtask/get?userId=${o.userId}&taskId=${o.taskId}`)).data;m.error("Şowsuz!")}),ps=Z("updateSubTask",async o=>{if((await E.put("/subtask/update",o)).data.message==="Secsefully")return m.success("Üstünlikli üýtgedildi!"),(await E.get(`/subtask/get?userId=${o.userId}&taskId=${o.taskId}`)).data;m.error("Şowsuz!")}),Lr=Ee({name:"subTask",initialState:Or,reducers:{},extraReducers:o=>{o.addCase(cs.pending,t=>{t.status="loading..."}).addCase(cs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(cs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(us.pending,t=>{t.status="loading..."}).addCase(us.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(us.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(hs.pending,t=>{t.status="loading..."}).addCase(hs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(hs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ps.pending,t=>{t.status="loading..."}).addCase(ps.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ps.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Hr=Lr.reducer,Qr=()=>{const[o,t]=a.useState(()=>JSON.parse(localStorage.getItem("subTaskId"))||{}),s=z(g=>g.subTask.status),c=z(g=>g.subTask.error),i=z(g=>g.subTask.data.data),d=te();a.useEffect(()=>{const g={taskId:o.id,userId:o.user&&o.user.id};d(cs(g))},[d,o]);const w=(g,A)=>{const y={id:g.id,isCompleted:!A,taskId:o.id,text:g.text,userId:o.user&&o.user.id};d(ps(y))},I=g=>{const A={subTaskId:[g],taskId:o.id,userId:o.user&&o.user.id};g&&d(hs(A))};return e.jsx(K,{children:e.jsx(n,{children:s==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):s==="failed"?m.error(c):s==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:i.length?e.jsx(n,{alignItems:"center",children:i.map((g,A)=>e.jsxs(n,{justifyContent:"space-between",alignItems:"center",direction:"row",width:"50%",sx:{padding:"2px",backgroundColor:"#f0f7ff",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},mt:2,children:[e.jsxs(n,{alignItems:"center",spacing:1,direction:"row",children:[e.jsx($s,{checked:g.isCompleted,onChange:()=>w(g,g.isCompleted)}),e.jsx(l,{sx:{color:"#5F6368",textDecoration:g.isCompleted?"line-through":"none",textAlign:"justify"},children:_(g.text)})]}),e.jsx(H,{onClick:()=>I(g.id),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})})]},g.id))}):e.jsx(l,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Ýumuş ýok"})}):""})})},Jr=({user:o,openUserModal:t,handleCloseUserModal:s})=>{const[c,i]=a.useState(""),[d,w]=a.useState(()=>{const k=localStorage.getItem("tasks");return k?JSON.parse(k):[]}),[I,g]=a.useState(()=>JSON.parse(localStorage.getItem("subTaskId"))),A=te(),y=()=>{const k={subTasks:d,taskId:I.id,userId:I.user&&I.user.id};d.length?(A(us(k)),s(),w([])):m.error("Ýumuş giriziň!")},F=k=>{if(k.preventDefault(),c.trim()===""){m.error("Ýumuş ýazmaly!");return}const p={userId:o,taskId:I.id,text:c,isCompleted:!1},S=[...d,p];w(S),i("")},j=k=>{w(d.filter(p=>{}))};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:t,onClose:()=>{s()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:440,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"end",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(l,{color:"#fff",fontSize:22,children:"Täze ýumuş"}),e.jsx(H,{onClick:()=>{s()},children:e.jsx(ce,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"15px 20px 30px ",spacing:"10px",children:[e.jsxs(n,{p:"15px 20px",spacing:"10px",children:[e.jsx("form",{onSubmit:F,children:e.jsxs(n,{alignItems:"center",spacing:1,justifyContent:"space-between",width:"100%",direction:"row",children:[e.jsx(J,{variant:"outlined",placeholder:"Ýumuşyň ady",autoComplete:"off",value:c,fullWidth:!0,onChange:k=>i(k.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",height:45}}}),e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"35px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:F,children:"Goşmak"})]})}),e.jsx(K,{minHeight:"200px",maxHeight:"200px",sx:{overflow:"scroll",p:1,"&::-webkit-scrollbar":{backgroundColor:"lightblue",width:"5px",borderRadius:"10px",height:"0px"}},children:d.length>0?e.jsx(n,{spacing:1,mt:"10px",children:d.map((k,p)=>e.jsxs(n,{direction:"row",sx:{padding:"2px",backgroundColor:"#f0f7ff",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(l,{textAlign:"center",children:[p+1,". ",_(k.text)]},p),e.jsx(H,{onClick:()=>j(),children:e.jsx("img",{style:{width:20,height:20},src:Ce,alt:""})})]}))}):e.jsx(l,{sx:{mt:2,textAlign:"center"},children:"Ýumuş goşuň!"})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(X,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:y,children:"Ýatda sakla"})})]})]})})})},Vr=()=>{const[o,t]=a.useState(!1);et();const[s,c]=a.useState(()=>JSON.parse(localStorage.getItem("subTaskId"))),i=we();te(),console.log(s);const d=()=>{t(!0)},w=()=>{t(!1)};return e.jsxs(K,{height:"100vh",p:1,width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(Te,{}),e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"97%",borderRadius:"12px",p:"20px",mt:2,boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",sx:{justifyContent:"space-between",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(Ye,{to:"#",onClick:()=>i(-1),style:{textDecoration:"none",color:"#474747",display:"flex",height:"100%",alignItems:"center",gap:"10px",padding:"15px 0"},children:e.jsx(Ts,{})}),e.jsx(l,{width:"100%",textAlign:"center",fontSize:"24px",fontFamily:"DM Sans",fontWeight:"500",children:s&&`${_(s.name)} (${s.user.name} ${s.user.surname})`})]}),e.jsx(n,{alignItems:"center",justifyContent:"center",children:e.jsxs(X,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:d,children:[e.jsx(yo,{}),"Ýumuş"]})})]}),e.jsx(Qr,{}),e.jsx(Jr,{openUserModal:o,handleCloseUserModal:w,user:s.user.id})]})]})};function Gr(){const o=({children:s})=>localStorage.getItem("CRM_USER")?s:e.jsx(Do,{to:"/login",replace:!0});JSON.parse(localStorage.getItem("CRM_USER"));const t=Un([{path:"/login",element:e.jsx(Dr,{})},{path:"/",element:e.jsx(o,{children:e.jsx(No,{})}),children:[{path:"/",element:e.jsx(gr,{})},{path:"/calendar",element:e.jsx(Br,{})},{path:"/document",element:e.jsx(wr,{})},{path:"/account",element:e.jsx(_o,{})},{path:"/standarts/all",element:e.jsx(Ha,{})},{path:"/standarts/specific",element:e.jsx(Nr,{})},{path:"/employees",element:e.jsx(fn,{})},{path:"/employees/:id",element:e.jsx(lr,{})},{path:"/settings",element:e.jsx(Ur,{})},{path:"/employees/regulating",element:e.jsx(vr,{})},{path:"/projects",element:e.jsx(ba,{})},{path:"/chat",element:e.jsx(jr,{})},{path:"/projects/:projectId",element:e.jsx(ir,{})},{path:"/projects/:projectId/:subId",element:e.jsx(Vr,{})}]}]);return e.jsx(zn,{router:t,style:{minHeight:"100vh"}})}const Xr=So({reducer:{auth:zo,imgAccount:Ho,users:ra,getWorkDate:Ia,uploadPDf:Va,getWorkTime:Ca,project:ca,projectDetail:xa,workTime:Tr,standarts:Na,holidays:xr,subTask:Hr}});Wn.createRoot(document.getElementById("root")).render(e.jsx(Pn,{store:Xr,children:e.jsx(Gr,{})}));
