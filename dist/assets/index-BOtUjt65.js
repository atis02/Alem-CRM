import{j as e,r as o,a as en}from"./react-C8N2_Uqo.js";import{c as $n}from"./react-dom-BM-YBbrs.js";import{L as Ne,N as He,u as Ls,c as Kn,R as _n}from"./react-router-dom-CshKM1id.js";import{u as B,a as ne,P as ea}from"./react-redux-DawXcOYH.js";import{d as cn,a as un,b as hn,c as pn,e as dt,f as xn,g as gn,h as ta,i as fn,u as Hs,j as Qs,B as Z,T as J,S as n,I as H,k as sa,A as As,l as d,m as na,D as aa,n as V,o as oa,p as ra,q as ia,s as la,r as De,F as da,t as ks,C as Js,v as he,w as pe,M as X,L as je,x as be,y as ie,z as fe,E as ca,G as oe,H as ue,J as Fe,K as ge,N as Me,O as Te,P as xt,Q as Ze,R as ua,U as ha,V as pa,W as Re,X as mn,Y as xa,Z as Ws,_ as lt,$ as Ve,a0 as Ge,a1 as _,a2 as Xe,a3 as We,a4 as jn,a5 as nt,a6 as zs,a7 as Ue,a8 as ga,a9 as Dt,aa as qe,ab as fa,ac as Vs,ad as ma,ae as ja,af as ba,ag as bn,ah as yn,ai as Ds,aj as Is,ak as Fs,al as vs,am as bt,an as tn,ao as sn,ap as ya,aq as wa,ar as Ca,as as Sa,at as Aa,au as ka,av as nn,aw as Da,ax as Ia,ay as an,az as Fa}from"./@mui-D7-60rvW.js";import{M as wn,S as va,s as Ma,a as Qe}from"./react-pro-sidebar-CyHho_NG.js";import{B as x,Q as ze}from"./react-toastify-BAboZxUk.js";import{c as q,a as Pe,b as Ra}from"./@reduxjs-BJllBblM.js";import{a as Ya}from"./axios-dxcvQi4N.js";import{e as Ie,d as Cn,O as Ta,f as $e,g as Ua}from"./react-router-Coir4WdO.js";import{h as N}from"./moment-Dj_nxvV3.js";import{d as R,a as Ea,b as Wa}from"./dayjs-CIKgHcOH.js";import{l as Sn}from"./socket.io-client-BGdex47s.js";import"./@babel-VeUC4i-0.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-B_55oQtr.js";import"./use-sync-external-store-DCc-q77t.js";import"./@emotion-DJBeIUum.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-YPZU7XtI.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-Bx1I_jDi.js";import"./dom-helpers-D0mFdbeO.js";import"./prop-types-CUCpl1RF.js";import"./@popperjs-BQBsAJpH.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./engine.io-client-BY_6WtMP.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(r){if(r.ep)return;r.ep=!0;const u=s(r);fetch(r.href,u)}})();const za="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPvSURBVHgB7ZpNctowFMffk/PRJTcoOUGSCxA4QcmyoZ3GSafbpCcI3KCsOtM2YzJt0mWSExh6gaYnqI/AsjC11CdjG5FpQDJWCIx/C8aYZ4m/9CQ9PRmgoKCgoODpgmCZT/7ljgNYZY7YBoFVulWiWkvRjwL69BEAYsBD6IUguu9qjTuwiBXBnu+VgG2cUPF1qmHH6GEBAeeidVxrdMACuQs+97+dMsbO0l7Mzo1bOdiHnFmDnKBeLYOz6dFl9d5PfQFwi4BdcPgdDIeBW3P78TMlWHu2A4KXyaZONnsAUUMFEA5cpeyRx2A0JEblC3HHObRNPSGXHvZonALDayqtrNwOOECbhYNOInB2OSTM2ahDyLpu7WUQ3ysD2/TvlT2GhgDwQY3qCDSqmF9wLNZXXVgI0UY+bOoKnVp+7+r3g2LTCiPRuzr1zeXSo9aPejYR2ye32z+qHHQhB6gxD2eKlZANZxundNWcZTrfGJ50NRp3WEtcMRcYnuibRuN/th1kxOtdnk20fij2cxUrMVvSqjpGmQRHrozYHN/h713LAUNeZBIs2HpT+Rq4lVcfwA5dbUsErQbPJBiBpeOFg2iBJbgQPQPbto6dseDP/teqOlEdV+yEgBLGh9JzAg1T7f9hLNhhrJ5c03p7CxaJ1lWa+WG66CC20cJYMCJup9eM3YBl5MxPMfUWNa8rQPxK7lMo2qMWb1EIumuyOhivw1TpFiYB2l8+dySlizty2Q7MiXkPAz5P/8SSLEUqmQOPRfORYoFzGXoaktv28DHxflwJ5WsHDFjaHs5KIXjVKQSvOoXgVacQvOoYCY5SO0+MKJdtgJFgNbVjey88g25yEadntTESPJHaQezAogjDNK3EEE5Mellb8L2kePC2cmB98/8Qbu11F2TSPwJL3Fk/1H1Wv4eVpLjNxJ0uatKOAXuh+5yW4Oj8SEmKMzrsggUTJ/iSjEvVk8lFned0jAQTysSAndxPGDIgE3w0cV4k34WSXJyGlmBExWVCrpX/fQyQ83QeQYQ3Os+YZzwc/EkZB1hWtHpYN6u/SISACx07LcFyghAj0Y+WljWgL/PTR3sNrQDE2mtL573LJp3Znslr2Viz/pBqTx7VOt5rNMEC1jYPFAEFybV6WvGw/fhAWyBay3fb2y2FQzUSm7pOfvGv5JKS/u6ESyh4tE4qE4nDrmNhE8jTSIeBN75jd523mohHPjgFZ1O6alnGvI4D17SkdeW5L00epdjVq8ojdBIIVsNW6+9aev73MjjCB5j5Nk7+L8X8B+sZj0gACZm+TtJW0/DYMyvWe1gl7u0dculoI8KQUWP8ucnjBbaCgoKCgoIl5B9+YXkykKfGbQAAAABJRU5ErkJggg==",An="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMrSURBVHgB7ZjrkdowEMf3zPMjHZw7CB3EqeByH3lNcAXQAU4FyVUAGV4fc6kgpoKQDpwO7iMwPLILsqMQCduSPPHN+Ddzg+SzZP31WO0uQEFBwavmDjQZj8eNcrnslEol+3Q6Nc6d3t29HA6H9X6/X7uu+wIZoiSABl2r1fpYfMA/J+Z1H4V96XQ6E8iA1AJms9nQsqwRFhvpWkKAQj6aFpJYAM66jbM+BvGMr+AywIDVG7iNmvj7VvCuv91ucWe5ARggkQA2+O9YtLnHAf494WAmsn2+XC7t4/HooJjRdVts986EiFgBosHjTD/tdjsvzQGdz+ceExJiRIQV9wLbNjarknV5xH08TGtdsI2HP4/UB3sUbkktbgrAWesDt+dx8G6v13sGRdrtNrV1uUcOGQXQ4KYAfsnJgugMPoRE0Bbkv0FmGRSRCmCzb7NqwLaAEej8wMUIkIBGpVLpgyJSAdjxh7BMsw8GYecnWgW8Vx5AEaEAtqQO9wEfDEPml6s6qttIKAB9myZXXbVarQAMw1bBD+tokRxQQCgAHbNIAG6fNWTHr7CAF54NCggFhF4lIzNvknM9zocZFIi9yPKOUAD589ELlnUP2RHNOq6G0krLViDgOrYhI3Ci3oRlPHdKZ00oAE2cz1UdnZtSBjmJwJnqzWZjTsC1idO5KWVUq1WHq65UQ89bh/hb9JJlDUyvwpWfNQFFpALYTcm7viMwBPpZfIAT6ISZUgG0pHi58D7QcDqdvgdNqA+cfS+s6/pZsRHZYrGgaMxhHyNRyjEBDR6tDQUx4XZcoXvtgAaxFxnOFgUgASs3cABf2RZIDJ0fnIhP1Bb+zmb8AE0SBfUUnOPs/xPU0/Kjb+/L4loufzS4ahuBfXh4BpS3UeK0ChMhS6tQ8uon/Dn097hatuTdFTmI+P9B+EBHROrEFkVqgjRJEs5Godvtfmb9eFemVEmEcm6UCemDOHnFQ0mvZ1H+yIQII8nder3exI83+eQuXPI+ftwNqytCW4AJdETkQgChKiI3AggVEbkSQKQVkTsBhECEK3P4chkTUxbQdDLtv0B3DUtxFhQUFOSU34IkpBx2UQqyAAAAAElFTkSuQmCC",mt=JSON.parse(localStorage.getItem("CRM_USER"));mt&&(cn,un,mt.role==="USER"||mt.role,mt.role==="USER"||mt.role,hn,pn,dt,xn,dt,dt,gn,ta,fn);function Pa(){const[a,t]=o.useState(!1),s=JSON.parse(localStorage.getItem("CRM_USER")),[l,r]=o.useState(!1);JSON.parse(localStorage.getItem("CRM_USER")),B(m=>m.imgAccount.data.img);const u=()=>{r(!l)},f=Hs(),C=Qs(f.breakpoints.down("sm"));return e.jsxs(Z,{height:"75px",width:"100%",backgroundColor:"#F8F9FA",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid lightgray"},children:[e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,sx:{width:{lg:"430px",md:"100%",sm:"100%",xs:"100%"},p:{lg:"0 0 0 30px",xs:"0 5px 0 5px"}},InputProps:{startAdornment:e.jsx("img",{src:An,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",pr:{lg:"30px",md:"30px",sm:"30px",xs:"10px"},children:[e.jsxs(n,{direction:"row",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},alignItems:"center",children:[e.jsx(H,{onClick:()=>t(!a),sx:{color:"#5C9FE3",transition:"all ease-in-out 0.2s","&:hover":{backgroundColor:"#fff"}},children:e.jsx("img",{src:za,style:{width:"30px",height:"30px"},alt:""})}),e.jsx(sa,{sx:{backgroundColor:"transparent",color:"#fff",zIndex:m=>m.zIndex.drawer+1},open:a,onClick:()=>t(!1),children:e.jsx(n,{position:"absolute",minWidth:200,minHeight:100,backgroundColor:"#9FC2A6",top:65,right:150,border:"1px solid #9FC2A6",borderRadius:"10px",alignItems:"center",justifyContent:"center",children:"Sazlamalar ýerinde"})})]}),e.jsxs(Ne,{to:"/account",style:{display:"flex",alignItems:"center",gap:"5px",textDecoration:"none"},children:[e.jsx(H,{sx:{height:60,width:60},children:s.img===null?e.jsx(As,{alt:s.name,src:s.name,sx:{background:"#2F6FD0",height:50,width:50}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${s.img}`,alt:""})}),e.jsxs(n,{direction:"column",alignItems:"center",children:[e.jsxs(d,{color:"#474747",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:16,fontWeight:500,children:[s.name," ",s.surname]}),e.jsx(d,{color:"#A6A6A6",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:13,fontWeight:400,lineHeight:"15px",children:s.position!=null&&s.position.name})]})]}),e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"center",sx:{...C?{display:"flex"}:{display:"none"}},children:e.jsx(H,{onClick:u,sx:{width:24,height:24,p:0},children:e.jsx(na,{sx:{color:"#7989B3"}})})}),e.jsx(aa,{anchor:"right",open:l,onClose:u,sx:{"& .MuiDrawer-paper":{width:"60%",backgroundColor:"transparent",backdropFilter:"blur(5px)"}},children:e.jsx(Z,{className:"mobile-menu",sx:{bg:"#000",height:"100%",padding:"16px 0"},children:e.jsxs(n,{spacing:2,direction:"column",height:"15px",alignItems:"center",children:[e.jsx(V,{onClick:u,children:e.jsx("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false","data-icon":"close",width:"2em",height:"2em",fill:"#fff","aria-hidden":"true",children:e.jsx("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})}),e.jsxs(n,{direction:"column",alignItems:"center",spacing:2,children:[e.jsx(n,{children:e.jsx(wn,{})}),e.jsxs(n,{children:[e.jsxs(V,{sx:{color:"#fff",display:"flex",flexDirection:"column",gap:"1px",fontSize:"12px",fontFamily:"Montserrat"},children:[e.jsx(oa,{sx:{width:30,height:30}}),"Kömek"]}),e.jsxs(V,{sx:{color:"#fff",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontSize:"11px"},children:[e.jsx(ra,{sx:{width:30,height:30}}),"Çykmak"]})]})]})]})})})]})]})}const Ba="http://192.168.1.46:5022/api/",U=Ya.create({baseURL:Ba}),Oa={loading:!1,isAuth:!1,user:null,error:null};q("login",async a=>{try{const t=await U.post("/user/login",a),s=t.data&&t.data.token,l=t.data;return localStorage.setItem("token",JSON.stringify(s)),l}catch{response.data.message==="error client request"?x.error("Ulanyjy tapylmady!"):x.error(response.data.message)}});q("register",async a=>{try{const t=await U.post("/user/registration",a);x.success(t.data.message==="Registration seccseful"?"Üstünlikli":t.message)}catch{x.error(response.data.message)}});const kn=Pe({name:"auth",initialState:Oa,reducers:{loginStart:a=>{a.loading=!0,a.error=null},loginSuccess:(a,t)=>{a.isAuthenticated=!0,a.user=t.payload,a.loading=!1},loginFailure:(a,t)=>{a.loading=!1,a.error=t.payload},logout:a=>{a.isAuthenticated=!1,a.token=null,a.user=null,a.loading=!1},registerStart:a=>{a.loading=!0,a.error=null},registerSuccess:(a,t)=>{a.isAuthenticated=!0,a.token=t.payload.token,a.user=t.payload.user,a.loading=!1},registerFailure:(a,t)=>{a.loading=!1,a.error=t.payload}}}),{loginStart:$i,loginSuccess:Na,loginFailure:La,logout:Ha,registerStart:Ki,registerSuccess:_i,registerFailure:el}=kn.actions,Qa=kn.reducer,Ja="/assets/alemtilsimat-CxmWQcmV.png";function Va(a,t){const[s,l]=o.useState(!1),[r,u]=o.useState(null),f=JSON.parse(localStorage.getItem("CRM_USER")),C=Ie(),m=ne(),S=()=>{m(Ha()),localStorage.removeItem("CRM_USER"),setTimeout(()=>C("/login"),500),x.success("Üstünlikli çykyş!")};Cn();const p=Hs(),A=Qs(p.breakpoints.down("sm"));return e.jsx(e.Fragment,{children:e.jsxs(va,{rootStyles:{[`.${Ma.container}`]:{backgroundColor:"#F8F9FA",color:"#606C8F",maxHeight:"100%",display:"flex",width:"100%",flexDirection:"column",justifyContent:"space-between",padding:"10px !important",borderRight:"1px solid lightgray"}},className:"sidebar",style:{minHeight:"100vh",minWidth:"250px",width:{...A?"150px":"250px"},...A?{display:"none"}:{display:"flex"},border:"none"},children:[e.jsxs(n,{height:"100%",children:[e.jsx(n,{height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"20px 30px",children:e.jsx(Ne,{style:{textDecoration:"none"},to:"/",children:e.jsx(n,{left:"30px",top:"30px",direction:"row",alignItems:"center",children:e.jsx("img",{src:Ja,style:{width:"auto",height:"75px"},alt:""})})})}),e.jsx(n,{height:"100%",justifyContent:"center",children:e.jsxs(wn,{menuItemStyles:{button:{"&:hover":{borderRadius:"7px",backgroundColor:"#E9ECEF",color:"#606C8F !important"}}},children:[e.jsx(Qe,{onClick:()=>{u(null),l(!1)},component:e.jsx(He,{className:"sideNav",to:"/account"}),icon:e.jsx(cn,{}),children:"Profil"}),e.jsx(Qe,{onClick:()=>{u(null),l(!1)},component:e.jsx(He,{className:"sideNav",to:"/document"}),icon:e.jsx(un,{}),children:"Resminama"}),e.jsx(Qe,{onClick:()=>{u(null),l(!1)},component:e.jsx(He,{className:"sideNav",to:f.role==="USER"||f.role==="MODERATOR"?"/":"/calendar"}),icon:e.jsx(hn,{}),children:f.role==="USER"||f.role==="MODERATOR"?"Bellikler":"Kalendar"}),e.jsx(Qe,{onClick:()=>{u(null),l(!1)},component:e.jsx(He,{className:"sideNav",to:"/projects"}),icon:e.jsx(pn,{}),children:"Proýektler"}),e.jsx(Qe,{style:{...f.role!=="USER"?{display:"none"}:{display:"flex"}},icon:e.jsx(dt,{}),component:e.jsx(He,{className:"sideNav",to:"/standarts/specific/user"}),children:"Tertip - düzgünnama"}),e.jsx(Qe,{onClick:()=>{u(null),l(!1)},component:e.jsx(He,{className:"sideNav",to:"/employees"}),icon:e.jsx(gn,{}),style:{...f.role==="USER"?{display:"none"}:{display:"flex"}},children:"Işgärler"}),e.jsx(Qe,{onClick:()=>{u(null),l(!1)},component:e.jsx(He,{className:"sideNav",to:"/chat"}),icon:e.jsx(xn,{}),children:"Söhbetdeşlik"}),e.jsx(Qe,{style:{...f.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(He,{className:"sideNav",to:"/standarts/specific"}),icon:e.jsx(dt,{}),children:"Aýratyn (Tertip-düzgünnama)"}),e.jsx(Qe,{style:{...f.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(He,{className:"sideNav",to:"/standarts/all"}),icon:e.jsx(dt,{}),children:"Ähli işgärler (Tertip-düzgünnama)"}),e.jsx(Qe,{onClick:()=>{u(null),l(!1)},icon:e.jsx(fn,{}),component:e.jsx(He,{className:"sideNav",to:"/settings"}),style:{...f.role==="USER"?{display:"none"}:{display:"flex"}},children:"Sazlamalar"})]})})]}),e.jsxs(n,{direction:"row",alignItems:"center",p:"0 0 50px 18px",children:[e.jsx(ia,{sx:{color:"#606C8F"}}),e.jsx(V,{onClick:S,sx:{color:"#606C8F",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontWeight:500,fontSize:"20px",textTransform:"revert"},children:"Ulgamdan çyk"})]})]})})}function Ga(){return e.jsx(Z,{children:e.jsxs(n,{direction:"row",maxHeight:"100vh",children:[e.jsx(ze,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsx(Va,{}),e.jsxs(n,{direction:"column",width:"100%",children:[e.jsx(Pa,{}),e.jsx(Ta,{})]})]})})}const Xa={updated:!1,data:[],status:"idle",error:null,loading:!1},It=q("updateImg",async a=>{const t=await U.patch("/user/updata/img",a);return t.data?x.success("Üstünlikli döredildi!"):x.error("Şowsuz!"),localStorage.setItem("CRM_USER",JSON.stringify(t.data)),t.data}),qa=Pe({name:"userImg",initialState:Xa,reducers:{},extraReducers:a=>{a.addCase(It.pending,t=>{t.status="loading..."}).addCase(It.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(It.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Za=qa.reducer,Dn=["Duşenbe","Sişenbe","Çarşenbe","Penşenbe","Anna","Şenbe","Ýekşenbe"],$a=["Duş ","Siş ","Çar","Pen","Ann","Şen","Ýek"],In=["Ýanwar","Fewral","Mart","Aprel","Maý","Iýun","Iýul","Awgust","Sentýabr","Oktýabr","Noýabr","Dekabr"],Ps=JSON.parse(localStorage.getItem("CRM_USER"));function se(a){return a&&a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}const Ka={position:"absolute",top:"10%",left:{lg:"35%",md:"35%",sm:"30%",xs:0},transform:"translate(-50%, -50%)",width:{lg:535,md:535,sm:435,xs:"100%"},bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"10px 30px ",height:{lg:575,md:575,sm:435,xs:560}},on={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px ",height:"575px",overflow:"scroll","&::-webkit-scrollbar":{display:"none"}},Bs={position:"absolute",top:"20%",left:"30%",transform:"translate(-50%, -50%)",width:635,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px",height:"350px"},_a=[{position:"center",id:1,title:"№"},{position:"start",id:2,title:"Ady"},{position:"start",id:3,title:"Familiýasy"},{position:"center",id:5,title:"Gelen wagty"},{position:"center",id:6,title:"Giden wagty"},{position:"center",id:7,title:"Gijä galan sagady"},{position:"center",id:8,title:"Bellik"}],eo=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:4,title:"Statusy"},{id:5,title:"Moderator"},{id:6,title:"Iş wagty"},{id:7,title:""}],to=(a,t)=>{if(!a||!t)return[{id:1,title:"Sene"},{id:2,title:"Gelen wagty"},{id:3,title:"Giden wagty"},{id:4,title:"Işlän sagady"},{id:5,title:"Gijä galan wagty"},{id:6,title:"Bellik"}];const s=N(a,"HH:mm:ss").format("HH:mm"),l=N(t,"HH:mm:ss").format("HH:mm");return[{id:1,title:"Sene"},{id:2,title:`Gelen wagty ${s} `},{id:3,title:`Giden wagty ${l}`},{id:4,title:"Işlän sagady"},{id:5,title:"Gijä galan wagty"},{id:6,title:"Bellik"}]};function so(a,t){if(!a.workingHours||typeof a.workingHours!="string")return"Invalid time data";const[s,l]=a.workingHours.split(":");return[{id:1,title:"Jemi:"},{id:2,title:""},{id:3,title:""},{id:4,title:`${s}(sag):${l}(min)`},{id:5,title:`${t}(min)`},{id:6,title:""}]}const no=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],ao=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],Fn=[{id:1,title:"Proýekt"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"}],kt=la(De)(({theme:a})=>({fontFamily:"DM Sans, sans-serif","&:nth-of-type(odd)":{backgroundColor:"#f9fafc"},"&:hover":{backgroundColor:"#f9fafc"}})),Gs={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},Xs=({handleChange:a,selectedLanguages:t})=>e.jsx(da,{children:e.jsx(n,{direction:"row",flexWrap:"wrap",children:["TKM","RUS","ENG","TR","CHN","DEU"].map(s=>e.jsx(ks,{sx:{height:28},control:e.jsx(Js,{checked:t.includes(s),onChange:a,name:s}),label:s},s))})}),oo=({img:a,setFile:t})=>{const s=JSON.parse(localStorage.getItem("CRM_USER")),[l,r]=o.useState(!1),[u,f]=o.useState(s.mail),[C,m]=o.useState(s.phoneNumber),[S,p]=o.useState(s.surname),[A,b]=o.useState(s.name),[F,g]=o.useState(s.position?s.position.id:"ADMIN"),[j,h]=o.useState(s.languages?s.languages.split(","):[]),[M,c]=o.useState(s.whereStudy),[w,I]=o.useState(s.whereLive),[v,z]=o.useState(R(s.birthday)),[i,E]=o.useState([]),$=D=>{g(D.target.value)},O=()=>{const D=new FormData;D.append("file",a),D.append("userId",s.id),a!==null&&te(It(D)),t(null)},te=ne();o.useEffect(()=>{(async()=>{await U.get("/position/get").then(y=>{E(y.data)})})()},[]),B(D=>D.imgAccount.updated);const Q=async D=>{D.preventDefault();try{if(u.trim().length<=0||A.trim().length<=0||u.trim().length<=0||C.trim().length<=0||M.length<10)x.error("Dogry maglumatyňyzy giriziň!");else{r(!0);const y=await U.put("/user/updata/info",{userId:s.id,surname:se(S),name:se(A),mail:u,phoneNumber:C,birthday:v.add(1,"day"),whereStudy:M,whereLive:w,languages:j.join(","),positionId:F}).then(Y=>{Y.data&&(localStorage.setItem("CRM_USER",JSON.stringify(Y.data)),x.success("Maglumat üýtgedildi!"),O(),r(!1))})}}catch(y){x.error(y.message==="Network Error"?"Internet baglanyşygy ýok":y.response.data),r(!1)}},P=D=>{const{name:y,checked:Y}=D.target;console.log(D.target),h(T=>Y?[...T,y]:T.filter(G=>G!==y))};return e.jsx(n,{direction:"column",width:"80%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:Q,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(J,{id:"outlined-basic",type:"text",value:A,name:"password",onChange:D=>b(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:S,onChange:D=>p(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(he,{fullWidth:!0,children:e.jsx(pe,{labelId:"simple-select-label",id:"simple-select",value:F,onChange:$,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:i.map(D=>e.jsx(X,{value:D.id,children:D.name},D.id))})})]})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(je,{dateAdapter:be,sx:{width:"100%",pt:0},children:e.jsx(ie,{value:v,format:"DD.MM.YYYY",onChange:D=>z(D),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:u,onChange:D=>f(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri"}),e.jsx(J,{id:"outlined-basic",type:"text",value:M,error:M.length<10,name:"password",onChange:D=>c(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:w,onChange:D=>I(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:C,onChange:D=>m(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(Xs,{handleChange:P,selectedLanguages:j})]})]})]}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(V,{onClick:Q,disabled:s.name===u&&s.surname===lastName,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:l?e.jsx(n,{alignItems:"center",children:e.jsx(fe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})};function ro(){const a=JSON.parse(localStorage.getItem("CRM_USER"));o.useState(a.mail),o.useState(a.surname),o.useState(a.phoneNumber==null?"+993 66778899":a.phoneNumber),o.useState(a.name),o.useState(a.position==null?"ADMIN":a.position.name),o.useState(a.whereLive),o.useState(!1),o.useState(!1),o.useState(""),o.useState(""),o.useState("");const[t,s]=o.useState(null);o.useState(""),o.useState(!1),B(r=>r.imgAccount.data),B(r=>r.imgAccount.status),B(r=>r.imgAccount.error),ne();const l=r=>{const u=r.target.files[0];u&&s(u)};return e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(ze,{}),e.jsxs(n,{children:[e.jsx(d,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Profil"}),e.jsxs(n,{backgroundColor:"#fff",direction:"column",minHeight:"80vh",borderRadius:"10px",m:"0px 20px 10px 20px",boxShadow:" 0px 0px 5px -2px rgba(0,0,0,0.75)",children:[e.jsxs(n,{alignItems:"center",direction:"column",pt:1,children:[e.jsxs(H,{sx:{"&:hover .file-input-label2":{display:"flex",flexDirection:"column"}},children:[e.jsxs(n,{position:"relative",display:"inline-block",children:[e.jsx("input",{type:"file",onChange:l,id:"file",accept:".img,.jpg,.png",className:"file-input2"}),e.jsx("label",{htmlFor:"file",className:"file-input-label2"})]}),e.jsx(n,{width:70,height:70,borderRadius:"100px",alignItems:"center",justifyContent:"center",bgcolor:"#ECECEE",children:a.img?e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${a.img}`,alt:""}):e.jsx(ca,{sx:{width:23,height:23}})})]}),t!==null?t.name:"",e.jsx(d,{fontSize:30,mb:2,fontWeight:600,children:a.firstName})]}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},justifyContent:"center",children:e.jsx(oo,{img:t,setFile:()=>s(null)})})]})]})]})}const io="/assets/done-DJMmEArB.png",lo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7GSURBVHgB7VwJkBxV3f+9mZ773tls9kjIJiEX8kn4AhbxU7KEw8SvjEgJKh4RLAVEI5YGQUtYwAJBREWFBEpB8QCPilFUUlpFoYXcQTA3Jtkcm0022dnZuXdmutv370nvdM/0zPTszmY21v6q3m73O7p7f/2/3v+9XmAa05jGaQyG0wTyRncHZGc3ZCYiPPQauwoipgCmPIHyw8FuwPIomHyJpnqAt9zLro9+D03GlCZQfigwDxbrC/yorUKPr3MSv4EmwoKpDGb5QWXylA53yY+0vBNNxJQlUP5+YC7Xj9XqeTydx5FIWik6SPKH0URMXQm0sjO0p/F0DgORjFJKsAhNxNQlkJm0z7LsQBMh4DRBZ4tLKVMNU9uJnAZoehgjy/wZNgbX8DhvESTm1jR1g7G1Ji7Rxy/yE+0l+Xk/5OwWdmP6ECYZDSfwV1deac2fKS1gQn4GnzVYq/U9N7A3sMh3qJc/xlI0HilO5H1P9vc8V7OnKItWR2b7Vb1bIqgTDSXw17ddvloUcTdjqEmIx5pBz4w34BEymExsi3VjR2yOma48PpJ/Nn/24RvPu+61HEyiYTbwqa99YC0nb7MZ8ghL/AcnnTzlPr6DcFqzZrpyD8U+vffQ7L/09vaa5qUhBG6+d42PMfkOTp7N7Jh2Z93aMi5YmYR2R133WrE4t/Ums50bQmA6Zl0jA6b0RIXLOopTBbdQ570Yu9Zs1wbFgdJ8I3PqDnfB5vAYjmCobdsbBaevBQHvQsO2dPQosqmYro7H8KZnNw0hUGbMUkrfjAXnY/Fln6o8aPOjOFWYuXg5PIs/Z9iWGTmOV3729dJq07xM2kzEFZxZvQPPVJ0yOEOVmwIzMBFMz0QmiGkCJ4imJROywf/BqYLonInJQtMIHFr6Tfw3YFqFJ4hpAieIaQIniNMmI30q4W2djSNHjj4gM8xnMhJczp7o7Gx7xqjvNIElmL1sNboveD8dflGZXSk/pKv7B46+mM2kV8+dOzeq7T+lVVhOpJD75Z9wqnDmiqtV8srAebzA4XRtkksWsZougSwZg++PP4Z18BCYmEd2zhKkL/wA8nYfUh9ZD/HVbRD3H4bzq5/BZGLe0nei4+wLa3XrGRgY6OG/t6gVTSXQ9fzTCPziPjCpuE/IsetVeLY8if27zoC464BSJ725W1k8yedFJBJJpc7r80AQBORz+bE6FYJg5e1emMXS9igW5p7C0MAsZDtWVu3LEyeXYioQaOvbgcCT9+vII0h54PA/JOQjBfKENRfB9cDNlKNDnktodHhEqXc6nQUCNXUqqM0cgTICex5CRziunLXs+jYiYg7ZWe+pPERCl/a0aTbQ98fHwPL6pYc8z/AffsGKdKSQHHO8vQvuDbeDedxoNHgCGI8O70P/iVfG6vg7QmjvBgj9z1Ycx6zsTe150yTQzlVVC5K8Iy8XyfN2SDyPF8FxVsw0kmR1z9Pt+DCsqwUi75ZoH55IRfB450fx7OHHMSdfcK4WOYvWPfcjxrK5VOd7Spco0nZB2KStaJIE8sVgUS99x96wFMnrlNCxTIJVTKHRIPLuHDmIJ5LHlfP9tiB6Zn0Se4TwWB96Z/69G5jz+PNx/Vj5+62trbu0dU0ikEEsSWS2LpEh8ADB0yaj63wJFq4bYnu3rg85DLJ3lUo+n695ZyJvY+KYrq5PIXEtDqFoN5mYFULb7/a6B5/LFJ5Yvq2ro+Mrpddrmg1MrrxKd25zy5jTI6LzHeLY8kpi5Yd0fVSHUZHAXOVdv6ralpKn4hgX9hXuy3GA+bTVLLDjXrun/8+3tbe3G27kbBqB6Xe9D9kzz9HVCS5ZkTxCduG5yCx/LxqF++P9+OlJtS0DD4OkVAb7LX4sd12B3SxQbJPZdwPnXXMX4+u2RkOb5kQklxeRdd+Fb/MGuF/aApYoGHHJ40dqxRVIrFpLMZduzHgcBoEkrxJ5jlgSo8liHDlg8WCV6314Nr0Z3XKsl1299Y5q125qIC3b7Ih9cB0Sq9dCOHqAnzsghjsUEhsFsnnVJE9Lnoo+LokXui7/9sE1N92Jj6AqpkQyQfIEkJ3/djQadxg4DBXWeBJiImnYtmrbVjxz6w+/bGbjUEMIbLNFwUqsqceaRjNRTW2rkXfpjn9i5c438AzMoSEErpz5RtnialJYghiag2/VcBiVyOvZvQ2XbX8d9aAxKixjaenODuvoCTQD9TgMLUhtL+aSVy9MhzHyY8FgxUaGs0urhOF/IcXzeVR4Dk1/09HJ2Zl1Z6x+h0EgyVs5DvIIpgiUN4buRQYH5IeDHy9reyhA+yb8kiQhnU4rhY6FzDFImWFldqAl0N33S7T9dRU8/34MjQQ5jA3xyg4DcWPyvhDuxv+/+YpOgQIB88mLmiosP9zSyxm4GYWY7Kfyw6GzYHHeBTGzjNO/nqvvu6lBFEVkMoUNkzabDRaLBfNfvBzJ0DKkltwI2T8f/m3fhPvAr5U+/u08DygmkVj0OUwUt0QPcMkbNGyr5jBubDkD14dm42lNHZHXMALlDaFb+c/bdZUMt0DOfIyTN+vkeUVYxAR8J56D7+9/g+QIlamub9cPebBsQ3LhdRgvvhXrr0heNYdxbWgWPt+i39Lo87nqIo9QUYXlB73cs7LPa+tIynI5JYsyq7Q/SV0oFFIKJTpLrqaQl81myyb8nrceQz45hPGAJO878SOGbY4aantzeK6ujogLhYz3MlZDRQLZusRxrra3qudEXDweR5IbYjNZj1IQealUShlPL0LFsUW3IpWzYTRT3y7S1159HQd3vmXcSA6jguR9ikseqa0W45E8FVWdCLtuiL6/eERbRw5BS4BZ0Dgq5GBkqeBUIrPXIt56kXJMBBLJZjAyEsPOHXuwes8J/N9AQtdWy2GsD8/VWR2HwzEuyVNR2wuLwpc4lYOkom63Gx6PR7lpGez8sXxcdf28OMovS2NcLhd8Xh8Em4CcswMn5lyj62O1Vv2sZAwkxapnX7P9GC7pGy6MN+EwdI/stMPhmtindrUDaSG7ELJF+WbXbreXt3v5JeY4+WJCSfY7wm3lfj6dSxellbIpxcsOwZnYjXSg8FWE0+U0TeCJ43pndOm/I0jLEp53GmuGkcMg8rTPM17UlkDJcnvFtg7+9s7xlpNHaOF1/8uzKu3Gb5hJWQSP/FY5Jum2O+wwi8HB8mB5zd4oVkTKbbORw3A4HQ0hj1CVQGX2wbDCsNHLpWWeC2BV4hhqoj4eY8nyRF6AJZ+CVTAneYRodATHB42nie8dSOtINHIYito6G/eFrE6Fla/EbZYv80PKLS3GKForjqxFngrav9/N+25PlDVZ83EseP4iSIIbef8i5AJnIXnmNRDdXYaXIuex6Td/UBbSfX6vocoTiXmrG+fNm48bSsgjO9xI8gh6GygwMhSfVU/JY1JRmrSxHTkJn+mPkgqOhZxMtjilU0MhmrGQFNojrysl03mZIYEkeURePF54EfEYD9J9Hi69+j+Bp96x3tOJRZMseSqqOpHR0dGx6RkFyGMgAuv5TNHKOzu4tGSL6kUxJYFsEXlnFUQsvTQigp2UcAqbNv326THyCOSF49zrhsMhdHS28zjOz6MEF9raZpQF8o1yGEYYXzpLRv0wSXiWx4MpLl1kFz3eQnwWiQxziYuX9aWwqueid8PrrRzHkdRNhuSpqEog2YzyaRnHqIS6QIHzqD7E8HoLa7BmQhePu3yWQPHoqtUXG5JHkksvgK6dzfIMUSZd0V7brRNbmCxlp49L1w/47wX8hvO4fVpANqoMWU5glMd5QZN2cJir7qhebCl0UZF3zEDG+zbk7SElwC6F2+PG8uXn4+WXtyrqHAoFcPElK8ZeAoGe0+kuxJKq6keHT6DKUjH/40W4fJX9pBnoCGQ38HQuMJZAkL/Dwxgn28/VrzyZuo+/1XOF2p6YeOsz3qIhWj3Yd8HTiheuhfMvWIazzl6MkWhMsXXaF0vHbq8bpS87m5fHyCyFTbAg4A/xtRzzIZQRqs+Fvxjli7XyXwwbU/zVvpWubg9JdXdxw582VvnEjB5T5Kkgm9jaFjZFnvL8FcgTmIRgsGXC5CnXqtnDwh7kJF1p2DbIMygJrp5zuRcNaqSRiBvh9ftSFckjrzLcWdy6YeG2iNSaVJCOK/3xynRSLuyToX7kIBgzHxLYrJS6CqNRqE1gzP46fFlK2IUpW0Lhgy6ZQJJIQTKFNlSIr6yoi/lUUFhEBJFjyrrnIOcuxmpEhNYuVgNN++qZ+qkoqG2gIZKnorYL8mVpLhymP57yeVQM007kmWP5gkQakEfxJI2l+I9iPXuqD217C/+9jtTP0Ns3EOQwGk0eofpcuLCItJ6O1XCD1MXQM9e60ckx2gA5MPA7Xn4Pm91WlxrWC5K8YEtrw8kjVE7pK4kE9iP1nCSEYi8KHcYjLWS7aKzP59PFfjP2fQ8sPXlryI10GEaonNK/hntgmd2trSMbdZI82qWp01NK+Q8PDyulNOUvMzvyttCYk9Aicsa1yDAfz0g3/l+gkMMIhqo7jNTwUUwEVUWJ3RDplTeEuauVikQybETUuh7B3AJI7CbupdfQZnej8aN5C96K+LE71oWEvRtLrC/hHV1FaXvxWDd2Hu7nR/cpDrwl7OMOqo4kRQ3INKeuZm54EjY5VL4oJRdcoSnU1EV2/dA98iP8LYrSOi6vX2LXDf/iZNNWXj4hP9jih10eIclSJ+yqvXvktYV8BqdKXB+OYyZOpBxYOfcoXukP46V+moYVtxyLMY+ywNNsWCDvNN/XBNhnhu7hSnqOhrxi27oI7SEaItIoq0KFjofTdg15J2/Gc4NHcl34+c63cfL0+5GCwalBHkGULA+Y7WvanbIbEoOVG1H2xqKZYpxmtwtobfVh1qww/H6+sMRTY9plRDqm+qkAvnb49932cx43279Ru7O28Z/v0lZpCXS7HUrRgkhzufh6MM/S+HyTk6urEzRZeGimELr7w729jbOBpmCV7kOePaWtSoq2MfkWeJxn9ERUX6ntVILne+NCnvVdcc+m8W2RmMY0pnG64j8HvGUSvSq87QAAAABJRU5ErkJggg==",co="/assets/newAdded-CcMvoMMP.png",uo="/assets/newProject-CpnAEvfz.png",ho={data:[],status:"idle",error:null,loading:!1},Ye=q("getUsers",async()=>{const a=JSON.parse(localStorage.getItem("token"));return(await U.get("/user/users",{headers:{Authorization:`Bearer ${a}`}})).data}),Ts=q("updateImg",async a=>{const t=await U.post("/user/updata-img",a);return t.data.message=="User profil photo updated successfully"?x.success("Üstünlikli döredildi!"):x.error("Şowsuz!"),t}),Ft=q("postStatusUser",async a=>{if((await U.patch("/user/updata/status",a)).data.status!==400){const s=await U.get("/user/status");return x.success("Üstünlikli üýtgedildi!"),s.data}else x.error("Şowsuz!")}),po=Pe({name:"users",initialState:ho,reducers:{},extraReducers:a=>{a.addCase(Ye.pending,t=>{t.status="loading..."}).addCase(Ye.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ye.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ts.pending,t=>{t.status="loading..."}).addCase(Ts.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ts.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ft.pending,t=>{t.status="loading..."}).addCase(Ft.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ft.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),xo=po.reducer,go=({openUserModal:a,user:t,handleCloseUserModal:s,setWorkers:l,setSelectedUsers:r,allUsers:u})=>{o.useState([]);const[f,C]=o.useState([]),[m,S]=o.useState("Orta"),[p,A]=o.useState("Başlanmadyk"),[b,F]=o.useState("");o.useState("");const[g,j]=o.useState(null),[h,M]=o.useState(null),[c,w]=o.useState(t),I=i=>{S(i.target.value)},v=i=>{A(i.target.value)};o.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(E=>{C(E.data.data)})})()},[]);const z=()=>{const i={userId:t.length&&t[t.length-1].id,name:b,status:p,priority:m,startDate:R(g).format("YYYY-MM-DD"),endDate:R(h).format("YYYY-MM-DD")};b!==""&&p!=""&&m!==""&&g!==null&&h!==null?(s(t),F(""),l(E=>[...E,i])):x.error("Dogry maglumatyňyzy giriziň!")};return o.useEffect(()=>{t.length&&w(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(ze,{}),e.jsx(oe,{open:t!==void 0>0&&a,onClose:()=>{S(""),A(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{S(""),A(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:i=>{j(i||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:i=>{M(i||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:i=>F(i.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:I,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,onChange:v,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:z,children:"Ýatda sakla"})})]})]})})]})},fo={data:[],status:"idle",error:null,loading:!1},rt=q("getProjects",async()=>(await U.get("/project/get")).data.data),ct=q("getProjectForUser",async a=>(await U.get(`/project/get/user/projects?userId=${a}`)).data.data),vt=q("postNewProject",async a=>((await U.post("/project/create",a)).data?x.success("Üstünlikli!"):x.error("Şowsuz!"),(await U.get("/project/get")).data.data)),Mt=q("updateProject",async a=>((await U.put("/project/updata/project",a)).data?x.success("Üstünlikli!"):x.error("Şowsuz!"),(await U.get("/project/get")).data.data)),yt=q("deleteProject",async a=>{if((await U.delete(`/project/delete/project?projectId=${a.projectId}&responsibleUserId=${a.responsibleUserId}`)).data.message=="Project remove successfully")return x.success("Üstünlikli!"),(await U.get("/project/get")).data.data;x.error("Ýalňyşlyk!")}),mo=Pe({name:"project",initialState:fo,reducers:{},extraReducers:a=>{a.addCase(rt.pending,t=>{t.status="loading..."}).addCase(rt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(rt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ct.pending,t=>{t.status="loading..."}).addCase(ct.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ct.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(vt.pending,t=>{t.status="loading..."}).addCase(vt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(vt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Mt.pending,t=>{t.status="loading..."}).addCase(Mt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Mt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(yt.pending,t=>{t.status="loading..."}).addCase(yt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(yt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),jo=mo.reducer,bo=({open:a,handleClose:t})=>{const[s,l]=o.useState(!1),[r,u]=o.useState("Orta"),[f,C]=o.useState("Başlanmadyk"),[m,S]=o.useState([]),[p,A]=o.useState([]);o.useState("");const[b,F]=o.useState(""),[g,j]=o.useState([]),[h,M]=o.useState(g?g.endDate:""),[c,w]=o.useState(g?g.startDate:"");B(P=>P.users.status);const I=B(P=>P.users.data),v=ne(),z=P=>{u(P.target.value)},i=P=>{C(P.target.value)};o.useEffect(()=>{const P=g.reduce((D,y)=>{const Y=new Date(y.startDate),T=new Date(y.endDate);return(!D.earliestStart||Y<D.earliestStart)&&(D.earliestStart=Y),(!D.latestEnd||T>D.latestEnd)&&(D.latestEnd=T),D},{earliestStart:null,latestEnd:null});w(P.earliestStart),M(P.latestEnd)},[g]);const E=P=>{P.length?(l(!0),A(P)):S(P)},$=P=>{P?(S(D=>D.filter(y=>y.id!==P)),A(D=>D.filter(y=>y.id!==P))):S(newValues),l(!1)};o.useEffect(()=>{v(Ye())},[v]);const O=P=>{F(P.target.value)},te=(P,D)=>{D.length<m.length?(g.filter(y=>!D.some(Y=>Y.id===y.id)),S(D),j(g.filter(y=>D.some(Y=>Y.id!==y.id))),A(p.filter(y=>D.some(Y=>Y.id!==y.id)))):(D||D[0].id)&&(E(D),S(()=>D.map(y=>({id:y.id?y.id:y.userId,name:y.name,surname:y.surname}))))},Q=()=>{const P={name:b,status:f,priority:r,startDate:c,endDate:h,tasks:g};b!=""&&r!=""&&c!==""&&h!=""&&g.length!=0?(v(vt(P)),t(),S([]),j([]),F("")):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:a,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:O,sx:{borderRadius:"8px",height:56}})}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,value:m,fullWidth:!0,isOptionEqualToValue:(P,D)=>P.id===D.id,options:I,getOptionLabel:P=>`${se(P.name)} ${se(P.surname==null?"":P.surname)}`,onChange:te,renderInput:P=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...P,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...P.InputProps,endAdornment:e.jsx(e.Fragment,{children:P.InputProps.endAdornment})}}),popupIcon:e.jsx(Te,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,value:R(c).isValid()?R(c):null,onChange:P=>{w(P?P?R(P).format("YYYY-MM-DD"):R(c):R(c))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,value:R(h).isValid()?R(h):null,onChange:P=>{M(P?P?R(P).format("YYYY-MM-DD"):R(h):R(h))},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,onChange:z,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,onChange:i,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:Q,children:"Ýatda sakla"})})]})]})}),e.jsx(go,{user:p,setSelectedUsers:A,openUserModal:s,handleCloseUserModal:$,setWorkers:j,allUsers:I})]})};function vn(){const[a,t]=o.useState(!1),s=B(b=>b.project.data),l=ne(),r=()=>t(!0),u=()=>t(!1);o.useEffect(()=>{l(rt())},[l]);const f=s.filter(b=>b.status==="Tamamlanan"),C=s.filter(b=>b.status==="Dowam edýän"),m=new Date;m.setDate(m.getDate()-7);const S=s.filter(b=>new Date(b.createdat)>=m),p=s.filter(b=>new Date(b.createdat)>=m).reduce((b,F)=>b+F.completion,0),A=[{id:1,img:io,title:"Tamamlanan",value:f.length,percentage:null,width:3},{id:2,img:lo,title:"Dowam edýän",value:C.length,percentage:`${Math.ceil(p)}%`,width:3},{id:3,img:co,title:"Täze goşulan",value:S.length,percentage:null,width:3},{id:4,img:uo,title:"Täze proýekt",value:null,percentage:null,width:3}];return e.jsxs(xt,{container:!0,spacing:2,children:[A.map((b,F)=>e.jsx(xt,{item:!0,xs:12,sm:12,md:b.width,children:e.jsxs(Ze,{sx:{height:"85px",borderRadius:"12px",display:"flex",justifyContent:"space-around",alignItems:"center",border:"0.5px solid lightgray"},children:[e.jsxs(n,{direction:"row",width:"70%",sx:{...b.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},justifyContent:"center",onClick:b.id==4?r:null,children:[e.jsx(n,{width:60,height:60,borderRadius:"100%",backgroundColor:"#F0F7FF",alignItems:"center",justifyContent:"center",children:e.jsx("img",{src:b.img,alt:"",style:{width:40,height:40}})}),e.jsxs(n,{children:[e.jsx(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,children:b.value}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,children:b.title})]})]}),e.jsxs(n,{mr:2,sx:{...b.percentage==null&&{display:"none"}},children:[e.jsx(ua,{sx:{color:"#00B69B"}}),e.jsx(d,{color:"#00B69B",children:b.percentage})]})]})},F)),e.jsx(bo,{open:a,handleClose:u})]})}const Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANySURBVHgB7ZldThsxEMdnnDyiEk7QjfiQ+lRyA3qCqidglws0PUHCCYB3kmxvwA3KDchbpbaI7QmaPvSJYHcGxatJSdbexkYRyk9I8ZrZXc96xn9/AGzYsBIIgblJ09YrgI8GMQXEhOuMMWNEHN9rffomzwsISFAH7rLs+AHgnBreWmIyMeTEfp6fQyCCOXCbpl2j1JmPbcOYtD0afYYAKAjA1zRNKGR69pq+SkHOvGtovbM3HCL1yAeus/9/QDznUIMABHGggdi3YcMNVVp39i8vr9t5PuG6vcHgiuuEE60tpboQgDAOALy1ZeqJT7bhEq7TWmf2mpw5hgAEcYAafWjL/LWX2TUBxuIygQA8SWJKxh7Fbx/WENS6v5vnp7LuSQ+sa+OZRW176gDAKawpi9rm1IHbLLuxMU5J2DnI8zFE5HuaHqFSXx4bR+q9Oxh0quydSawBfpbGjUYCz4g25rfLxukAddFEPDCI+FRBcZ7YMjXuzmXvdIDCp7BlDDT0VSHfIXt/GcrDYCLKryEyON/LE5e904GH+RDaWWbH+vHj5MTw7yo2RvQAit5fhjsHtC5KY6WW9oAdo6t0xMeGQmi7tEdcvQeaYhZpniOJEdvlu6fTwmXvMxeSXyGByKDIs7bH6s3pAM8i5VAaah6/iLv5ZzvDh/GajdJwVgpK6/EvDvc1E5jxcoCGtlJQps1mApFA8XF8VJjxXQ+UgkKL8gQiIVWYRoxwIQQiHjFiCEkVNmL0q8IvhEQ80lCaQCSkCqOHBjBeDkg1pgX8NkTCROsBocY0IrUhElKFaU1Q+Nzj5YBUY4w4oZP5ZabTOEkMEZPY7qUyf0KG0D/7PK1YamzEx+ks2FtahPe+kBFaEEONaRqRiMsCPPF2QBnzy5ZjqPF0fgRyrsQs3g5ohxrbLY+qbZkqmzmB9FRhpulriA413h8O+/TTr3pGlQ0Nm4mZlU2MEOI9GluOocbymb4qzPiHkNalAwrxOMJI9L4sKXXteY+/A3QsdC3CiPf3exCIx0X+TAP4DIHPFnzv9c6BGZx8Z7MXdWmHIaGEvmDnoCbcg1sAhxQuPVoHH9n6unuztc/IvmVZziEEEaBFzMXBaNStc0/tAw56QRpjB/t/Gs/U7gELKycd1vV55xrFEVMdWLBoDXBFp5Z5O/Ku94YNL5W/nhNKkLkE8qkAAAAASUVORK5CYII=",yo={data:[],status:"idle",error:null,loading:!1},Rt=q("getProjectDetail",async a=>[(await U.get(`/project/id/get?projectId=${a}`)).data.data]),Us=q("getProjectForUser",async a=>[(await U.get(`/project/get/user/projects?userId=${a}`)).data.data]),wt=q("updateProjectForUser",async a=>{if((await U.put("/project/updata/project",a.body)).data.message=="Project updated successfully")return x.success("Üstünlikli!"),(await U.get(`/project/get/user/projects?userId=${a.id}`)).data.data;x.error("Ýalňyşlyk!")}),Yt=q("updateTask",async({body:a,projectID:t})=>((await U.put("/project/updata/task",a)).data?x.success("Üstünlikli!"):x.error("Şowsuz!"),[(await U.get(`/project/id/get?projectId=${t}`)).data.data])),Tt=q("deleteProjectTask",async({body:a,age:t})=>{if((await U.delete(`/project/delete/task?projectId=${a.projectId}&taskId=${a.taskId}&responsibleUserId=${a.responsibleUserId}`)).data.message=="Task remove successfully")return x.success("Üstünlikli!"),[(await U.get(`/project/id/get?projectId=${t}`)).data.data];x.error("Ýalňyşlyk!")}),Ut=q("deleteProjectForUser",async a=>{if((await U.delete(`/project/delete/project?projectId=${a.projectId}&responsibleUserId=${a.responsibleUserId}`)).data.message=="Project remove successfully")return x.success("Üstünlikli!"),(await U.get(`/project/get/user/projects?userId=${a.userId}`)).data.data;x.error("Ýalňyşlyk!")}),Et=q("addNewTask",async({body:a,projectID:t})=>((await U.post("/project/add/task/existing/project",a)).data.message==="Task created"?x.success("Üstünlikli!"):x.error("Şowsuz!"),[(await U.get(`/project/id/get?projectId=${t}`)).data.data])),Ct=q("postNewProjectForUser",async a=>((await U.post("/project/create",a.body)).data?x.success("Üstünlikli!"):x.error("Şowsuz!"),(await U.get(`/project/get/user/projects?userId=${a.userId}`)).data.data)),wo=Pe({name:"project",initialState:yo,reducers:{},extraReducers:a=>{a.addCase(Ct.pending,t=>{t.status="loading..."}).addCase(Ct.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ct.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(wt.pending,t=>{t.status="loading..."}).addCase(wt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(wt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ut.pending,t=>{t.status="loading..."}).addCase(Ut.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ut.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Rt.pending,t=>{t.status="loading..."}).addCase(Rt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Rt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Us.pending,t=>{t.status="loading..."}).addCase(Us.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Us.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Et.pending,t=>{t.status="loading..."}).addCase(Et.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Et.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Yt.pending,t=>{t.status="loading..."}).addCase(Yt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Yt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Tt.pending,t=>{t.status="loading..."}).addCase(Tt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Tt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Co=wo.reducer,So=({openUserModal:a,user:t,handleCloseUserModal:s,setWorkers:l,setSelectedUsers:r})=>{const[u,f]=o.useState(t.user&&t.user.id||""),[C,m]=o.useState([]),[S,p]=o.useState(t.task?t.task.priority:"Pes"),[A,b]=o.useState(t.task?t.task.status:"Başlanmadyk"),[F,g]=o.useState("");o.useState("");const[j,h]=o.useState(t.task&&t.task.startDate||""),[M,c]=o.useState(t.task&&t.task.endDate||""),w=B(Y=>Y.users.data),[I,v]=o.useState([t&&t.user]),[z,i]=o.useState(0),{id:E}=$e(),$=JSON.parse(localStorage.getItem("CRM_USER")),O=ne(),te=Y=>{f(Y.target.value)},Q=Y=>{p(Y.target.value)},P=Y=>{b(Y.target.value)},D=(Y,T)=>{i(T)};o.useEffect(()=>{t&&(g(t.task&&t.task.name||""),p(t.task?t.task.priority:"Pes"),b(t.task?t.task.status:"Başlanmadyk"),h(t.task&&t.task.startDate||""),v(t&&t.user||[]),c(t.task&&t.task.endDate||""),i(t.task&&t.task.completionTask||0),f(t.user&&t.user.id||""))},[t]),o.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(T=>{m(T.data.data)})})()},[]);const y=()=>{const Y={taskId:t.task&&t.task.id,completionTask:z,userId:u||t.user&&t.user.id,name:F,status:A,priority:S,startDate:R(j).format("YYYY-MM-DD"),endDate:R(M).format("YYYY-MM-DD")};F!==""&&A!=""&&S!==""&&j!==null&&M!==null?(O(Yt({body:Y,projectID:E})),s()):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:t!==void 0>0&&a,onClose:()=>{p(""),b(""),s()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,...$.role=="USER"?{height:430}:{height:500},bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t.user&&t.user.name," ",t.user&&t.user.surname]}),e.jsx(H,{onClick:()=>{p(""),b(""),s()},children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(t.task&&t.task.startDate).isValid()?R(t.task&&t.task.startDate):null,onChange:Y=>{h(Y||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(t.task&&t.task.endDate).isValid()?R(t.task&&t.task.endDate):null,onChange:Y=>{c(Y||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt...",autoComplete:"off",value:F,fullWidth:!0,onChange:Y=>g(Y.target.value),sx:{borderRadius:"8px",height:56}}),$.role==="USER"?"":e.jsxs(he,{children:[e.jsx(ge,{id:"age-label",children:"Işgärler"}),e.jsx(pe,{labelId:"age-label",value:u,label:"Işgärler",onChange:te,children:w.map(Y=>e.jsxs(X,{value:Y.id,children:[Y.name," ",Y.surname]},Y.id))})]}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,onChange:Q,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,onChange:P,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsxs(n,{direction:"row",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",width:"40%",children:"Işiň näçe % edildi"}),e.jsx(ha,{color:z==0?"error":"success",value:z,onChange:D,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,marks:!0,max:100})]}),e.jsx(n,{alignItems:"end",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:y,children:"Ýatda sakla"})})]})]})})})},Ao=({open:a,handleClose:t,details:s})=>{o.useState(!1);const[l,r]=o.useState(s?s.priority:"Pes"),[u,f]=o.useState(s?s.status:"Başlanmadyk"),C=JSON.parse(localStorage.getItem("CRM_USER")),[m,S]=o.useState((s==null?void 0:s.name)||""),[p,A]=o.useState(s?s.startdate&&N(s.enddate).format("YYYY-MM-DD"):null),[b,F]=o.useState(s?s.startdate&&N(s.startdate).format("YYYY-MM-DD"):null);B(v=>v.users.status);const g=B(v=>v.users.data);o.useEffect(()=>{s&&(S(s.name||""),r(s.priority||""),f(s.status||""),F(s.startdate||""),A(s.enddate||""))},[s]);const j=ne();o.useState([]);const h=v=>{r(v.target.value)},M=v=>{f(v.target.value)};o.useEffect(()=>{j(Ye())},[j]);const c=v=>{S(v.target.value)},w=(v,z)=>{},I=()=>{const v={userId:C.id,projectId:s&&s.project_id,archived:!1,name:m,status:u,priority:l,startDate:R(b).format("YYYY-MM-DD"),endDate:R(p).format("YYYY-MM-DD")};m!=""&&l!=""&&b!==null&&p!=null?(j(Mt(v)),t()):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:a,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:m,fullWidth:!0,onChange:c,sx:{borderRadius:"8px",height:56}})}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,defaultValue:s&&s.users,fullWidth:!0,options:g,getOptionLabel:v=>`${se(v.name)} ${se(v.surname==null?"":v.surname)}`,disabled:!0,onChange:w,renderInput:v=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...v,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...v.InputProps,endAdornment:e.jsx(e.Fragment,{children:v.InputProps.endAdornment})}}),popupIcon:e.jsx(Te,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(s&&s.startdate).isValid()?R(s&&s.startdate):null,onChange:v=>{F(v?v?R(v).format("YYYY-MM-DD"):R(s&&s.startdate):R(s&&s.startdate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(s&&s.enddate).isValid()?R(s&&s.enddate):null,onChange:v=>{A(v&&v?R(v).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:h,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,onChange:M,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:I,children:"Ýatda sakla"})})]})]})})})};function Os({data:a,value:t}){return e.jsx(pa,{title:t,TransitionComponent:Re,TransitionProps:{timeout:600},sx:{fontSize:25},placement:"right",arrow:!0,children:a})}R.extend(Ea);R.extend(Wa);R.locale("tk");const ko=()=>{const[a,t]=o.useState(null),[s,l]=o.useState(null),[r,u]=o.useState(""),[f,C]=o.useState(!1),[m,S]=o.useState(""),[p,A]=o.useState(),b=B(L=>L.project.status),F=B(L=>L.project.error),g=B(L=>L.project.data);o.useState(g);const j=B(L=>L.users.data),h=B(L=>L.users.status),[M,c]=o.useState(!1),w=()=>c(!0),I=()=>c(!1),[v,z]=o.useState(!1),i=Ie(),E=ne(),$=()=>C(!0),O=()=>C(!1);g.filter(L=>{const ye=R(L.startdate),ee=R(L.enddate);if(!ye.isValid()||!ee.isValid())return!1;const ce=a?R(a,"YYYY-MM-DD"):null,Se=s?R(s,"YYYY-MM-DD"):null;return(!ce||ye.isSameOrAfter(ce))&&(!Se||ee.isSameOrBefore(Se))});const te=b==="succeeded"?g.filter(L=>{const ye=R(L.startdate),ee=R(L.enddate);if(!ye.isValid()||!ee.isValid())return!1;const ce=a?R(a,"YYYY-MM-DD"):null,Se=s?R(s,"YYYY-MM-DD"):null,Ce=(!ce||ye.isSameOrAfter(ce))&&(!Se||ee.isSameOrBefore(Se)),ve=L.name.toLowerCase().includes(r.toLowerCase()),Ee=L.id!==9;return Ce&&ve&&Ee}):[],Q=L=>{S(L.target.value),O()},P=JSON.parse(localStorage.getItem("CRM_USER"));o.useEffect(()=>{E(Ye())},[E]),o.useEffect(()=>{m!==""&&E(ct(m.id))},[E,m]),o.useEffect(()=>{E(rt())},[E]);const D=()=>{l(null),t(null),u(""),S(""),E(rt())},y={p:"0 10px",textAlign:"center",fontFamily:"DM Sans"},Y={p:"0 10px",textAlign:"center",fontFamily:"DM Sans",width:"350px"},T={fontSize:"14px",textAlign:"center",fontFamily:"DM Sans",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},G=L=>{if(L){const ye={projectId:L,responsibleUserId:P.id};E(yt(ye))}},re=()=>{z(!0)},le=()=>{z(!1)},K=mn({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}}),de={modal:{position:"absolute",top:"25%",left:"30%",transform:"translate(-50%, -50%)",width:700,height:400,bgcolor:"background.paper",border:"0.5px solid gray",boxShadow:24,p:"8px 25px",borderRadius:"10px"}};return e.jsx(Z,{mt:1.5,width:"100%",backgroundColor:"#fff",children:e.jsxs(n,{width:"100%",height:"90%",borderRadius:"12px",p:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignContent:"center",justifyContent:"space-between",p:"10px 10px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"80%",alignContent:"center",justifyContent:"center",children:e.jsx(d,{fontFamily:"DM Sans",fontWeight:600,fontSize:18,children:"Proýektleriň mazmuny"})}),e.jsxs(n,{height:"100%",direction:"row",spacing:4,alignItems:"center",justifyContent:"center",children:[e.jsx(V,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray"},onClick:D,children:"Arassala"}),e.jsxs(V,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray",gap:"10px"},onClick:$,children:[e.jsx(xa,{}),"Filter"]}),e.jsx(oe,{disableAutoFocus:!0,open:f,onClose:O,closeAfterTransition:!0,children:e.jsx(Re,{in:f,children:e.jsxs(Z,{sx:de.modal,children:[e.jsx(n,{alignItems:"end",fullWidth:!0,children:e.jsx(H,{onClick:O,children:e.jsx(ue,{sx:{width:28,height:28,color:"#474747"}})})}),e.jsxs(n,{direction:"row",flexWrap:"wrap",children:[e.jsxs(n,{direction:"row",width:"100%",children:[e.jsx(J,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{width:"100%",color:"#000",borderRadius:"40px",mr:"20px",mt:2},onChange:L=>u(L.target.value),value:r,placeholder:"Proýektleriň ady boýunça gözle",InputProps:{sx:{backgroundColor:"#F0F7FF",height:"45px",color:"#000",fontWeight:"500",borderRadius:"40px",padding:"none","& ::placeholder":{color:"#000"}}}}),e.jsx(n,{width:"100%",mt:2,children:e.jsxs(he,{fullWidth:!0,children:[e.jsx(ge,{id:"age-label",shrink:v||!!m,sx:{position:"absolute",top:v||m?0:"50%",left:14,transform:"translateY(-50%)",padding:0,paddingRight:1,margin:0,fontSize:"16px",transition:"all 0.2s ease-in-out",color:"#8b8f94",width:"100%",fontFamily:"DM Sans"},children:"Işgärler"}),e.jsx(pe,{labelId:"age-label",value:m,label:"Işgärler   ",onChange:Q,onFocus:re,onBlur:le,sx:{borderRadius:"20px",backgroundColor:"#F0F7FF",width:"100%",height:45,padding:0,"& .MuiSelect-select":{padding:"10px 14px",display:"flex",alignItems:"center"}},children:h=="succeeded"&&j.map(L=>e.jsxs(X,{value:L,children:[L.name," ",L.surname]},L.id))})]})})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,adapterLocale:"tk",localeText:Gs,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",width:"100%",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(dan)"}),e.jsx(ie,{value:R(a,"YYYY-MM-DD").isValid()?R(a,"YYYY-MM-DD"):null,onChange:L=>{t(L?R(L).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(çenli)"}),e.jsx(Ws,{theme:K,children:e.jsx(ie,{value:R(s,"YYYY-MM-DD").isValid()?R(s,"YYYY-MM-DD"):null,onChange:L=>{l(L?R(L).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})})]})]})})})})]})]})})})]})]}),e.jsxs(n,{children:[b==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):b==="failed"?x.error(F):b==="succeeded"?e.jsx(n,{children:te.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(lt,{children:e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:no.map(L=>e.jsx(_,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:L.title},L.id))})}),e.jsx(Xe,{sx:{cursor:"pointer"},children:te.map((L,ye)=>e.jsxs(kt,{children:[e.jsx(Os,{value:L.name,data:e.jsx(_,{sx:Y,onClick:()=>i(`/projects/${L.project_id?L.project_id:L.id}`),children:e.jsx(d,{sx:T,children:L.name})})}),e.jsxs(_,{onClick:()=>i(`/projects/${L.project_id?L.project_id:L.id}`),sx:y,children:[L.users?L.users[0]?L.users[0].name:"":m.name+" "+m.surname,L.users&&L.users[1]?` , ${L.users[1].name}`:""," ",L.users&&L.users[2]?` , ${L.users[2].name}`:""]}),e.jsxs(_,{onClick:()=>i(`/projects/${L.project_id?L.project_id:L.id}`),sx:y,children:[N(L.startdate).format("DD.MM.YYYY")," -"," ",N(L.enddate).format("DD.MM.YYYY")]}),e.jsx(_,{onClick:()=>i(`/projects/${L.project_id?L.project_id:L.id}`),sx:y,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${L.completion}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.ceil(L.completion)}%`})]})}),e.jsx(_,{onClick:()=>i(`/projects/${L.project_id?L.project_id:L.id}`),sx:{...y},children:L.priority=="Pes"?e.jsx(d,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",border:"0.5px solid gray",children:"Pes"}):L.priority=="Orta"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Orta"}):e.jsx(d,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"0.5px solid #9A93FF",children:"Ýokary"})}),e.jsx(_,{onClick:()=>i(`/projects/${L.project_id?L.project_id:L.id}`),sx:y,children:L.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",border:"0.5px solid #E79124",children:"Dowam edýän"}):L.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",borderRadius:"50px",border:"0.5px solid #FF6A54",color:"#FF6A54",children:L.status})}),e.jsx(_,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>{w(),A(L)},children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>G(L.project_id?L.project_id:L.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]})})]},ye))})]})})}):"",e.jsx(Ao,{open:M,handleClose:I,details:p})]})]})})},Do=({open:a,handleClose:t,details:s})=>{const[l,r]=o.useState(!1),[u,f]=o.useState(s?s.priority:"Pes"),[C,m]=o.useState(s?s.status:"Başlanmadyk"),S=JSON.parse(localStorage.getItem("CRM_USER")),{id:p}=$e();console.log(l);const[A,b]=o.useState((s==null?void 0:s.name)||""),[F,g]=o.useState(s?s.endDate&&N(s.endDate).format("YYYY-MM-DD"):null),[j,h]=o.useState(s?s.startDate&&N(s.startDate).format("YYYY-MM-DD"):null);B(E=>E.users.status);const M=B(E=>E.users.data);o.useEffect(()=>{s&&(b(s.name||""),f(s.priority||""),m(s.status||""),h(s.startDate||""),g(s.endDate||""))},[s]);const c=ne();o.useState([]);const w=E=>{f(E.target.value)},I=E=>{m(E.target.value)},v=E=>{b(E.target.value)},z=(E,$)=>{},i=()=>{const E={userId:S.id,projectId:s&&s.id,archived:!1,name:A,status:C,priority:u,startDate:R(j).format("YYYY-MM-DD"),endDate:R(F).format("YYYY-MM-DD")};A!=""&&u!=""&&j!==null&&F!=null?(c(wt({body:E,id:p})),t()):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:a,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:A,fullWidth:!0,onChange:v,sx:{borderRadius:"8px",height:56}})}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,defaultValue:[S],fullWidth:!0,options:M,getOptionLabel:E=>`${se(E.name)} ${se(E.surname==null?"":E.surname)}`,disabled:!0,onChange:z,renderInput:E=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...E,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...E.InputProps,endAdornment:e.jsx(e.Fragment,{children:E.InputProps.endAdornment})}}),popupIcon:e.jsx(Te,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(s&&s.startDate).isValid()?R(s&&s.startDate):null,onChange:E=>{h(E?E?R(E).format("YYYY-MM-DD"):R(s&&s.startDate):R(s&&s.startDate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(s&&s.endDate).isValid()?R(s&&s.endDate):null,onChange:E=>{g(E&&E?R(E).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,onChange:w,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,onChange:I,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:i,children:"Ýatda sakla"})})]})]})})})},Io=({setProjectName:a})=>{const[t,s]=o.useState(""),[l,r]=o.useState(!1);o.useState([]),$e();const u=B(g=>g.projectDetail.status),f=B(g=>g.projectDetail.error),C=B(g=>g.projectDetail.data);o.useState([C]);const m=ne(),S=JSON.parse(localStorage.getItem("CRM_USER")),p=Ie();o.useEffect(()=>{m(ct(S.id))},[m]),u==="succeeded"&&a(C);const A={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},b=g=>{console.log(g),r(!0),s(g)},F=g=>{if(g){const j={projectId:g,responsibleUserId:S.id};m(yt(j))}};return e.jsxs(n,{children:[u==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):u==="failed"?x.error(f):u==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:C.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(lt,{children:e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Fn.map(g=>e.jsx(_,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:g.title},g.id))})}),e.jsx(Xe,{children:C.map((g,j)=>e.jsxs(kt,{sx:{cursor:"pointer"},children:[e.jsx(_,{onClick:()=>p(`/projects/${g.project_id?g.project_id:g.id}`),sx:{...A,width:"35%"},children:g.name}),e.jsxs(_,{onClick:()=>p(`/projects/${g.project_id?g.project_id:g.id}`),sx:{textAlign:"center"},children:[N(g.startDate).format("DD.MM.YYYY")," -"," ",N(g.endDate).format("DD.MM.YYYY")]}),e.jsx(_,{onClick:()=>p(`/projects/${g.project_id?g.project_id:g.id}`),sx:A,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(g.completion)}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.floor(g.completion)}%`})]})}),e.jsx(_,{onClick:()=>p(`/projects/${g.project_id?g.project_id:g.id}`),sx:{textAlign:"center",width:"15%"},children:g.priority=="Pes"?e.jsx(d,{backgroundColor:"#d4f4fc",borderRadius:"50px",border:"1px solid blue",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):g.priority=="Orta"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",border:"1px solid #29D697",color:"#29D697",children:"Orta"}):e.jsx(d,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"1px solid #9A93FF",children:"Ýokary"})}),e.jsx(_,{onClick:()=>p(`/projects/${g.project_id?g.project_id:g.id}`),sx:{textAlign:"center",width:"15%"},children:g.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",border:"1px solid #E79124",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):g.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"1px solid #29D697 ",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",border:"1px solid #FF6A54 ",children:g.status})}),e.jsx(_,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>b({task:g,user:S}),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>F(g.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]})})]},j))})]})})}):"",e.jsx(Do,{open:l,handleClose:()=>r(!1),details:t==null?void 0:t.task})]})},Mn=({openUserModal:a,user:t,handleCloseUserModal:s,setWorkers:l,setSelectedUsers:r,allUsers:u})=>{o.useState([]);const[f,C]=o.useState([]),[m,S]=o.useState(""),[p,A]=o.useState("Başlanmadyk"),[b,F]=o.useState("");o.useState("");const[g,j]=o.useState(null),[h,M]=o.useState(null),[c,w]=o.useState(t),I=i=>{S(i.target.value)},v=i=>{A(i.target.value)};o.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(E=>{C(E.data.data)})})()},[]);const z=()=>{const i={userId:t.length&&t[t.length-1].id,name:b,status:p,priority:m,startDate:R(g).format("YYYY-MM-DD"),endDate:R(h).format("YYYY-MM-DD")};b!==""&&p!=""&&m!==""&&g!==null&&h!==null?(s(t),S(""),F(""),A(""),l(E=>[...E,i])):x.error("Dogry maglumatyňyzy giriziň!")};return o.useEffect(()=>{t.length&&w(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(ze,{}),e.jsx(oe,{open:t!==void 0>0&&a,onClose:()=>{S(""),A(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{S(""),A(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:i=>{j(i||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:i=>{M(i||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:i=>F(i.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:I,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,onChange:v,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:z,children:"Ýatda sakla"})})]})]})})]})},Fo=({open:a,handleClose:t,userData:s})=>{const[l,r]=o.useState(!1),[u,f]=o.useState("Orta"),[C,m]=o.useState("Başlanmadyk"),[S,p]=o.useState([]),[A,b]=o.useState([]);o.useState("");const[F,g]=o.useState(""),[j,h]=o.useState(""),[M,c]=o.useState("");B(y=>y.users.status);const w=B(y=>y.users.data),I=JSON.parse(localStorage.getItem("CRM_USER")),v=ne(),[z,i]=o.useState([]),E=y=>{f(y.target.value)},$=y=>{m(y.target.value)},O=y=>{y.length?(r(!0),b(y)):p(y)},te=y=>{y?(p(Y=>Y.filter(T=>T.id!==y)),b(Y=>Y.filter(T=>T.id!==y))):p(newValues),r(!1)};o.useEffect(()=>{v(Ye())},[v]);const Q=y=>{g(y.target.value)},P=(y,Y)=>{Y.length<S.length?(z.filter(T=>!Y.some(G=>G.id===T.id)),p(Y),i(z.filter(T=>Y.some(G=>G.id!==T.id))),b(A.filter(T=>Y.some(G=>G.id!==T.id)))):(Y||Y[0].id)&&(O(Y),p(()=>Y.map(T=>({id:T.id?T.id:T.userId,name:T.name,surname:T.surname}))))};console.log(s);const D=()=>{const Y={body:{name:F,status:C,priority:u,startDate:R(M).format("YYYY-MM-DD"),endDate:R(j).format("YYYY-MM-DD"),tasks:[{userId:I.id,name:F,status:C,priority:u,startDate:R(M).format("YYYY-MM-DD"),endDate:R(j).format("YYYY-MM-DD")}]},userId:I.id};F!=""&&u!=""&&M!==""&&j!=""?(v(Ct(Y)),t(),p([]),i([]),g("")):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:a,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:F,fullWidth:!0,onChange:Q,sx:{borderRadius:"8px",height:56}})}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,defaultValue:[I],fullWidth:!0,options:w,getOptionLabel:y=>`${se(y.name)} ${se(y.surname==null?"":y.surname)}`,disabled:!0,onChange:P,renderInput:y=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...y,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...y.InputProps,endAdornment:e.jsx(e.Fragment,{children:y.InputProps.endAdornment})}}),popupIcon:e.jsx(Te,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:y=>{c(y||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:y=>{h(y||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,onChange:E,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,onChange:$,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:D,children:"Ýatda sakla"})})]})]})}),e.jsx(Mn,{user:A,setSelectedUsers:b,openUserModal:l,handleCloseUserModal:te,setWorkers:i,allUsers:w})]})},vo=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState("");B(C=>C.users.data),o.useState(!1);const r=()=>t(!0),u=()=>t(!1);Ie();const f=C=>{l(C)};return e.jsx(Z,{height:"90vh",p:"0 15px",width:"100%",backgroundColor:"#fff",overflow:"auto",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:2,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"100%",children:e.jsx(d,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektler"})}),e.jsxs(V,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:r,children:[e.jsx(Te,{}),"Täze proýekt"]})]}),e.jsx(Io,{setProjectName:f}),e.jsx(Fo,{open:a,handleClose:u})]})})},Mo=()=>{const a=JSON.parse(localStorage.getItem("CRM_USER"));return e.jsx(Z,{height:"100vh",p:"10px",width:"100%",backgroundColor:"#fff",overflow:"auto",children:a.role==="ADMIN"?e.jsxs(e.Fragment,{children:[e.jsx(vn,{}),e.jsx(ko,{})]}):e.jsx(vo,{})})},Rn=({selectedDay:a,setDateNote:t})=>{const l=Cn().pathname==="/employees";return e.jsx(je,{dateAdapter:be,children:e.jsx(ie,{defaultValue:R(a,"DD/MM/YYYY").isValid()?R(a,"DD/MM/YYYY"):null,onChange:r=>{t(r?r.format("YYYY-MM-DD"):null)},format:"DD/MM/YYYY",slotProps:{textField:{InputProps:{sx:{backgroundColor:"#fcfcfc",borderRadius:"40px",color:"#ff730f !important",padding:"0 16px",height:l?45:35,width:190,"&:hover":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #FF9E58"},"& .MuiSvgIcon-root":{color:"#ff730f",opacity:.7},"& .MuiInputBase-input":{color:"#ff730f",fontFamily:"DM Sans"}}}}}})})},Ro={data:[],status:"idle",error:null,loading:!1},Wt=q("getWorkTimeForDay",async a=>(await U.get(`/user/get/users?date=${a}`)).data),Yo=Pe({name:"getWorkTime",initialState:Ro,reducers:{},extraReducers:a=>{a.addCase(Wt.pending,t=>{t.status="loading..."}).addCase(Wt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Wt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),To=Yo.reducer,Uo=()=>{o.useState();const[a,t]=o.useState(""),[s,l]=o.useState("+993"),[r,u]=o.useState(""),[f,C]=o.useState(""),[m,S]=o.useState(""),[p,A]=o.useState("");o.useState("");const[b,F]=o.useState(!1),[g,j]=o.useState(""),[h,M]=o.useState("TKM"),[c,w]=o.useState(""),[I,v]=o.useState(""),[z,i]=o.useState(R()),[E,$]=o.useState([]),O=D=>{j(D.target.value)},te=D=>{M(D.target.value)};ne();const Q=Ie();o.useEffect(()=>{(async()=>{await U.get("/position/get").then(y=>{$(y.data)})})()},[]);const P=async D=>{D.preventDefault();try{if(a.trim().length<=0||p.trim().length<=0)x.error("Dogry maglumatyňyzy giriziň!");else{F(!0);const y=await U.post("/user/registration",{login:r,pass:p,surname:se(f),name:se(m),mail:a,phoneNumber:s,birthday:z,whereStudy:c,whereLive:I,languages:h,role:"USER",positionId:g}).then(Y=>Y.data?(setTimeout(()=>Q("/login"),2e3),x.success("Üstünlikli registrasiýa!"),t(""),l("+993"),u(""),C(""),S(""),A(""),F(!1),w(""),j(""),M(""),v(""),i(R())):"")}}catch(y){x.error(y.message==="Network Error"?"Internet baglanyşygy ýok":y.response.data),F(!1)}};return e.jsxs(n,{width:"100%",height:600,justifyContent:"center",borderRadius:"20px",mt:-5,children:[e.jsx(d,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:P,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Ady",type:"text",value:m,name:"password",onChange:D=>S(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:f,onChange:D=>C(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:r,onChange:D=>u(D.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(he,{fullWidth:!0,children:[e.jsx(ge,{id:"simple-select-label",children:"Wezipe"}),e.jsx(pe,{labelId:"simple-select-label",id:"simple-select",value:g,onChange:O,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:E.map(D=>e.jsx(X,{value:D.id,children:D.name},D.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(je,{dateAdapter:be,sx:{width:"100%",pt:0},children:e.jsx(Fe,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ie,{label:"Doglan senesi",value:z,format:"DD.MM.YYYY",onChange:D=>i(D),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(J,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:a,onChange:D=>t(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:c,name:"password",onChange:D=>w(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:I,onChange:D=>v(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:s,onChange:D=>l(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(he,{fullWidth:!0,children:[e.jsx(ge,{id:"simple-select-label",children:"Dili"}),e.jsxs(pe,{labelId:"simple-select-label",id:"simple-select",value:h,onChange:te,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(X,{value:"ENG",children:"ENG"}),e.jsx(X,{value:"RUS",children:"RUS"}),e.jsx(X,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:p,onChange:D=>A(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:D=>A(D.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:e.jsx(V,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:b?e.jsx(n,{alignItems:"center",children:e.jsx(fe,{sx:{color:"#fff"}})}):"Hasaba almak"})})]})]})},Yn=()=>{o.useState("");const[a,t]=o.useState(!1),s=()=>t(!0),l=()=>t(!1);o.useState(""),o.useState("+993"),o.useState(""),o.useState(""),o.useState(""),o.useState(""),o.useState(!1);const r=B(c=>c.getWorkTime.status),u=B(c=>c.getWorkTime.error),f=B(c=>c.getWorkTime.data),[C,m]=o.useState(""),[S,p]=o.useState(R()),A=ne(),b=Ie();JSON.parse(localStorage.getItem("CRM_USER")),o.useEffect(()=>{A(Wt(R(S).format("YYYY-MM-DD")))},[S,A]);const F=r==="succeeded"?f.users&&f.users.filter(c=>c.id!==9&&c.name.toLowerCase().includes(C.toLowerCase())):[],g={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},j={p:1,textAlign:"center",fontFamily:"DM Sans"},h=()=>e.jsx(d,{color:"tomato",fontSize:14,children:"-"});N().set({year:2024,month:8,date:28,hour:9,minute:0,second:0,millisecond:0}).toISOString();const M=(c,w)=>{if(!w||typeof w!="string")return null;const I=new Date(c),v=new Date(c),[z,i]=w.split(":").map(Number);if(v.setHours(z,i,0,0),I>v){const E=I-v;return Math.floor(E/(1e3*60))}return null};return e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 30px 8px 0",children:[e.jsx(d,{p:"0px 5px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Işgärler"}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(J,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{color:"#000",minWidth:"150px",borderRadius:"40px",mr:"20px"},onChange:c=>m(c.target.value),value:C,placeholder:"Ady boýunça gözle",InputProps:{sx:{height:"45px",color:"#000",fontWeight:"600",borderRadius:"40px",padding:"none"}}}),e.jsx(Rn,{selectedDay:S,setDateNote:p}),e.jsxs(V,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:s,children:[e.jsx(jn,{}),"Işgär goşmak"]})]})]}),e.jsxs(n,{backgroundColor:"#fff",minHeight:"78vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",children:[e.jsx(ze,{}),e.jsx(oe,{open:a,onClose:l,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(Z,{sx:g,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:l,children:"X"})}),e.jsx(Uo,{})]})})]}),e.jsx(n,{children:r==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(fe,{}),"Loading..."]}):r==="failed"?x.error(u):r==="succeeded"?e.jsx(n,{children:F===void 0?e.jsx(d,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(lt,{sx:{height:"77vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:_a.map(c=>e.jsx(_,{sx:{color:"#222222",fontWeight:500,fontSize:18,textAlign:c.position},children:c.title},c.id))})}),e.jsx(Xe,{children:F.map((c,w)=>{var I,v;return e.jsxs(kt,{onClick:()=>b(`/employees/${c.id}?date=${S}`),style:{cursor:"pointer"},children:[e.jsx(_,{sx:j,children:w+1}),e.jsx(_,{sx:{...j,textAlign:"start"},children:c.name}),e.jsx(_,{sx:{...j,textAlign:"start",pl:3},children:c.surname}),e.jsx(_,{sx:j,children:c.employeeRegistrationTimes.length>0&&((I=c.employeeRegistrationTimes[0])!=null&&I.comeTime)?R(c.employeeRegistrationTimes[0].comeTime).format("HH:mm"):e.jsx(h,{})}),e.jsx(_,{sx:j,children:c.employeeRegistrationTimes&&c.employeeRegistrationTimes.length>0&&c.employeeRegistrationTimes[c.employeeRegistrationTimes.length-1]?c.employeeRegistrationTimes[c.employeeRegistrationTimes.length-1].leaveTime===null?"Bellik edilmedi":R(c.employeeRegistrationTimes[c.employeeRegistrationTimes.length-1].leaveTime).format("HH:mm"):e.jsx(h,{})}),e.jsx(_,{sx:{...j,color:"tomato"},children:(()=>{var i,E;const z=M((i=c.employeeRegistrationTimes[0])==null?void 0:i.comeTime,((E=c==null?void 0:c.workTime)==null?void 0:E.startTime)||null);return z?`${Math.floor(z/60)>0?`${Math.floor(z/60)}(sag):`:""}${z%60}(min)`:"-"})()}),e.jsx(_,{sx:{maxWidth:"230px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:c.employeeRegistrationTimes.length>0&&((v=c.employeeRegistrationTimes[0])!=null&&v.note)?c.employeeRegistrationTimes[0].note:""},w)]},c.id)})})]})})}):""})]})]})},Eo={employeerTime:[],data:[],adminNotes:[],adminNote:[],status:"idle",statusAdminNote:"idle",statusMonth:"idle",errorAdminNote:"idle",error:null,errorMonth:null,loading:!1,setIsCame:JSON.parse(localStorage.getItem("iscame"))},Je=q("getUserMonthWorkTime",async a=>{const t=await U.get(`/time/work/user?userId=${a.userId}&date=${a.date}`);return t.data.status===404&&x.error(t.data.message),t.data}),zt=q("updateUserRole",async a=>{const t=await U.patch("/user/updata/role",a);if(console.log(t.data),t.data==`User ID ${a.userId} role updated successfully.`){const s=await U.get("/user/status");return x.success("Üstünlikli üýtgedildi!"),s.data}else x.error("Şowsuz!")}),Pt=q("getUserDayWorkTime",async a=>{const t=await U.get(`time/for/day?userId=${a.userId}&date=${a.date}`);return t.data.status===404&&x.error(t.data.message),t.data}),Bt=q("postComeTime",async a=>{const t={userId:a.userId,comeStatus:a.comeStatus};return(await U.post("/time/come",t)).data.messagge=="Saved come time work"?x.success("Üstünlikli!"):x.error("Şowsuz!"),(await U.get(`time/for/day?userId=${a.userId}&date=${a.userGetTime.date}`)).data}),Ot=q("postLeaveTime",async a=>{const t={userId:a.userId,leaveStatus:a.leaveStatus};return(await U.post("/time/leave",t)).data.status==200?x.success("Üstünlikli!"):x.error("Şowsuz!"),(await U.get(`time/for/day?userId=${a.userId}&date=${a.userGetTime.date}`)).data}),Nt=q("noteUser",async a=>{const t={id:a.id,note:a.note,color:a.color};(await U.patch("/time/updata/note",t)).data.message==" Note updated successfully "?x.success("Üstünlikli!"):x.error("Şowsuz!");const r={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:N().format("YYYY-MM-DD")},u=await U.get(`time/work/user?userId=${r.userId}&date=${r.date}`);return u.data.status===404&&x.error(u.data.message),u.data}),Lt=q("noteUpdate",async a=>{const t={id:a.id,note:a.note,color:a.color};(await U.patch("/time/updata/note",t)).data.message==" Note updated successfully "?x.success("Üstünlikli!"):x.error("Şowsuz!");const r={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:N().format("YYYY-MM-DD")},u=await U.get(`time/work/user?userId=${r.userId}&date=${r.date}`);return u.data.status===404&&x.error(u.data.message),u.data}),Ht=q("getAdminNotes",async a=>{const t=await U.get(`/warning/get/share?startDate=${a.startDate}&endDate=${a.endDate}&userId=${a.userId}`);return t.data.status===404&&x.error(t.data.message),t.data}),Qt=q("adminNotesOfMonth",async a=>{const t=await U.get(`/warning/get?startDate=${a.startDate}&endDate=${a.endDate}`);return t.data.status===404&&x.error(t.data.message),t.data}),Jt=q("postAdminNote",async a=>{const t={title:a.title,date:new Date(`${a.date} ${a.dateHour}`).toJSON(),color:a.color,users:a.users};t.title!==""&&t.date!==null&&t.users.length!==0?(await U.post("/warning/post",t)).data=="OK"?x.success("Üstünlikli!"):x.error("Şowsuz!"):x.error("Maglumatlary giriziň");const s=await U.get(`/warning/get?startDate=${a.startDate}&endDate=${a.endDate}`);return s.data.status===404&&x.error(s.data.message),s.data}),Vt=q("getAdminNoteForProject",async a=>{const t=await U.get(`/note/my/sent/notes?userId=${a}`);return t.data.status===404&&x.error(t.data.message),t.data}),Gt=q("postAdminNotes",async a=>{a.content!==""&&a.userId!==""?(await U.post("/note/create",a)).data.message=="OK"?x.success("Üstünlikli!"):x.error("Şowsuz!"):x.error("Maglumatlary giriziň");const t=await U.get(`/note/my/sent/notes?userId=${a.authorId}`);return t.data.status===404&&x.error(t.data.message),t.data}),Xt=q("updateAdminNote",async a=>{a.content!==""&&a.userId!==""?(await U.patch("/note/updata",a)).data.message=="Successfully"?x.success("Üstünlikli!"):x.error("Şowsuz!"):x.error("Maglumatlary giriziň");const t=await U.get(`/note/my/sent/notes?userId=${a.authorId}`);return t.data.status===404&&x.error(t.data.message),t.data}),qt=q("deleteAdminNote",async a=>{(await U.delete(`/warning/remove?id=${a.id}`)).data=="OK"?x.success("Üstünlikli!"):x.error("Şowsuz!");const s=await U.get(`/warning/get?startDate=${a.startDate}&endDate=${a.endDate}`);return s.data.status===404&&x.error(s.data.message),s.data}),Zt=q("deleteAdminNotes",async a=>{(await U.delete(`/note/delete?authorId=${a.authorId}&noteId=${a.id}`)).data.message=="Successfully"?x.success("Üstünlikli!"):x.error("Şowsuz!");const s=await U.get(`/note/my/sent/notes?userId=${a.authorId}`);return s.data.status===404&&x.error(s.data.message),s.data}),$t=q("updateAdminNotes",async a=>{const t={warningId:a.noteId,title:a.content,date:new Date(`${a.date} ${a.dateHour}`).toJSON(),color:a.color,users:a.users};(await U.put("/warning/update",t)).data.msg=="OK"?x.success("Üstünlikli!"):x.error("Şowsuz!");const l=await U.get(`warning/get?startDate=${a.startDate}&endDate=${a.endDate}`);return l.data.status===404&&x.error(l.data.message),l.data}),Kt=q("getUserNoteForProject",async a=>{const t=await U.get(`/note/received/notes?userId=${a}`);return t.data.status===404&&x.error(t.data.message),t.data}),_t=q("deleteUserNote",async a=>{(await U.delete(`/time/remove/note?id=${a.id}&userId=${a.userId}`)).data.msg=="Successfully"?x.success("Üstünlikli!"):x.error("Şowsuz!"),a.id,N().format("YYYY-MM-DD");const s=await U.get(`/time/work/user?userId=${a.userId}&date=${a.date}`);return s.data.status===404&&x.error(s.data.message),s.data}),Wo=q("postUserStatus",async({body:a,data:t})=>{if((await U.patch("/user/updata/status",t)).data.status===200){const l=await U.get(`/time/work/user?userId=${a.userId}&date=${a.date}`);return l.data.status===404&&x.error(l.data.message),l.data}else x.error("Ýalňyşlyk!")}),zo=Pe({name:"WorkTimes",initialState:Eo,reducers:{},extraReducers:a=>{a.addCase(Je.pending,t=>{t.statusMonth="loading..."}).addCase(Je.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(Je.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(zt.pending,t=>{t.statusMonth="loading..."}).addCase(zt.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(zt.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(Ht.pending,t=>{t.statusAdminNote="loading..."}).addCase(Ht.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Ht.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Qt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Qt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Qt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Jt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Jt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Jt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Gt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Gt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Gt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Xt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Xt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Xt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Vt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Vt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Vt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Kt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Kt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Kt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Zt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Zt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Zt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase($t.pending,t=>{t.statusAdminNote="loading..."}).addCase($t.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase($t.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(qt.pending,t=>{t.statusAdminNote="loading..."}).addCase(qt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(qt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Nt.pending,t=>{t.status="loading..."}).addCase(Nt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(Nt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(_t.pending,t=>{t.status="loading..."}).addCase(_t.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(_t.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Lt.pending,t=>{t.status="loading..."}).addCase(Lt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(Lt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Pt.pending,t=>{t.status="loading..."}).addCase(Pt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Pt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Bt.pending,t=>{t.status="loading..."}).addCase(Bt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!1)}).addCase(Bt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ot.pending,t=>{t.status="loading..."}).addCase(Ot.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!0)}).addCase(Ot.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Po=zo.reducer,Bo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHcSURBVHgB7ZiBccIwDEV/mYARNAIjZIN2g3oENsAbQCeADWCDZAO6AWxAO0EbX8IhC9sJSexwXN6djhCHWJHlLwVg4sV5w2NkpVF9XJR2xpOwLO1S2h+zE27OjgaVdoTtGLcNRoRQRYk7ZKJ4EN/nGIk9bOc0cyYX55OjYDunxPgSdhSTwyO0dYybSPJNkyEhc9jRI891ml2TIyELNvExcJ18kAwRmME98ZVf+PlBJdZXPhCBGfrxxY7fkQiCXS1CcJ08IBE8t0ISwqUmtJmicG6Y2JzjMqORGF7Olo5xXmWa0iAKfPmkxrXVyagQ/A0BHxvNQUOoIeBjSasIRzYEPIq82hhbB+5DqHLWVKUtBoy4bAi0GJcys3Lcw9WJX6OuMAAyiiTGd3C/BhDsNPDZqXaU0APe8ruah41jYhm1AlWt3sHvbOflb5Nv2jOpcVTqKNWOnuCOaKdXiDb5RrAFvkBzRJTDUYWOyKX07VzC40uVI1y5WrODe1P0hUcxQ0807vNshe6sYD/wIGgMIxmfGCj/XBDcO9HYvp5s4fmt2alr3D9gFBT8jnL9zGvzyQshMqq0bzRXD2lFCuc4hEoqjCZeGhzLmm726P+DXTD5RrhVCPO6eq4/Jyaenn/GPB3kZCDDsgAAAABJRU5ErkJggg==",Oo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHXSURBVHgB7ZfxccIgFId/eg7gCIxgN0g3aCeoI+gEkgnsBrYTtBvYTmCdwGxQN7C8Ey6AJHlgmvzDd/fuTA4en4QHCZDJZDL/ysS7nqvYqhAYh0rFWsW5qcFKxWXkWNlCU09wjvFxHGbgQdP+g35ZqNggclIkwtP+qxP2RaFzhsaSdsNpS5JPXBctQf/yoOIF90M59qhnrtJjBWkTPKp4RC1JvOH6WFJZ6RyGSo9xbOrQJmgnqKx7EmmS1GfbkfuGLkE7kV0kEnGSG7hri3I9oEOO4AgCtaS9VqSKHaPvDq7ct851ZvRlC0InfFbxbt1bqvhAeKuge3vdxkB9CzDlYgVtqdK6ftIiArdyhXWvhCvLIkWQkHAlF6glKQ5w980S3v7GhXuShLh41wJXSfO7rS2bVEG/Kg2iob1pWyKSlEfMqUpTUClV7xAj2FaVX6g33Qr1lhRT9Swkwoe2OYsbD/WIvBedSzDGZc2gwP1VKdFc9a10CYpAojXStgwJV1KAKeknMVNNa+UE99EscT9LL+dJj8VaOhLNL6wF+mMB5gsrZx+kLcM8mgL9IVW8djWaBWR8zKfoULS+SJBM09QPEbQehS00CUhSA4nhP94rPW6FTCaTGY4/Fb/NMOfMGLwAAAAASUVORK5CYII=",No="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgB7ZjLccIwFEVPPgVQgkogHWiZXShBy+xCB9BBSAW4g6QD6IB0AKkAOiDSYE+ejWRb+EdmODNvBluydO13n2wEN5rxEDg/svFq4zk93nFlbGwcRSxtKK6ECXlxVyd0Sligi62NGQMy5k/MPj1e4xdqGIiVEDJNzxlOonxCFT0j07wqtBn8Qnv156gw+ajQrmzM8Xt0Rk9CfWkuomwkDOTPsjQXUYT9aegIl9a9mGxc4xqDX6i7QUUHfIlJ5hHXub69FJImvybGoPD7Myuk1pBp1sSj6LiQFmLQBZejCReSpgGay9PswxDhzzvq4YRli/WHjUNFf9eeVPSbc+7FnY2nGuN7BztGxrLGuIpzfxrZ4Z56jOiGQ9W5R+rxIn4nNn6onjgpaXc3/MbpbSVvfmfjm0g0+YpriiG/dGWx5sJFPCHOVyE0+Q8QKUzTALkkaOJRAWHuKRoaIv9AxabXees9IGxOS4WXEP8WcRPP8PtsSYsrQvGrWtW4xj3xLR34zIcRE2wq+mr8Pmv8ni1DTmgCfZSNT/w+m9IhivL0hnzWagGUYcj7RzLFXwDuSSp6Qm4emfScpscCKEMVBLjKDBXAhAGo2jzqzWchDGFxiyGFZTgBxQ3MNQPtC5Z98htOotacV/KNf8Mv2zwspa7JlfkAAAAASUVORK5CYII=",Lo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgB7VgxdtNAEP0CDuAjiBPEdO5QOsrkBIQbyCVVyAUs5QQ4JwA6uojOpXMCdATRQWX+JxJPXtYSO7JFwvN/b63dWY31NbMzOyvgiP8cUcjN8/n89WazOWP3Js/zj2PoPkMY8iiKJrwmbEEErbo7LZimqf5sunVzFN02fVrjFAHo0S1p1dKrBz+5lH94ye4EI4Gk5ySZu/I/CJJbTHJfMT4qknxOjlVb6FuDcVuJ7a41ftnqf0EYdume4N5TzZIq0EPwN/hGd3yjpBkzEjdNP8uyBAHYpUu51mayS+8JwlDoh8QLhKOw6AYR5Juf8gEv2D1HIKy6oXkQdPkaRlh0Owkymk8Y1bc4LKZdk30WnJBkgn+I0CAZHX0WXCvD44CghzJ0uLkvD37jwi5wQDAPVl3zj97FXjCy5ZIzz1ThWpz3XuhK+RIGBBNUGVaXTr5K55Lz2vBLFR0cv2+yAMcmkiYL9kEWJrEP2C48YhgQvAZVDmnLYrvicGtnkEzW85AzwxQkdfW7xHZ6kKwpOCvsCUOi2F2DMZuqcFnyvG7XGAgzQW38JPCG3U+NjK7VaWEiC9cnt8GWNBNUlCoqWUYp3bTX4hR7hDUPZrW1lrg/ErRJ7W39CSaCIldfL5yp9ZB60QeTi0nsyiMuFRiOrG3NEgaYCC4Wi3d1Lrxmu1HFo7F7+NY5Vy+jNtpW13q4XJn23aeXwQA87mrmoZ5J5Dot7l+n/ZHPJKUreOoKVqvV99ls9oPEXmE8VHzeWyb9z+5E1+e3GHuqSP4Ca/ej0RFHPBT8BA8hA+XxDhf8AAAAAElFTkSuQmCC",Ho="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANkSURBVHgB7VexUhsxEN1zUrh0OrocXbpAZ2hiuqSK/wCno8OmSwV8gc0X4FQpAx2pclSQKk5HqhxdyqNLGsh7zMqWZcn24WhC4TejkXS70j1pd6WVyBJL/F8kZZTb7XYDVardrNfr5RIZcxEEsXaSJPto1qzP+d3d3VZskk+nCcErBbFPaK55xClVtERDJSRQcl9knFyBcmo6kG9DryYRESRYqVS6MvI3kjmESVe73W4T3Uw/k1zUHfSaGLvSApmm6aP9DsT6Vv8UhBtso95FdSCR4N1Bms5q9xEIfUeF/ULbNY3uKJggqD7VMP3b29tDVweECxA/sj7tSyT4djC12oPQMQLiPdOmuWPtoo/gMCrhazehgdxFGQUL0ZQIqMgCwAKGZsYuvpUI8BHMrZ8+lymAvGt1v0sE+AgWVjt4CPP6E8tfsZtRzsMJgupb19rlEZLKJLlU72ZD7jDWnez1QfxwYHUnnF9vGbO7OcgdSCSEgiSz2mPOz3PSuWW2JCJCBE9MA6ZccxKCqMmBCy9B9adMu2MJgSMjjiUiggmrJqnmGCmYyWgAUbYG2TejCxlEvU5gnhRVF/qp+napgHoSEtTr9StMuoNmVcufy8vLjDLUvyC/gfz1/SqTBN06v5/L5CI/0k3QXWGN0oZuAyWB/kBmYGrK79nFdXv1nU6nj2rbGpJbQXNsUrIpoD6TkeD7ZuabBCRoSpNVD5AXrjtyJg27zjC6gh1M53QDEGb0b/v+A3lfPOYPmtgApviqpiZW0K/BNJ+NHO2zzc1NLrRhDasaohj7Hovagd4VygnGf8C3Z7qA4SLU/E3Kofd7boLz+NvFxUWmP15F94V+5q69AbkzZ76CRFGOMOZa/dMQZf3D9s2538WuKUORa67GMpGKufk4a+i8HU5cmqBO1BdPUCx6D2Pen6KJh86XGdlME9ugaRx/q8FELZiq6h4x82Jvb49Jh7k6c9cqpQgS9DeHZJXHycbGBoneoNDHinnmws7RGkNz0rzu2VjKxDash33qyvAj3uV84PNNM/CMZTDs89C2PucIqFVX98EErZ+1NDdMp6gNQPp+V3nleXSDvrwwQQMlyh15KeXA46j14JukLPSYaeo190rC6RmJHdgR68M/J+hC/S2VEVGaOjeZ0RJLPHb8BR8GmX2wDLX0AAAAAElFTkSuQmCC",Qo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPcSURBVHgB7Vg7UhtBEG3JThx5b+DlBEBGkRifAPkEWjJnWhE5Q1wASSdgFTpChI5YIsgQJ9ByAit0BH5P20uNxPR+VC5XuUqvajS70709b3pmenokssUWW/zfaMmGiOM4QLWH0mm1Wp9RhyiBihcvLy8z1BnK9Wg0msqGaExQifVAKnYJ6fNC3wOnjchAOEE9AdlMGqDdRBnk6K05ygCvj+i0j7KjnYu+9/U5QdlHOeE7v0G5gY1IGqC2B2F4qF6jN07giVTbQyWdXFxcLMn0+/0Rqh70vjh6EXTO8BiiHc2jfp1+a3nw9PT0UslN6JWiU8UVST8/P58XDdAZSD7FZ0Ubvll6FHamtEWbNbqWd1UK9ByqbzB+jk7i+/v7347sCJ19h2zsbgTqHB4efsBjdHBwcIv3rGi/u7v7AVkL38SQBWj7WdZ/u4IcpyXmqEFg4FPROlkXwKOc5hUvFsBSGKBKaZvrWjYhqGuLxjl9fUN+zLXn25loI7lbyI90568AHvzKAUB+6ZNXEmy3213JF/S5ERqO+APy15YNbgZ9jMQzANqWPBTFlg1zF2MnzpVg4v0QnlE5197Cp4NBBpBzCrnzU8NOJHlg31Gvr+C97yNdF6FjwATk5hpCp8VjWGGnOJVSqUMQ6GgH++L3ToAOH7j+3PDigwb1LmOi5EffOkj+RvtMpQ5BfPCJxODymU/O8MIa5B6rji7ozmCP61kM3QzL6UnP8zewNskeRvwoNl7PWKlGMQNhic7cklsEOYULseEmCVXIqhTgjCfH5graJR/9kn+HxnGQntmRaoQ1dCq9jdn6aMktgpluFAvZWudlCLUuWw7mmvfuYijziOrpbs3Exi6PPCnHXkHQ0OUgAwT1udQlCPB06Gl8MqHBN5IaYNwsk1tHpkWQ8W+ZssObE6PD4h5yDZ2y9cUYyKPutkxu3Vu8BHkmIqEcwyizmRnT33Ud5kkwPtTsOPXZ0SOzqwlH4pFHKvc6gTDDTJHPMeUy0qFixF2xUZzTqbwl95rOiSefrCSo6RDvGCR35ZFnkiedHd8AlEDXyhexKZipl6Vz5QSVBL00Zmrlu0Mw1Rcjn9N8UnzJBG0xDdOrQiIlqHWrw2GeoKI3psyu3RFr3hi4+Zx6j9nOtLjpaTvDyaXmiJPhcBhV9V3rVqeGuGk663dbZxm4d48B21zv6Z36ofBcHXJEo38W3Lut5KGDU5xqPOyhRGhr8Z6h6Xwi+UY51gx8oXfqad0+N/nrI8Q0kcjyzqLNVX99MBqMGRl8af1fJbhGtqMpf4iyK6uJwZPeQ+itWVNiW2yxRU38ATxkKvkv+ktbAAAAAElFTkSuQmCC",Jo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPKSURBVHgB7Vg9VtwwEB5v0sdlupgTxHRAtdxgOQFQpsJLlQ5vlwrvnoDlBCxdOkzFdpATxDkB5AKQ7zPjrHAk/+7Ly8vje09PsiXNfB5pRiOLvOI/hyc9EUWRjypECbQQDyh3LNPp9EF6oDNBEBuhOvI8b1g17unpKUV1DqJz6YDWBEFsCFJnsrJWU2QgO2lLdNBmMMglIHclxlJC6QxlD2UjSRKPhW2UXfSfk5iODfhhkHEiLdDYgsfHx2dQelAQg7LZ4+PjtMkeA6kI40nMz5V63vz09PRQGqARQbVcpI93tBiIZdICkBGY1ocMfty4bl4tQQg+0D1XkNvt6pn0eCUZKskxWUpXgqWvzpRcJj2gMm/lebm5hzeqPvhtjbyRrJZkYiOncZDhhmNDfU1Lz1AvysopA3MOMf5CSXLrxC4ClV4MIUfazGzhobAGSmyQI0JuC/ZxTHkeZC1QpSUd7Qgy3olhPQc5M+Rca8ih5TJ9l49RK78Axl1q01ddVlQtsWmR1NIfy8vlj42+CGEpxvsTHcO+qDR/jpIYulKLjsolLgg+2PYeLLOv9bxELgfiXCyrZdwvW1H35g99/CgOOAlC6AfWsMK3cp+5JAjWly4ZmHuuTZILLEPutd6QtgTXhMxo+5b+2njqJIiv/8kalnwn1YpDcSN0zCngSw2qLJhpHZQ7dE+mbDNM2EKJerkZpjKLjt9xUxyo8uJiUh4GoCA1OxlONBf0NZQwFC0KxWZK5ghTQ+MxFQeqLLgw2qNyJ4MtSBSKAw3M91rMpMCVAx4YbacFK8/i8XhMRUOpODM1lTqSP7cCU7IJws3UMocf9F0fL5FDjhwUqs9ifn2xjIPBgEu2Vx6j2chUrwDmnkqh2OWlsaGjezZD4ES4gJCRCqtNjxrIO4GcOFfeIHGtjYMIxBSQqcCk6tysA+cW5CgTsid1c5pm1KFu/CKH2+yYUZt5IHPLu7p5jU4SCuLy6mMRVgJpCCPzyQOzbpVaco0JKsl5Kaxc2NIoGzQ5DZRcq6tnq7NYM5SZPobw7KRuDi9csrqDzGyZTxXeSEssl8uv29vb9Or3VLy1tcV317ax9FhUn/WRv0H2pCU6ZTN6Kc/YZrqPgL5fHsMAbnosr6rSAX3+zTi9Ur3+1iDX+TbY6++W/qe5MonkQl+exZtNPXbtBJUkz+LCWTKtg1y4541tZ3EbtHaSMuAgy52dHX7oUJ6Xu4h1E5zFX6QnehMkbm5uUng27xV5OIHlFiD3SdaAuj8LjQGLcal5O/P1/P73QM9ucwS+4m/gFxzL99Cfde1MAAAAAElFTkSuQmCC",Vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI3SURBVHgB7Zf/cYIwFMcfnAMwAp2g7QZ2gzpBdQNxAXEBYYPaCXSDXieobsAITiD9fjFcY44fIVL9o3zvcjExyfuQvPcIIoMGDRr0v+Xpjfl8HqBKUEK5jzKUKE3TY9kxMgZMPc+byh2V5/kBVVq2feP/QO6vC4aRzQw8VYRqL/3qCae1lJZNsQLkQoB8gW/0AglfH9vAUb7UQ+3k7LRUgPZ3FEVvcqW4Btb61OAyZasb4Ol0OnDXNEhqg6dfiqMwd841tK6MNmhLugJSONLMhMTTxi6Qi8ViibmJCUcbTfMaAQ3IvSsk4bBGrHXt0X5ug7MC1CF1XyEkDL+3zeUYA+5L7dxRLGQVxQqSC07g5BvURbDA0BQAAXxoZhpUb6Utxoy17o8kSabSQVY7qIsGsHursg2AV0YlgEIdjn0oY23cqiucEyC1Xq9jHVLOSbeAZGFKYp8Ohx2OxUHWR1yh3GiHKr8Vv1vGWstpByuislQoFTch19REdQasi0rUepAc0TdxiXpT1kfcFpX4n2loy9+EU+/tnW3UXwVYRqU0OL4CejDn8gEAxTy6VPMY9QymSS+Juo+obIr6trm+BRx3Liz70I5cUkYFZGgDWQvo+/6jCYedm8FQKo4iJNcQA5K2pCsgfUWDO6r350auFNfgRUF+oz5UtiplEySEK46GN2HpT7FoH0d1MgGrQj8w7nF/rQsG84g3Ug15K2UoF9d/zxyhIjeWG3+8w40yVLFNbhw0aNCgHvUDmNRJVHDtVaoAAAAASUVORK5CYII=",Go="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJLSURBVHgB7VjRcYJAEF2TFBArCKlA/YtfIRXEVCDpAG1ArQA/82esIHYQ/PPTdIAVhAo0b2WZ4MkBB6MmM7yZnQNu7+6xt3u7QFSjRo1MNKgCXNdto7nNUQun0+maSqIUQSE2azQa7YJDgt1u9wSiARnCmCDIWSD2iUuLzBCCZMeU5A2Zw6VfciHkK0f/TvTZFRzImAxgTBDWa8XXsMgLLOJn6cPiPYz5kFubTNfTTGqRfgu92PdAcIAmLwDa0Pfkei1j0hCkbf8RweFwOMIkY7oAsC44Tg9e4ICgsh0XgUS7H9+rPpg8NgLIhs6DOJAYNsSPO7RBgjeZ403GdAZg58bYuVFa3xX9cdQEq6JMJjkCfIj9x1Yer9UjowwqW1COJnZyWxF0uQ5VhNaCHFVYgMN/kpPguY9zslp28TM/Yxy/nI3GwVp9MiUoJB2eABP5aOeQBciGSR2u9dDfoePUuFZ1hVRcNDyzpSkHhXxQJmKZCdklRdbZkxALB2ljJa9zAuAiwy5CqijBubR9Ddn9wToY7OOAC9IgocNWSkoWltD/xvheWqc2SHhBz/MctPeQV4qspoOVDBCKLGZlkGNSE8zbxBr2drvV1pS5Wyzb986S2C5bSq4WFfgmgWxAxqeoNFuk+WZpgilkWRbxM3F6FktRZ73QhAxVJZgGIRCSJkiqos7FVVETrIr/W25xAscR8khnANaydH0qQZ8khVGUHbQDT4iD7+zr5M1qtQq63W4Tlw90ASDbcGn3lnxW5s/CqRCU+ftVo8ap8QNUl9vzmHALiwAAAABJRU5ErkJggg==",Xo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACQCAYAAACoG+FoAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7FSURBVHgB7Z0xcBvXEYZ33x0Vj8biUIXsJNSMmMpmZaURS8ORHVlpRDK1QqZ17JFQRbELS4VlpQI9tNOatHpSqhxbtESXVBNWpjtTM2YyYzkjRpooHuHubfbdAeTd4UDgANzheLffDAng3TuCFH+u9u3bt4swRGqr343B0aMVIDWBil4BwAn/w0ATIOSJXf7Y9h9pm4gegNbr8NNPm9WZX+3CkEDIkH3BUgWVfUFEWhCItllJ6yzq2/D06XqWgs5EwLXP/1VB274EBBV+OQZCwaElI+bquRdvQcqkJmBjbdXR5y8RwmUQ0ZYTtsyk4RqAu149/4ttSIGBCziRcImeIOKOBtywQO+gUjsKaMu7BLADQm5goYw75I4qtI+R1pMuqHH+XU3y7+lMx5tZyAi4dOnciWswYAYq4NrnP8yjgvcBcaLtJBYtoVqxFaxpZW9Zuv4EhEMNAZ5xtZ5lORkxj7ef6Fvk6vkXlmBADETA7ONOoGV/yk8rsRMCokWg+yAUloCYZw6YdIu0Ux2EW9G3gGt/f3jZs7px7gILl99hGe0jS2Jpy4XLlpg0NYUcZ5V3yaVqv9a4ZwEbXxePPs/ugufrhhHhCg0CQn47dgLBwuVzJ6rQIz0J2HMZlLXKvu7pmC94HzRcsWxZhAn7+EKG9/jp2ZjLm+Q6M724FIkF3BDvvZaFmm91F22FyyAIbdAa5zTpd1g/x0IXvAWe+1pSEScScFvxcsgLNVwUqyt0Q8Ma34Sob9yDiFW3E9uJ17gMaI9cEPEK3WKxweOPaTbHX4UusLaMxozWuv1aXQm4nXg5ZLJsKba8slATEsKRq8e2rd5iq/tZ+EIyEXcl4MaCbSI8Sh+PKLoOgtAHtoUfGC2FBo2ILXu1tvqoYwpCRwEvfPGwFo02GMvLi7VFEIQB4GkpaokBTuNR5/1O9x64iPO2hi38NDTIfotn+gVhwNRduIkYzq0gx61Wf/fzhXb3tBVwY3v4HxDeYdvxFmzi8wopwJGJUY5QmBTMYHSCd+ycX7eLTLR1IdC2axAUr8kc07JgE9LDLOz446K3p7DPWCPPJpZYARvXgR3d6fBXh0UJlQlpY0JsClV0fVXxNBlDrIAbyTn7rxHWZIdNyAqlaJkIQlmLRpNxUYkWAX9059+t+bwuSLhMyBRlwZWQK2E0+dyzlsSxkIDNwo238ubDU+hjcR2ErDGuBCq1FBxDS12KWuGIBbYqEeu7gxpXQBCGgDKx4ciCLmqFQwKO+r5sfVfF+grDwo9KtFrh4Os9Ade++HG6JVFHrK8wZOKssCnTsHd9f9wNh81IrK8wfDwrjGolPGbvWWFPwLV7j8Z40lxwkmUpsb5CLiCAtdAAcly4sZjzLfAztxK5Z0dODwt5wVasxehi7uizinnScCFa3AcRr5Arom4EEFbMgydgBHw1eE3cByFvRN0I9o0veI+e/1t3HgUv2gpeAkHIEV6mGtHd4GFQ+q99XIHjhJLVvWPxgpAzTDSCP4ejYuwHK9C6Ehwjpb4BQcghiLgRGiCaUPsV0RuTiCT2K+QSBB3SJu/SvaJQ4angoEL4FgQhh2hSIQETwa8UL+9C2T2uoscgCDkELb929N5rhFM2P06EBp/BE7ChNLhq5Bg59XH+yUchZbyAvDBQjFRDFrgs+Q9+eSP8EHR9yh8hSBtHm8+4glpyrHvB5Ag7oRGc6Lq0VJFwHJzRLt1m0U5B5tCsVnCTxfwyCH1TOgG7jjsJim5gtDpihqB/bFxEPABKJ2CtrE8gHxifW0TcJyVarhkfFM8gULikp9ZfjdjqgzS6IjXKiN49YEpTxBd5+17Clz1QKgscLVsEJm30yM/+nGVLr5j3EkvcB+VyIQhCoTI0dWozrjSktPsn/j6i1lZE3COlEjAhDG3hto/12EJTPklEPAhKGUYbNiazSkQ8GETAQ0JEPBhEwENERNw/IuAhIyLuDxFwDhAR944IOCeIiHtDBJwjRMTJEQHnDBFxMkTAOURE3D0i4JwiIu4OEXCOERF3RgScc0TEByMCPgSIiNsjAj4kiIjjEQEfIjqJ2HVgHEqGCDhFlIaWZHlS+Afog4NErBFuQMko1Zm4rDFiIxfuh48y0Tz/dz8P/RLTpt28jynUUqZ+1mKBUwYh2xa96DivQ4kQAaeMbdGa6XYKQiqIgDPAVrioAK8ASDmpQSM+cEYoRatsLVZdcicV2gM7XOoS3eAFXemiD01EwBljobWVRSHBsiAuhHCoEQELh5pSuhAcL11TiMta2Vug6yAcXsolYIJVtEeu+4F+AkvEe+gplYC9Ev8B0frtBTjwr/Bl0jTFm1scHaCT+3fg92BCXwrZUtNX0iIgf5TShfDKrBLNaffZlFfoWlPcziw0xHySr5tK7vN1l54gqjvSIiA/lErAe30xgKYIvW3eRPf7Vd1plhTM8h+B9LrIAaWJQjjaWNxB9sVo9rrAGRCGRikscJ2tLtvaWUxmcDvi97qgG3UXx0csyXcYBoW3wCzeW8jWsusbiP3chA3PEekdFvHbIGROoQXsW16aTHIPEl6wFFzkZxcT3SciHgqFFbARUyLL26C5KEOVvOm5EbHpQQdCZhRSwCbaYMQEw0DRuya+DEImFFLAHCobZi+4Ud4ceReETCicgP2wVjK/d/DQbBlPCA+DIlrgXPigZKu+Th8L3VEoAbt+XHYIDbxj0HpWfOH0KZSA2fc9A/nB+MJDdmWKT6EEzDtt+TpSrvAsCKlSMAscTIUcPkQ6V99PESnWIg7zVeAOCcSFSJnCJPP4C7hYdiyFVxR0t7PWPC9smU72Cn7TzT0u+96a9HvgpVuGkFBaypQgGw03eEv5fi8H2anLQiSm5oPWaiY3EZASUfhsNGJRpb2p4DruJEG+/O+yUBgLbEqZujHjJmeXFNx1NHSFreAl8+if3oC7Xd2krHZnO+S0RsoUxgKbUqYmlxdyBIqAU6dYcWClNiBHkFLfgJAqxRIw6Vwde1ckx/DTplgbGahyJRiybBFwyhRKwBbSFhHkQzREq2Uq9T8sChdGsxBXIAdYlsrF91F0Cidgs6kAw179s/U1mycgpE5BNzK8cv7De3fCRcgAb/s8Wp0dOZxYIgopYK8IH9FnMBSyKTdl6rvpmLN/5NK3UCIKmwthW/iB48KZpBlqZtvZCJA0jidtBUCAyyMK9qwvi+yz9PIjYgoSmoWjjaXaPCl0Mg9a8BZvB9+EBFlhpt4Zi3eDSL+BiWpR4daIouvNV15dCswwucdUFMrIdckThU7maaRExrVlbUuj3tkstqZGHgAv2mx7r5JPnayzmdal8MSrL5axUmbhs9GMiG0LLqTnE9N1W+GVZszXZKaBdv4KWWByP0zEw5TDsk33o/Jhs5f3gK3OqeZA0weEgmF8YnJxw0UyRUf6Tq/0CgBq93qLcPgfz0Z4C1JGk/ME7Oe+L9NmScyhhd1SFbhGi9b4B17j1fsMAc3zH2/iI0hGuErhohfnVVbLdbMbCBlgsYNfugY1hKORhfW2zeuU73hszwKjhfxLpUL7Uo3NjlWvhpqm13k9/zoRTUKc34v8vxHpbxXwws4+stJsECNkDxEcC7+m/9ik6UFwtU0lOsdl+Q1cTDf5ZWgEpTDw8+8dKcLGUkG6Gg0VBXpSB4KHxvgqNsubwUmEWOqDiEa0zQ8QcgWBCmmTLfAD/p8Rt0OztJaDiUIuaVmzaL2u4Ii1Hpk3LjW9hHwS2Rj66blNVX3t+K4JpQWGpaaXkDuclrp3uF2dOb7bWJ3QrdA1qekl5A1sKZu7bj75Aia1HrqkdeLeEoKQJrxgmwq/dm+bR1/Avh+8G7g+6uSrVKlQYrzWwNHw7tMj6+bBE7DnBxN8HZogboSQF1rcB1wy/q95tp/Mo2AhNEcqjAs5wD91Em6X1nQfDHsCrr5xYh0ibgS4zhwIwhDRbrTvHkcfzr24F3QIpVOyG/FR+DXNiRUWhoVnfTFifUFfC74O5wMfsY0bIVZYyAXG+oYXb7xr7I6sB+eEBNxYzLVaYel5JmRMXLdVct3l6vnj28Gx1hMZnhUO5UeMaoQbIAhZ4kKk2yn7vudfvBqd1iJgf2s57Gcgwpk6oTTuEzLB0TRHkY5TUU02aXvsduHOw3t8VyUw9Bg1TJfx4KCQHcZ10C7dDh6qJdK3OfIwHTe/7aFOcuw/QmRBZ46cS1RCSAujLa3hZuhEOOIu6COX293TVsDGWSYNYVfC/HXU638DQUiDev1GdMuYrW81unALcuCx+uqbJxYIMBSVMP4w703/BQRhgNRdfLfF79X0UfW3LywddF/nuhAj1lX+vBkepHlTeQYEYQA0qhhF9xs2q2++cLnTvR0F7EUlXHsmEloDE6MTSyz0i7G8rVWMcNvXXGe6Lv5V+/zRBFruPba+E8Fx3vhYUyMjV6QauZAEs2Ajx/mktfihEa/12kF+b2g2JKCtiAF2lIZS1uYSkuOFyky0oaWEQzLxGhLVRvMiE/wGLe6E30zwlmx2CJ0wmxRenHcA4vXugh7wLbFjqtucjvmSd1DTh2KNhSB+51P8sE295E3j8yYVr6EnATepffnjAgJdirtGhIvKK7gsQi4z3uZE3WQ06vm4krUmVAb/G7naPGGRlL4EbKh9+cM8Atb46Vj0mlfdhnBFhFw+OgnX7LCRS9fMXgP0Qd8CNhiXApSzwJscF9rP8tpfrXr9K4TC4h0GVniWXPf37YqEE9DX4I7M9+IyRBmIgJv41li9H41SBDFWmS226WksYi4AjXDYZCfR+vBCDfS1TrtrSRiogJvUvnh4lX+QuYOEHPgWNviH3wLt/pODIlt8j8l6eyIuR75oHmrQlvUyknMSlPVL9l+n2Ik92bEdg3EXjK/71F7o1ddt+6UhJTy3wqpXOllkocCkKNy9t4AMqK39OA2unvatslBoPNG6X4NSC42T7um+HWRIbfXRGBxzK76Y1atimYuBVxxS0y2w1To7f+tpWds4MhVwFE/QzzunQesKv5zgv94JfhxjcZ/iQPIYCLlhv4IpbfPvZpst7KZXWzpjwUb5PxY7UQrHPcirAAAAAElFTkSuQmCC",qo={standartForUser:[],data:[],status:"idle",error:null,loading:!1},es=q("getStandarts",async a=>{const t=await U.get(`/labor/protection/get?userId=${a}`);return t.data.status===404&&x.error(t.data.message),t.data}),it=q("getStandartsForAll",async()=>{const a=await U.get("/labor/protection/get/for/all");return console.log(a.data),a.data.status===404&&x.error(a.data.message),a.data.data}),ut=q("getStandartsForUser",async a=>{const t=await U.get(`/labor/protection/get/user?userId=${a}`);return t.data.status===404&&x.error(t.data.message),t.data});q("deleteStandart",async a=>{if((await U.delete(`/labor/protection/delete?id=${a.laborId}&userId=${a.userId}`)).data.message==="LaborProtection deleted successfully")return x.success("Üstünlikli!"),(await U.get(`/labor/protection/get?userId=${a.userId}`)).data;x.error("Ýalňyşlyk!")});const ts=q("deleteStandartForAll",async a=>{if((await U.delete(`/labor/protection/delete/for/all?permissionUserId=${a.permissionUserId}&id=${a.laborId}`)).data.message==="LaborProtection deleted successfully")return x.success("Üstünlikli!"),(await U.get("/labor/protection/get/for/all")).data.data;x.error("Ýalňyşlyk!")}),ht=q("deleteStandartForUser",async a=>{if((await U.delete(`/labor/protection/delete?id=${a.laborId}&userId=${a.userId}`)).data.message==="LaborProtection deleted successfully")return x.success("Üstünlikli!"),(await U.get(`/labor/protection/get/user?userId=${a.userId}`)).data;x.error("Ýalňyşlyk!")}),ss=q("postStandartForUser",async a=>{const t={title:a.title,description:a.description,usersId:a.usersId};if((await U.post("/labor/protection/add",t)).data=="OK")return x.success("Üstünlikli!"),(await U.get(`/labor/protection/get/user?userId=${a.userId}`)).data;x.error("Ýalňyşlyk!")}),St=q("postStandart",async a=>{const t={title:a.title,description:a.description,usersId:a.usersId,userId:a.userId},s={permissionUserId:a.permissionUserId,title:a.title,description:a.description};if(a.usersId.length){if((await U.post("/labor/protection/add",t)).data=="OK")return x.success("Üstünlikli!"),(await U.get(`/labor/protection/get?userId=${a.userId}`)).data;x.error("Ýalňyşlyk!")}else{const l=await U.post("/labor/protection/add/for/all",s);if(console.log(l.data),l.data.message=="Ok")return x.success("Üstünlikli!"),(await U.get("/labor/protection/get/for/all")).data.data;x.error("Ýalňyşlyk!")}}),ns=q("updateStandart",async a=>{const t={id:a.id,title:a.title,description:a.description,usersId:a.usersId,userId:a.userId},s={id:a.id,title:a.title,description:a.description,permissionUserId:a.permissionUserId};if(a.usersId){if((await U.put("/labor/protection/update",t)).data)return x.success("Üstünlikli!"),(await U.get(`/labor/protection/get?userId=${a.userId}`)).data;x.error("Ýalňyşlyk!")}else{const l=await U.put("/labor/protection/update/for/all",s);if(console.log(l.data),l.data)return x.success("Üstünlikli!"),(await U.get("/labor/protection/get/for/all")).data.data;x.error("Ýalňyşlyk!")}}),as=q("changeLoginPassword",async a=>{const t=await U.patch("/user/updata/password",a);if(console.log(t.data),t.data==`User ID ${a.userId} login and password updated successfully.`)return x.success("Üstünlikli!");x.error("Ýalňyşlyk!")}),Zo=Pe({name:"standart",initialState:qo,reducers:{},extraReducers:a=>{a.addCase(es.pending,t=>{t.status="loading..."}).addCase(es.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(es.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(it.pending,t=>{t.status="loading..."}).addCase(it.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(it.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ut.pending,t=>{t.status="loading..."}).addCase(ut.fulfilled,(t,s)=>{t.status="succeeded",t.standartForUser=s.payload,t.updated=!0}).addCase(ut.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ts.pending,t=>{t.status="loading..."}).addCase(ts.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(ts.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ht.pending,t=>{t.status="loading..."}).addCase(ht.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(ht.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(St.pending,t=>{t.status="loading..."}).addCase(St.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(St.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ss.pending,t=>{t.status="loading..."}).addCase(ss.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(ss.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ns.pending,t=>{t.status="loading..."}).addCase(ns.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(ns.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(as.pending,t=>{t.status="loading..."}).addCase(as.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(as.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),$o=Zo.reducer,Ko=a=>e.jsx(Ze,{...a,sx:{maxHeight:300,overflow:"scroll"}}),Tn=({open:a,handleClose:t,userId:s})=>{const l=B(M=>M.users.data),[r,u]=o.useState([]),[f,C]=o.useState([]),[m,S]=o.useState(""),[p,A]=o.useState(""),b=JSON.parse(localStorage.getItem("CRM_USER")),F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},g=ne();o.useEffect(()=>{g(Ye())},[g]);const j=(M,c)=>{u(c),C(c.map(w=>w.id))};[...l];const h=()=>{const M={permissionUserId:b.id,title:p,description:m,usersId:f,userId:s};p&&m&&f.length?(g(St(M)),t(),A(""),S(""),u([]),C([])):x.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:a,onClose:()=>{t(),A(""),S(""),u([]),C([])},children:e.jsxs(Z,{sx:F,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:()=>{t(),A(""),S(""),u([]),C([])},children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(J,{label:"Tertip - düzgünnama ady",value:p,onChange:M=>A(M.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,value:r,fullWidth:!0,isOptionEqualToValue:(M,c)=>M.id===c.id,options:l,getOptionLabel:M=>`${se(M.name)} ${se(M.surname||"")}`,onChange:j,PaperComponent:Ko,renderInput:M=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...M,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...M.InputProps,endAdornment:e.jsx(e.Fragment,{children:M.InputProps.endAdornment})}})}),e.jsx(J,{label:"Beýan",multiline:!0,minRows:15,maxRows:15,value:m,onChange:M=>S(M.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2,height:"100%"}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(V,{onClick:h,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},_o=a=>e.jsx(Ze,{...a,sx:{maxHeight:300,overflow:"scroll"}}),Ms=({openUpdate:a,handleClose:t,data:s,userId:l})=>{const r=B(i=>i.users.data),[u,f]=o.useState([s&&s]),[C,m]=o.useState([]),[S,p]=o.useState([]),[A,b]=o.useState(s&&s.description),[F,g]=o.useState(s&&s.title),j=JSON.parse(localStorage.getItem("CRM_USER")),h=location.pathname==="/standarts/all";o.useEffect(()=>{s&&f(s),s&&g(s.title),s&&b(s.description)},[s]);const M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},c=ne();o.useEffect(()=>{c(Ye())},[c]);const w=(i,E)=>{E.some($=>$.id==="selectAll")?(m(r),p(r.map($=>$.id))):(m(E),p(E.map($=>$.id)))},I=[{id:"selectAll",name:"Ählisi",surname:""},...r];console.log(S);const v=()=>{const i={id:u.id,title:F,description:A,usersId:S.length?S:u.users?u.users.map(E=>E.id):null,userId:l,permissionUserId:j.id};F&&A?(c(ns(i)),t(),g(""),b(""),m([]),p([])):x.error("Maglumatlary giriziň!")},z=[{name:"Ähli ulanyjylar"}];return e.jsx(oe,{open:a,onClose:t,children:e.jsxs(Z,{sx:M,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:u.title}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"98%",p:1,minHeight:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(J,{label:"Tertip - düzgünnama ady",value:F,onChange:i=>g(i.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,fullWidth:!0,disabled:h,defaultValue:s&&s.users?s.users:z,isOptionEqualToValue:(i,E)=>i.id===E.id,options:I,getOptionLabel:i=>`${se(i.name)} ${se(i.surname||"")}`,onChange:w,PaperComponent:_o,renderInput:i=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%",height:"95px"}},...i,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...i.InputProps,endAdornment:e.jsx(e.Fragment,{children:i.InputProps.endAdornment})}})}),e.jsx(J,{label:"Beýan",value:A,onChange:i=>b(i.target.value),variant:"outlined",multiline:!0,minRows:13.5,maxRows:18,fullWidth:!0,sx:{mt:2,"& .MuiOutlinedInput-root":{resize:"vertical"}}}),e.jsx(n,{alignItems:"end",pt:2,mb:1,children:e.jsx(V,{onClick:v,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},er=({open:a,handleClose:t,userId:s})=>{const l=B(h=>h.users.data),[r,u]=o.useState([]),[f,C]=o.useState([]),[m,S]=o.useState(""),[p,A]=o.useState(""),b=JSON.parse(localStorage.getItem("CRM_USER")),F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},g=ne();o.useEffect(()=>{g(Ye())},[g]),[...l];const j=()=>{const h={permissionUserId:b.id,title:p,description:m,usersId:f,userId:s};p&&m?(g(St(h)),t(),A(""),S(""),u([]),C([])):x.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:a,onClose:t,children:e.jsxs(Z,{sx:F,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnamaaa"}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(J,{label:"Tertip - düzgünnama ady",value:p,onChange:h=>A(h.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(J,{label:"Beýan",multiline:!0,minRows:17,maxRows:17,value:m,onChange:h=>S(h.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2,height:"100%"}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(V,{onClick:j,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},tr=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState(!1),[r,u]=o.useState(),f=()=>t(!0),C=()=>t(!1),m=h=>{u(h),l(!0)},S=()=>l(!1),p=ne(),A=B(h=>h.standarts.status),b=B(h=>h.standarts.error),F=B(h=>h.standarts.data),g=JSON.parse(localStorage.getItem("CRM_USER"));B(h=>h.users.data),console.log(F),o.useEffect(()=>{g.role==="ADMIN"?p(it()):p(ut(g.id))},[p]);const j=h=>{const M={laborId:h,userId:g.id,permissionUserId:g.id};p(ts(M))};return e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(ze,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(d,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama"}),g.role==="USER"?"":e.jsxs(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:f,children:[e.jsx(Te,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(er,{open:a,userId:g.id,handleClose:C})]}),e.jsx(n,{children:A==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):A==="failed"?x.error(b):A==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:F.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(nt,{container:!0,item:!0,height:"100%",xs:12,md:6,lg:12,spacing:2,children:e.jsx(n,{width:"100%",children:F.map((h,M)=>e.jsx(nt,{item:!0,xs:12,mt:M==0?"":2,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...h.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[h.title,e.jsx(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...M==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"})]}),g.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>m(h),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>j(h.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})}),e.jsx(Ms,{data:r,openUpdate:s,handleClose:S,userId:g.id})]})]}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:h.description})]})})},M))})})})})}):""})]})},sr={data:[],docType:[],status:"idle",error:null,loading:!1,uploadProgress:0},pt=q("getDocType",async a=>{const t=await U.get(`/document/type/get?userId=${a}`);return t.data.status===404&&x.error(t.data.message),t.data.data}),os=q("getPDF",async a=>{const t=await U.get(`/pdf/get/files?userId=${a}`);return t.data.status===404&&x.error(t.data.message),t.data}),rs=q("createPdf",async(a,{rejectWithValue:t,dispatch:s})=>{var l;try{const r=await U.post("/pdf/upload/file",a.body,{headers:{"Content-Type":"multipart/form-data"},maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:u=>{const f=Math.round(u.loaded*100/u.total);s(qs(f))}});if(r.status===200)return x.success("Üstünlikli!"),(await U.get(`/pdf/get/files?userId=${a.userId}`)).data;r.data.status===404&&x.error(r.data.message)}catch(r){return x.error("Ýalňyşlyk!"),t(((l=r.response)==null?void 0:l.data)||r.message)}}),is=q("updatePdf",async(a,{rejectWithValue:t,dispatch:s})=>{var l;try{const r=await U.put(a.files==null?"/pdf/edit":"/pdf/edit/file",a.body,{maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:u=>{const f=Math.round(u.loaded*100/u.total);s(qs(f))}});if(console.log(r.data),r.data.message==="Successfully")return x.success("Üstünlikli!"),(await U.get(`/pdf/get/files?userId=${a.userId}`)).data;r.data.status===404&&x.error(r.data.message)}catch(r){return x.error("Ýalňyşlyk!"),t(((l=r.response)==null?void 0:l.data)||r.message)}}),ls=q("createPdfByAdmin",async(a,{rejectWithValue:t,dispatch:s})=>{var l;try{const r=await U.post("/pdf/upload/file",a.body);if(r.status===200)return x.success("Üstünlikli!"),(await s(Je({userId:a.userId,date:a.date}))).data;r.data.status===404&&x.error(r.data.message)}catch(r){return x.error("Ýalňyşlyk!"),t(((l=r.response)==null?void 0:l.data)||r.message)}}),nr=q("createPdfByAdmin",async(a,{rejectWithValue:t,dispatch:s})=>{var l;try{const r=await U.put(a.files==null?"/pdf/edit":"/pdf/edit/file",a.body,{maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:u=>{const f=Math.round(u.loaded*100/u.total);s(qs(f))}});if(console.log(r.data),r.data.message==="Successfully")return x.success("Üstünlikli!"),(await s(Je({userId:a.userId,date:a.date}))).data;r.data.status===404&&x.error(r.data.message)}catch(r){return x.error("Ýalňyşlyk!"),t(((l=r.response)==null?void 0:l.data)||r.message)}}),ds=q("deletePdf",async a=>{const t=await U.delete(`/pdf/delete?userId=${a.userId}&documentId=${a.documentId}`);t.status===200&&x.success("Üstünlikli!"),t.data.status===404&&x.error(t.data.message);const s=await U.get(`/pdf/get/files?userId=${Ps.id}`);return s.data.status===404&&x.error(s.data.message),s.data}),cs=q("deletePdfForUser",async(a,{dispatch:t})=>{const s=await U.delete(`/pdf/delete?userId=${a.userId}&documentId=${a.documentId}`);s.status===200&&(x.success("Üstünlikli!"),await t(Je({userId:a.userId,date:a.date}))),s.data.status===404&&x.error(s.data.message);const l=await U.get(`/time/work/user?userId=${a.userId}&date=${a.date}`);return l.data.status===404&&x.error(l.data.message),l.data}),Un=Pe({name:"postPdf",initialState:sr,reducers:{updateUploadProgress:(a,t)=>{a.uploadProgress=t.payload},resetUploadProgress:a=>{a.uploadProgress=0}},extraReducers:a=>{a.addCase(rs.pending,t=>{t.status="loading..."}).addCase(rs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(rs.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(is.pending,t=>{t.status="loading..."}).addCase(is.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(is.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(ls.pending,t=>{t.status="loading..."}).addCase(ls.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(ls.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(os.pending,t=>{t.status="loading..."}).addCase(os.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(os.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(pt.pending,t=>{t.status="loading..."}).addCase(pt.fulfilled,(t,s)=>{t.status="succeeded",t.docType=s.payload}).addCase(pt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(ds.pending,t=>{t.status="loading..."}).addCase(ds.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ds.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(cs.pending,t=>{t.status="loading..."}).addCase(cs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(cs.rejected,(t,s)=>{t.status="failed",t.error=s.error.message})}}),{updateUploadProgress:qs,resetUploadProgress:tl}=Un.actions,ar=Un.reducer,or={position:"absolute",top:"30%",left:"40%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px"},rn=JSON.parse(localStorage.getItem("CRM_USER")),Zs=({open:a,handleClose:t,userData:s})=>{const[l,r]=o.useState(""),[u,f]=o.useState({field1:"",field2:""}),C=ne();o.useEffect(()=>{s!=null&&r(s)},[s]);const m=p=>{const{name:A,value:b}=p.target;f({...u,[A]:b})},S=()=>{const p={editorId:rn.id,userId:l.id,newLogin:u.field1,newPassword:u.field2};rn&&l!==""&&u.field1!==""&&u.field2!==""&&(C(as(p)),t(),f({field1:"",field2:""}))};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:a,onClose:t,children:e.jsx(Re,{in:a,children:e.jsxs(Z,{sx:or,children:[e.jsxs(d,{variant:"h6",textAlign:"center",mb:2,children:[l.name," ",l.surname]}),e.jsxs(n,{spacing:2,children:[e.jsx(J,{label:"Täze Login",name:"field1",value:u.field1,onChange:m,fullWidth:!0}),e.jsx(J,{label:"Täze Açar söz",name:"field2",value:u.field2,onChange:m,fullWidth:!0}),e.jsxs(n,{direction:"row",spacing:2,justifyContent:"flex-end",children:[e.jsx(V,{onClick:t,variant:"outlined",children:"Yza"}),e.jsx(V,{onClick:S,variant:"contained",children:"Çalyşmak"})]})]})]})})})})},rr=({userData:a,userId:t,params:s,handleClose:l})=>{JSON.parse(localStorage.getItem("CRM_USER"));const r=a&&a.user,[u,f]=o.useState(!1),[C,m]=o.useState(r.mail),[S,p]=o.useState(r.phoneNumber);o.useState("");const[A,b]=o.useState(r.surname),[F,g]=o.useState(r.name);o.useState("");const[j,h]=o.useState(r.position?r.position.id:"ADMIN"),[M,c]=o.useState(!1),[w,I]=o.useState(r.languages?r.languages.split(","):[]),[v,z]=o.useState(r.whereStudy),[i,E]=o.useState(r.whereLive),[$,O]=o.useState(R(r.birthday)),[te,Q]=o.useState([]),P=T=>{h(T.target.value)},D=ne();Ie(),o.useEffect(()=>{(async()=>{await U.get("/position/get").then(G=>{Q(G.data)})})()},[]),B(T=>T.imgAccount.updated);const y=async T=>{T.preventDefault();try{if(C.trim().length<=0||F.trim().length<=0||C.trim().length<=0||S.trim().length<=0||v.length<10)x.error("Dogry maglumatyňyzy giriziň!");else{f(!0);const G={userId:t,date:N(s).format("YYYY-MM-DD")},re=await U.put("/user/updata/info",{userId:r.id,surname:se(A),name:se(F),mail:C,phoneNumber:S,birthday:$.add(1,"day"),whereStudy:v,whereLive:i,languages:w.join(","),positionId:j}).then(le=>{le.data&&(x.success("Maglumat üýtgedildi!"),D(Je(G)),l(),f(!1))})}}catch(G){x.error(G.message==="Network Error"?"Internet baglanyşygy ýok":G.response.data),f(!1)}},Y=T=>{const{name:G,checked:re}=T.target;I(le=>re?[...le,G]:le.filter(K=>K!==G))};return e.jsx(n,{direction:"column",width:"95%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,mt:-2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(J,{id:"outlined-basic",type:"text",value:F,name:"password",onChange:T=>g(T.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:A,onChange:T=>b(T.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:S,onChange:T=>p(T.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(he,{fullWidth:!0,children:e.jsx(pe,{labelId:"simple-select-label",id:"simple-select",value:j,onChange:P,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:te.map(T=>e.jsx(X,{value:T.id,children:T.name},T.id))})})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(je,{dateAdapter:be,sx:{width:"100%",pt:0},children:e.jsx(ie,{value:$,format:"DD.MM.YYYY",onChange:T=>O(T),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:C,onChange:T=>m(T.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri (doly ady)"}),e.jsx(J,{id:"outlined-basic",type:"text",value:v,error:v.length<10,name:"password",onChange:T=>z(T.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri (doly ady)"}),e.jsx(J,{id:"outlined-basic",type:"text",name:"password",value:i,onChange:T=>E(T.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(Xs,{handleChange:Y,selectedLanguages:w})]}),e.jsx(V,{variant:"outlined",sx:{"&:disabled":{background:"lightgray"},color:"#2F6FD0","&:hover":{background:"#fff"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:16,mb:3,lineHeight:"18px"},onClick:()=>c(!0),children:"Login we parol çalyşmak"})]})]}),e.jsx(Zs,{open:M,handleClose:()=>c(!1),userData:r}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(V,{variant:"contained",onClick:y,disabled:r.name===C&&r.surname===A,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:u?e.jsx(n,{alignItems:"center",children:e.jsx(fe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})},ir=({id:a,handleCloseDocsModal:t,params:s})=>{const[l,r]=o.useState(null),[u,f]=o.useState(""),[C,m]=o.useState(""),S=ne(),p=B(j=>j.uploadPDf.docType),A=B(j=>j.uploadPDf.status);o.useEffect(()=>{S(pt(a))},[S]);const b=j=>{const h=j.target.files[0];h&&x.success("Faýl saýlandy"),r(h)},F=j=>{m(j.target.value)},g=()=>{if(!u){x.warn("Faýl ady giriz!");return}if(!l){x.warn("Faýl saýlaň");return}if(!C){x.warn("Faýl görnüşini saýlaň");return}const j=new FormData;j.append("userId",a),j.append("title",u),j.append("documentTypeId",C),j.append("file",l);const h={body:j,userId:a,date:N(s).format("YYYY-MM-DD")};S(ls(h)),r(null),t(),f("")};return e.jsxs(e.Fragment,{children:[e.jsx(ze,{}),e.jsxs(n,{width:"80%",spacing:"20px",height:"80%",position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",justifyContent:"space-between",spacing:1,height:"100%",children:[e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:j=>f(j.target.value),fullWidth:!0,value:u,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(he,{fullWidth:!0,children:[e.jsx(ge,{id:"demo-simple-select-label",shrink:!0,sx:{transform:"translate(14px, 11px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"},height:"45px"},children:"Resminama görnüşi"}),e.jsx(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,label:"Resminama görnüşi",onChange:F,sx:{height:"45px",borderRadius:"30px"},children:A==="succeeded"&&p.map(j=>e.jsx(X,{value:j.id,children:j.name},j.id))})]}),e.jsx("input",{type:"file",onChange:b,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"}),l?e.jsx(n,{children:e.jsxs(d,{children:["Ady: ",l.name," - ",(l.size/1024).toFixed(2)," KB"]})}):e.jsx(d,{children:"Faýl saýlaň"})]}),e.jsx(V,{sx:{color:"#fff",background:"#9FC2A5",textTransform:"revert",width:"100%",height:"45px",borderRadius:"50px",fontSize:23,fontWeight:500,"&:hover":{background:"#9FC2A5"}},onClick:g,children:"Ýatda sakla"})]})]})},lr=a=>e.jsx(Ze,{...a,sx:{maxHeight:300,overflow:"scroll"}}),dr=({open:a,handleClose:t,userId:s,defaultUser:l})=>{const r=B(c=>c.users.data),[u,f]=o.useState([]),[C,m]=o.useState([]),[S,p]=o.useState(""),[A,b]=o.useState(""),F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},g=ne();o.useEffect(()=>{f([l])},[l]),o.useEffect(()=>{g(Ye())},[g]);const j=(c,w)=>{w.some(I=>I.id==="selectAll")?(f(r),m(r.map(I=>I.id))):(f(w),m(w.map(I=>I.id)))},h=[{id:"selectAll",name:"Ählisi",surname:""},...r],M=()=>{const c={title:A,description:S,usersId:u[0].id,userId:u[0].id};A&&S&&C?(g(ss(c)),t(),b(""),p("")):x.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:a,onClose:t,children:e.jsxs(Z,{sx:F,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(J,{label:"Tertip - düzgünnama ady",value:A,onChange:c=>b(c.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,defaultValue:[l],value:[l],disabled:!0,fullWidth:!0,isOptionEqualToValue:(c,w)=>c.id===w.id,options:h,getOptionLabel:c=>`${se(c.name)} ${se(c.surname||"")}`,onChange:j,PaperComponent:lr,renderInput:c=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...c,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...c.InputProps,endAdornment:e.jsx(e.Fragment,{children:c.InputProps.endAdornment})}})}),e.jsx(J,{label:"Beýan",multiline:!0,rows:4,value:S,onChange:c=>p(c.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(V,{onClick:M,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Goşmak"})})]})]})})},cr=({userData:a})=>{const[t,s]=o.useState(!1),[l,r]=o.useState(!1),[u,f]=o.useState(),C=()=>s(!0),m=()=>s(!1),S=()=>r(!1),p=ne(),A=B(c=>c.standarts.status),b=B(c=>c.standarts.error),F=B(c=>c.standarts.data),g=B(c=>c.standarts.standartForUser),j=JSON.parse(localStorage.getItem("CRM_USER"));B(c=>c.users.data);const h=[...g,...F];o.useEffect(()=>{p(ut(a.id)),p(it())},[p]);const M=c=>{const w={laborId:c,userId:j.id,id:a.id};p(ht(w))};return e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(d,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500"}),j.role==="USER"?"":e.jsxs(V,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:C,children:[e.jsx(Te,{sx:{color:"#90BAEB",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(dr,{open:t,userId:j.id,handleClose:m,defaultUser:a})]}),e.jsx(n,{children:A==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):A==="failed"?x.error(b):A==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:F.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(xt,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:h.map((c,w)=>e.jsx(xt,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center"},children:e.jsxs(n,{width:"95%",p:"15px 0",sx:{...c.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[c.title,c.users?c.users.map((I,v)=>e.jsx(V,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:60,height:25,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...v==0?{ml:3}:{ml:1}},variant:"outlined",children:I.name},v)):e.jsx(V,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...w==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"})]}),j.role==="USER"?"":c.users?e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>M(c.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})}),e.jsx(Ms,{data:u,openUpdate:l,handleClose:S,userId:j.id})]}):""]}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",children:c.description})]})})},w))})})}):""})]})},ur=({open:a,handleClose:t,data:s})=>{const[l,r]=o.useState((s==null?void 0:s.documentTypeId)||""),[u,f]=o.useState(null),[C,m]=o.useState((s==null?void 0:s.title)||""),[S]=Ls(),p=S.get("date"),A=ne();o.useEffect(()=>{A(pt(s.id))},[A]);const b=B(c=>c.uploadPDf.docType),F=B(c=>c.uploadPDf.status),g=c=>{r(c.target.value)};o.useEffect(()=>{s&&a&&(m(s.title||"Goşmaça"),r(s.documentTypeId||""))},[s,a]);const j=c=>{const w=c.target.files[0];w&&x.success("Faýl saýlandy"),f(w)},h=()=>{if(C==""){x.warn("Faýl ady giriz!");return}const c=new FormData;c.append("userId",s.userId),c.append("documentId",s.id),c.append("title",C),c.append("file",u),c.append("documentTypeId",s?l:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const w={title:C,userId:s.userId,documentId:s.id,documentTypeId:s?l:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},I={userId:s.userId,body:u?c:w,files:u||null,date:N(p).format("YYYY-MM-DD")};A(nr(I)),f(null),m(""),t()},M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:500,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:a,onClose:()=>{f(null),t()},children:e.jsxs(Z,{sx:M,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{f(null),t()},children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"column",alignItems:"center",spacing:2,children:[e.jsx(J,{label:"Resminama ady",id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:c=>m(c.target.value),fullWidth:!0,value:C,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(he,{fullWidth:!0,children:[e.jsx(ge,{id:"demo-simple-select-label",sx:{transform:"translate(14px, 11px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"},height:"45px"},children:"Resminama görnüşi"}),e.jsx(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:"Resminama görnüşi",onChange:g,sx:{height:"45px",borderRadius:"30px"},children:F==="succeeded"&&b.map(c=>e.jsx(X,{value:c.id,children:c.name},c.id))})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:j,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),u?e.jsx(n,{children:e.jsxs(d,{children:["Saýlanan faýl:",u.name," - ",(u.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:h,children:"+ Goş"})})]})})]})})},hr=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState(!1),[r,u]=o.useState(!1),[f,C]=o.useState(!1),[m,S]=o.useState(""),[p,A]=o.useState(!1),b=()=>t(!0),F=()=>t(!1),g=()=>l(!0),j=()=>l(!1),h=G=>{u(!0),S(G)},M=()=>u(!1),c=()=>C(!0),w=()=>C(!1),{id:I}=$e(),[v]=Ls(),z=B(G=>G.getWorkDate.statusMonth),i=B(G=>G.getWorkDate.employeerTime);JSON.parse(localStorage.getItem("CRM_USER"));const E=v.get("date");Ie();const[$,O]=o.useState(i.user&&i.user.status||!1),te=ne(),Q=[{img:Bo,title:"Jaň ",link:`tel:${i.user&&i.user.phoneNumber}`,target:"_blank"},{img:No,title:"Sms",link:"/chat",target:""},{img:Oo,title:"Poçta",target:"_blank",link:`mailto:${i.user&&i.user.mail}`}];o.useEffect(()=>{O(i.user&&i.user.status)},[i]),o.useEffect(()=>{const G={userId:I,date:N(E).format("YYYY-MM-DD")};te(Je(G))},[te]);const P=()=>{const G={userId:I,date:N(E).format("YYYY-MM-DD")};te(Wo({body:G,data:{userId:I,status:$!==!0}}))},D=G=>{G&&(O(G.target.checked),P())},y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:550,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},Y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},T=(G,re)=>{const le={userId:G,documentId:re,date:N(E).format("YYYY-MM-DD")};te(cs(le))};return e.jsxs(n,{backgroundColor:"#fff",width:"40%",height:"82vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 14px 17px",position:"relative",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"30px",height:"55%",children:z==="loading..."?e.jsx(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:e.jsx(fe,{})}):z==="failed"?e.jsx(d,{textAlign:"center",height:"43%",mt:4,children:"Maglumat ýok"}):z==="succeeded"?i.length===0?e.jsx(d,{width:"100%",pt:5,textAlign:"center",fontSize:25,children:"Goşmaça resminama ýok"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{width:"40%",alignItems:"center",children:[e.jsxs(n,{alignItems:"center",children:[e.jsx(H,{sx:{height:96,width:96},children:i.user&&i.user.img===null?e.jsx(As,{alt:i.user&&i.user.name,src:i.user&&i.user.img,sx:{background:"#2F6FD0",height:96,width:96}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${i.user&&i.user.img}`,alt:""})}),e.jsxs(d,{fontFamily:"DM Sans",fontWeight:"400",mt:1,fontSize:18,children:[i.user&&i.user.name," ",i.user&&i.user.surname]}),e.jsx(ks,{control:e.jsx(zs,{checked:$,onChange:D,color:"primary"}),label:`Işgär ${$?"Aktiw":"Aktiw däl"}`})]}),e.jsx(n,{mt:3,direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:Q.map((G,re)=>e.jsxs(n,{sx:{...G.link=="tel:null"||G.link=="mailto:null"?{display:"none"}:{display:"block"}},width:50,alignItems:"center",children:[e.jsx(H,{sx:{width:50,height:50,borderRadius:"100%",border:"1px solid #000",alignItems:"center",justifyContent:"center"},children:e.jsx("a",{href:G.link,style:{width:25,height:25},target:G.target,rel:"noopener noreferrer",children:e.jsx("img",{src:G.img,style:{width:25,height:25},alt:""})})}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:14,color:"#727272",children:G.title})]},re))})]}),e.jsxs(n,{width:"60%",children:[e.jsxs(n,{alignItems:"end",position:"absolute",top:1,right:10,children:[e.jsx(H,{onClick:b,children:e.jsx(We,{sx:{color:"#727272",width:20,height:20}})}),e.jsx(oe,{open:a,onClose:F,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(Z,{sx:y,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:F,children:"X"})}),e.jsx(rr,{userData:i,userId:i.user&&i.user.id,params:E,handleClose:F})]})})]}),e.jsxs(n,{children:[i.user&&i.user.mail&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"5px",children:[e.jsx("img",{src:Vo,style:{width:25,height:25},alt:"mail2"}),e.jsx(Os,{value:i.user&&i.user.mail,data:e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:i.user&&i.user.mail})})]}),i.user&&i.user.phoneNumber&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"5px",children:[e.jsx("img",{src:Ho,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:i.user&&i.user.phoneNumber})]}),i.user&&i.user.languages&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"5px",children:[e.jsx("img",{src:Qo,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:i.user&&i.user.languages})]}),i.user&&i.user.whereStudy&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"5px",children:[e.jsx("img",{src:Go,style:{width:25,height:25},alt:"mail2"}),e.jsx(Os,{value:i.user&&i.user.whereStudy,data:e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:i.user&&i.user.whereStudy})})]})]}),e.jsxs(n,{children:[i.user&&i.user.birthday&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"5px",children:[e.jsx("img",{src:Lo,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:N(i.user&&i.user.birthday).format("DD/MM/YYYY")})]}),i.user&&i.user.whereLive&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"5px",children:[e.jsx("img",{src:Jo,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:i.user&&i.user.whereLive})]}),e.jsx(V,{variant:"contained",sx:{background:"#2F6FD0",mt:2,textTransform:"revert",fontSize:16,"&:hover":{background:"#2F6FD0"}},onClick:c,children:"Düzgünnama Goşmak"}),e.jsx(V,{variant:"contained",sx:{background:"#2F6FD0",mt:2,textTransform:"revert",fontSize:16,"&:hover":{background:"#2F6FD0"}},onClick:()=>A(!0),children:"Login we parol çalyşmak"})]})]})]}):null}),e.jsx(Zs,{open:p,handleClose:()=>A(!1),userData:i.user}),e.jsx(oe,{open:f,onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(Z,{sx:Y,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:w,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsx(cr,{userData:i.user})]})}),e.jsx(Ue,{}),e.jsx(Ue,{}),e.jsxs(n,{height:"45%",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:2,children:[e.jsx(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:18,children:"Resminamalar"}),e.jsx(H,{onClick:g,sx:{width:44,height:36,borderRadius:"10px"},children:e.jsx("img",{style:{width:44,height:36},src:Xo,alt:"add"})}),e.jsx(oe,{open:s,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(Z,{sx:y,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:j,children:"X"})}),e.jsx(ir,{id:i.user&&i.user.id,params:E,handleCloseDocsModal:j})]})})]}),i.documents&&i.documents.length==0?e.jsx(d,{color:"#727272",textAlign:"center",height:205,fontSize:18,fontFamily:"DM Sans",children:"Resminama ýok"}):e.jsx(n,{height:"100%",className:"times2",overflow:"auto",children:i.documents&&i.documents.map((G,re)=>e.jsxs(n,{spacing:"18px",direction:"row",alignItems:"center",justifyContent:"space-between",mt:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(d,{color:"#727272",mr:2,fontFamily:"DM Sans",children:[re+1,"."]}),e.jsx(ga,{sx:{color:"#727272",mr:2}}),e.jsx(Ne,{to:`http://192.168.1.46/files/${G.pathPdf}`,target:"_blank",style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},children:e.jsx(d,{color:"#727272",fontFamily:"DM Sans",children:G.title})})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>h(G),children:e.jsx(We,{sx:{color:"#2F6FD0",width:20,height:20}})}),e.jsx(ur,{open:r,handleClose:M,data:m}),e.jsx(H,{children:e.jsx(Ne,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${G.pathPdf}`,children:e.jsx(Dt,{sx:{color:"#2F6FD0"}})})}),e.jsx(H,{onClick:()=>T(i.user&&i.user.id,G.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})})]})]},G.id))})]})]})},pr=({open:a,handleClose:t,details:s,userData:l})=>{o.useState(!1);const[r,u]=o.useState(s?s.priority:"Pes"),[f,C]=o.useState(s?s.status:"Başlanmadyk"),m=JSON.parse(localStorage.getItem("CRM_USER")),{id:S}=$e(),[p,A]=o.useState((s==null?void 0:s.name)||""),[b,F]=o.useState(s?s.endDate&&N(s.endDate).format("YYYY-MM-DD"):null),[g,j]=o.useState(s?s.startDate&&N(s.startDate).format("YYYY-MM-DD"):null);B(i=>i.users.status);const h=B(i=>i.users.data);o.useEffect(()=>{s&&(A(s.name||""),u(s.priority||""),C(s.status||""),j(s.startDate||""),F(s.endDate||""))},[s]);const M=ne();o.useState([]);const c=i=>{u(i.target.value)},w=i=>{C(i.target.value)};o.useEffect(()=>{M(Ye())},[M]);const I=i=>{A(i.target.value)},v=(i,E)=>{},z=()=>{const i={userId:m.id,projectId:s&&s.id,archived:!1,name:p,status:f,priority:r,startDate:R(g).format("YYYY-MM-DD"),endDate:R(b).format("YYYY-MM-DD")};p!=""&&r!=""&&g!==null&&b!=null?(M(wt({body:i,id:S})),t()):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:a,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:p,fullWidth:!0,onChange:I,sx:{borderRadius:"8px",height:56}})}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,defaultValue:l,fullWidth:!0,options:h,getOptionLabel:i=>`${se(i.name)} ${se(i.surname==null?"":i.surname)}`,disabled:!0,onChange:v,renderInput:i=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...i,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...i.InputProps,endAdornment:e.jsx(e.Fragment,{children:i.InputProps.endAdornment})}}),popupIcon:e.jsx(Te,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(s&&s.startDate).isValid()?R(s&&s.startDate):null,onChange:i=>{j(i?i?R(i).format("YYYY-MM-DD"):R(s&&s.startDate):R(s&&s.startDate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(s&&s.endDate).isValid()?R(s&&s.endDate):null,onChange:i=>{F(i&&i?R(i).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,onChange:c,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,onChange:w,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:z,children:"Ýatda sakla"})})]})]})})})},xr=({setProjectName:a,userData:t})=>{const[s,l]=o.useState(""),[r,u]=o.useState(!1);o.useState([]);const{id:f}=$e(),C=B(h=>h.projectDetail.status),m=B(h=>h.projectDetail.error),S=B(h=>h.projectDetail.data);o.useState([S]);const p=ne(),A=JSON.parse(localStorage.getItem("CRM_USER")),b=Ie();o.useEffect(()=>{p(ct(f))},[f,p]),C==="succeeded"&&a(f);const F={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},g=h=>{u(!0),l(h)},j=h=>{const M={projectId:h.id,userId:f,responsibleUserId:A.id};h&&f&&p(Ut(M))};return e.jsxs(n,{children:[C==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):C==="failed"?x.error(m):C==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"540px"},children:S.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(lt,{children:e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Fn.map(h=>e.jsx(_,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center",zIndex:1e3},children:h.title},h.id))})}),e.jsx(Xe,{children:S.map((h,M)=>e.jsxs(kt,{sx:{cursor:"pointer"},children:[e.jsx(_,{onClick:()=>b(`/projects/${h.project_id?h.project_id:h.id}`),sx:F,children:h.name}),e.jsxs(_,{onClick:()=>b(`/projects/${h.project_id?h.project_id:h.id}`),sx:F,children:[N(h.startDate).format("DD.MM.YYYY")," -"," ",N(h.endDate).format("DD.MM.YYYY")]}),e.jsx(_,{onClick:()=>b(`/projects/${h.project_id?h.project_id:h.id}`),sx:F,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(h.completion)}%`,height:"14px",backgroundColor:"#2F6FD0",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#2F6FD0"},children:`${Math.floor(h.completion)}%`})]})}),e.jsx(_,{onClick:()=>b(`/projects/${h.project_id?h.project_id:h.id}`),sx:{...F},children:h.priority=="Pes"?e.jsx(d,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):h.priority=="Orta"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(d,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(_,{onClick:()=>b(`/projects/${h.project_id?h.project_id:h.id}`),sx:F,children:h.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):h.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:h.status})}),e.jsx(_,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>g(h),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>j(h),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]})})]},M))})]})})}):"",e.jsx(pr,{open:r,handleClose:()=>u(!1),details:s,userData:t}),console.log(s)]})},gr=({open:a,handleClose:t,userData:s})=>{const[l,r]=o.useState(!1),[u,f]=o.useState("Orta"),[C,m]=o.useState("Başlanmadyk"),[S,p]=o.useState([]),[A,b]=o.useState([]);o.useState("");const[F,g]=o.useState(""),[j,h]=o.useState(""),[M,c]=o.useState("");B(D=>D.users.status);const w=B(D=>D.users.data),I=ne(),[v,z]=o.useState([]),i=D=>{f(D.target.value)},E=D=>{m(D.target.value)},$=D=>{D.length?(r(!0),b(D)):p(D)},O=D=>{D?(p(y=>y.filter(Y=>Y.id!==D)),b(y=>y.filter(Y=>Y.id!==D))):p(newValues),r(!1)};o.useEffect(()=>{I(Ye())},[I]);const te=D=>{g(D.target.value)},Q=(D,y)=>{y.length<S.length?(v.filter(Y=>!y.some(T=>T.id===Y.id)),p(y),z(v.filter(Y=>y.some(T=>T.id!==Y.id))),b(A.filter(Y=>y.some(T=>T.id!==Y.id)))):(y||y[0].id)&&($(y),p(()=>y.map(Y=>({id:Y.id?Y.id:Y.userId,name:Y.name,surname:Y.surname}))))};console.log(s);const P=()=>{const y={body:{name:F,status:C,priority:u,startDate:R(M).format("YYYY-MM-DD"),endDate:R(j).format("YYYY-MM-DD"),tasks:[{userId:s[0].id,name:F,status:C,priority:u,startDate:R(M).format("YYYY-MM-DD"),endDate:R(j).format("YYYY-MM-DD")}]},userId:s[0].id};F!=""&&u!=""&&M!==""&&j!=""&&s.length!=0?(I(Ct(y)),t(),p([]),z([]),g("")):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:a,onClose:t,disableAutoFocus:!0,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(J,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:F,fullWidth:!0,onChange:te,sx:{borderRadius:"8px",height:56}})}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,defaultValue:s,fullWidth:!0,options:w,getOptionLabel:D=>`${se(D.name)} ${se(D.surname==null?"":D.surname)}`,disabled:!0,onChange:Q,renderInput:D=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...D,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...D.InputProps,endAdornment:e.jsx(e.Fragment,{children:D.InputProps.endAdornment})}}),popupIcon:e.jsx(Te,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:D=>{c(D||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:D=>{h(D||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,onChange:i,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,onChange:E,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:P,children:"Ýatda sakla"})})]})]})}),e.jsx(Mn,{user:A,setSelectedUsers:b,openUserModal:l,handleCloseUserModal:O,setWorkers:z,allUsers:w})]})},fr=({data:a})=>{const[t,s]=o.useState("");B(p=>p.users.data),o.useState(!1);const[l,r]=o.useState(!1),[u,f]=o.useState([a]);o.useEffect(()=>{f([a])},[a]),console.log(u);const C=()=>r(!0),m=()=>r(!1);Ie();const S=p=>{s(p)};return e.jsx(Z,{height:"90vh",p:"0 15px",backgroundColor:"#fff",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:1,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"100%",children:e.jsx(d,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektleri"})}),e.jsxs(V,{sx:{color:"#fff",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:C,children:[e.jsx(Te,{}),"Proýekt goşmak"]}),e.jsx(gr,{open:l,userData:u,handleClose:m})]}),e.jsx(xr,{setProjectName:S,userData:u})]})})},mr={data:[],status:"idle",error:null,loading:!1},us=q("getAbsenseForUser",async a=>(await U.get(`/absence/get?permissionUserId=${a.permissionUserId}&userId=${a.userId}`)).data.date),hs=q("addAbsense",async a=>{try{const t=await U.post("/absence/add",a);if(t.data.message=="Successfully"){const s=await U.get(`/absence/get?permissionUserId=${a.permissionUserId}&userId=${a.userId}`);return x.success("Üstünlikli döredildi!"),s.data.date}else x.error(t.data.message)}catch(t){t.response.data.message==="Request error: The absence period overlaps with an existing absence"?x.error("Ulanyjy rugsatly!"):t.response.data.message===`Request error: startDate ${a.startDate} should not be later than endDate ${a.endDate}`?x.error("Sene nädogry!"):x.error("Ýalňyşlyk!")}}),ps=q("deleteAbsense",async a=>{const t=await U.delete(`/absence/delete?permissionUserId=${a.permissionUserId}&userId=${a.userId}&absenceId=${a.absenceId}`);if(t.data.message=="Successfully"){const s=await U.get(`/absence/get?permissionUserId=${a.permissionUserId}&userId=${a.userId}`);return x.success("Üstünlikli!"),s.data.date}else x.error(t.data.message)}),xs=q("updateAbsense",async a=>{try{const t=await U.put("/absence/update",a);if(t.data.message=="Successfully"){const s=await U.get(`/absence/get?permissionUserId=${a.permissionUserId}&userId=${a.userId}`);return x.success("Üstünlikli döredildi!"),s.data.date}else x.error(t.data.message)}catch(t){t.response.data.message==="Request error: The absence period overlaps with an existing absence"?x.error("Ulanyjy rugsatly!"):t.response.data.message==="Request error: startDate (2024-12-19) should not be later than endDate (2024-12-19)"?x.error("Sene nädogry!"):x.error("Ýalňyşlyk!")}}),jr=Pe({name:"absense",initialState:mr,reducers:{},extraReducers:a=>{a.addCase(hs.pending,t=>{t.status="loading..."}).addCase(hs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(hs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ps.pending,t=>{t.status="loading..."}).addCase(ps.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ps.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(us.pending,t=>{t.status="loading..."}).addCase(us.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(us.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(xs.pending,t=>{t.status="loading..."}).addCase(xs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(xs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),br=jr.reducer,yr=({open:a,handleCloseModal:t,data:s,absenseData:l})=>{const[r,u]=o.useState(null),[f,C]=o.useState(null),[m,S]=o.useState(""),[p,A]=o.useState("#7551E9"),[b,F]=o.useState([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}]),g=z=>{A(z)},j=ne(),h=JSON.parse(localStorage.getItem("CRM_USER")),M={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"};o.useEffect(()=>{},[l]);const c=en.useCallback(z=>{const i=R().startOf("day"),E=z.isBefore(i,"day"),$=r&&z.isSame(r,"day");f&&z.isSame(f,"day");const O=l==null?void 0:l.some(({startDate:te,endDate:Q})=>R(te).isSameOrBefore(z,"day")&&R(Q).isSameOrAfter(z,"day"));return E||O||$},[l,r,f]),w=en.useCallback(z=>{const i=R().startOf("day"),E=z.isBefore(i,"day"),$=l==null?void 0:l.some(({startDate:te,endDate:Q})=>R(te).isSameOrBefore(z,"day")&&R(Q).isSameOrAfter(z,"day")),O=f&&z.isSame(f,"day");return E||$||O},[l,r,f]),I=()=>{u(null),C(null),S(""),t()},v=()=>{if(!r||!f||!m){x.error("Maglumatlary giriz!");return}if(r.isSame(f,"day")){x.error("Seneler deň bolup bilmeýär!");return}j(hs({permissionUserId:h.id,userId:s.id,startDate:R(r).format("YYYY-MM-DD"),endDate:R(f).format("YYYY-MM-DD"),reason:m,color:p})),I()};return e.jsx(je,{dateAdapter:be,localeText:M,adapterLocale:"tk",children:e.jsx(oe,{open:a,onClose:I,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:"20px 25px"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",mb:2,children:[e.jsx(n,{}),e.jsx(d,{variant:"h6",children:"Täze Rugsat güni "}),e.jsx(H,{onClick:I,children:e.jsx(ue,{})})]}),e.jsx(ie,{label:"Başlanýan senesi",value:r,sx:{width:"100%"},shouldDisableDate:w,onChange:z=>u(z)}),e.jsx(ie,{label:"Tamamlanýan senesi",value:f,disabled:r==null,sx:{width:"100%",mt:2},shouldDisableDate:c,onChange:z=>C(z)}),e.jsx(J,{label:"Sebäp",variant:"outlined",fullWidth:!0,value:m,onChange:z=>S(z.target.value),sx:{mt:2}}),e.jsx(n,{direction:"row",mt:2,justifyContent:"space-between",spacing:"9px",children:b.map(z=>e.jsx(n,{onClick:()=>g(z.color),sx:{backgroundColor:z.color,width:{lg:52,md:52,sm:45,xs:40},height:{lg:52,md:52,sm:45,xs:40},display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:p===z.color?e.jsx(qe,{}):""},z.color))}),e.jsx(V,{variant:"contained",fullWidth:!0,onClick:v,sx:{mt:2},children:"Goşmak"})]})})})},wr=({open:a,handleCloseModal:t,data:s,absenseData:l})=>{const[r,u]=o.useState(l),[f,C]=o.useState(l?R(l.startDate).format("DD.MM.YYYY"):null),[m,S]=o.useState(l?R(l.endDate).format("DD.MM.YYYY"):null),[p,A]=o.useState(),[b,F]=o.useState("#7551E9"),[g,j]=o.useState([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}]),h=v=>{F(v)},M=ne(),c=JSON.parse(localStorage.getItem("CRM_USER")),w={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"};o.useEffect(()=>{l&&(C(l.startDate),S(l.endDate),A(l.reason||""),u(l||""),F(l.color||""))},[l]);const I=v=>{if(!f||!m||!p){x.error("Maglumatlary giriz!");return}M(xs({permissionUserId:c.id,absenceId:v,userId:s.id,startDate:R(f).format("YYYY-MM-DD"),endDate:R(m).format("YYYY-MM-DD"),reason:p,color:b})),t()};return e.jsx(je,{dateAdapter:be,localeText:w,adapterLocale:"tk",children:e.jsx(oe,{open:a,onClose:t,children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:"20px 25px"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",mb:2,children:[e.jsx(n,{}),e.jsxs(d,{variant:"h6",children:[" ",r&&se(r.reason)]}),e.jsx(H,{onClick:t,children:e.jsx(ue,{})})]}),e.jsx(ie,{label:"Başlanýan senesi",defaultValue:R(l?l.startDate:null).isValid()?R(l?l.startDate:null):null,sx:{width:"100%"},onChange:v=>C(v)}),e.jsx(ie,{label:"Tamamlanýan senesi",defaultValue:R(l?l.endDate:null).isValid()?R(l?l.endDate:null):null,sx:{width:"100%",mt:2},onChange:v=>S(v)}),e.jsx(J,{label:"Sebäp",variant:"outlined",fullWidth:!0,value:p,onChange:v=>A(v.target.value),sx:{mt:2}}),e.jsx(n,{direction:"row",mt:2,justifyContent:"space-between",spacing:"9px",children:g.map(v=>e.jsx(n,{onClick:()=>h(v.color),sx:{backgroundColor:v.color,width:{lg:52,md:52,sm:45,xs:40},height:{lg:52,md:52,sm:45,xs:40},display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:b===v.color?e.jsx(qe,{}):""},v.color))}),e.jsx(V,{variant:"contained",fullWidth:!0,onClick:()=>I(r.id),sx:{mt:2},children:"Goşmak"})]})})})},Cr=({open:a,handleClose:t,data:s})=>{const[l,r]=o.useState(!1),[u,f]=o.useState(!1),[C,m]=o.useState(s&&s.id),[S,p]=o.useState(),A=()=>r(!0),b=()=>{f(!1),r(!1)},F=ne(),g=B(I=>I.absense.data),j=B(I=>I.absense.status),h=B(I=>I.absense.error),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"};o.useEffect(()=>{s&&m(s.id)},[s]),o.useEffect(()=>{C&&F(us({permissionUserId:Ps.id,userId:C}))},[F,C]);const c=I=>{const v={absenceId:I,userId:C,permissionUserId:Ps.id};F(ps(v))},w=I=>{f(!0),p(I)};return e.jsx(oe,{open:a,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsxs(Z,{sx:M,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Ulanyjy Rugsat güni"}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsx(n,{alignItems:"end",width:"98%",children:e.jsxs(V,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:A,children:[e.jsx(Te,{sx:{color:"#90BAEB",width:25,height:25}}),"Täze Rugsat güni"]})}),e.jsx(n,{children:j==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):j==="failed"?x.error(h):j==="succeeded"?e.jsx(n,{sx:{height:"100%"},flexWrap:"wrap",children:g.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Rugsatly guni ýok"}):e.jsx(e.Fragment,{children:e.jsx(xt,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:g.map((I,v)=>e.jsx(xt,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",flexWrap:"wrap",minHeight:"155px",borderRadius:"12px",display:"flex",width:"300px",justifyContent:"space-around",alignItems:"start",bgcolor:I.color,p:1},children:e.jsxs(n,{width:"95%",sx:{...I.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"flex-start",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"flex-start",alignItems:"center",children:[e.jsxs(d,{color:"#fff",fontSize:22,fontFamily:"DM Sans",fontWeight:500,width:"90%",children:[v+1,". ",I.reason]}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:-1,children:[e.jsx(H,{onClick:()=>c(I.id),children:e.jsx(fa,{sx:{color:"#fff"}})}),e.jsx(H,{onClick:()=>w(I),children:e.jsx(We,{sx:{color:"#fff",width:20,height:20}})})]})]}),e.jsxs(d,{color:"#fff",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",children:["Baslanýan senesi:"," ",R(I.startDate).format("DD.MM.YYYY")]}),e.jsxs(d,{color:"#fff",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",children:["Tamamlanýan senesi:"," ",R(I.endDate).format("DD.MM.YYYY")]})]})})},v))})})}):""}),e.jsx(yr,{open:l,handleCloseModal:b,data:s,absenseData:g}),e.jsx(wr,{open:u,handleCloseModal:b,data:s,absenseData:S})]})})},Sr=()=>{var E,$,O,te,Q,P,D;const[a,t]=o.useState(R()),[s,l]=o.useState(!1),{id:r}=$e();Ls();const u=Ie(),f=ne(),C=B(y=>y.getWorkDate.statusMonth),m=B(y=>y.getWorkDate.errorMonth),S=B(y=>y.getWorkDate.employeerTime),[p,A]=o.useState(null);o.useEffect(()=>{const y={userId:r,date:N(a).format("YYYY-MM-DD")};f(Je(y))},[a,f]);const b=y=>{A(Y=>Y===y?null:y)},F=()=>l(!0),g=()=>l(!1),j={p:0,textAlign:"center",fontFamily:"DM Sans",maxWidth:"50px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},h={p:0,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},M=C==="succeeded"&&S.employeerTime.reduce((y,Y)=>{const T=new Date(Y.comeTime).toISOString().split("T")[0];if(y[T]||(y[T]={totalMinutes:0,firstComeTime:Y.comeTime,lastLeaveTime:Y.leaveTime,note:Y.note,workSessions:[]}),Y.comeTime&&Y.id){const G=new Date(Y.comeTime);let le=(new Date(Y.leaveTime)-G)/(1e3*60);le<0&&(le=0),y[T].totalMinutes+=le,y[T].workSessions.push({comeTime:Y.comeTime,leaveTime:Y.leaveTime,duration:le,note:Y.note}),y[T].firstComeTime>Y.comeTime&&(y[T].firstComeTime=Y.comeTime),(!y[T].lastLeaveTime||y[T].lastLeaveTime<Y.leaveTime)&&(y[T].lastLeaveTime=Y.leaveTime),!y[T].note&&Y.note&&(y[T].note=Y.note)}return y},{}),c=Object.keys(M).map(y=>{const{totalMinutes:Y,firstComeTime:T,lastLeaveTime:G,note:re}=M[y],le=Math.floor(Y/60),K=Y%60;return{date:y,totalHours:le,totalMinutes:Math.ceil(K),firstComeTime:T,lastLeaveTime:G,workSessions:M[y].workSessions,note:re}}),w=(y,Y)=>{if(!Y)return null;const T=new Date(y),G=new Date(y),[re,le]=Y.split(":").map(Number);if(G.setHours(re,le,0,0),T>G){const K=T-G;return Math.floor(K/(1e3*60))}return null},v=C==="succeeded"&&((y,Y)=>{const T=y.reduce((re,le)=>{const K=new Date(le).toISOString().split("T")[0];return re[K]||(re[K]=le),re},{});return Object.values(T).reduce((re,le)=>re+w(le,Y),0)})(((E=S.employeerTime)==null?void 0:E.map(y=>y.comeTime))||[],((O=($=S.user)==null?void 0:$.workTime)==null?void 0:O.startTime)||null),z=so(S,v),i=to(((Q=(te=S.user)==null?void 0:te.workTime)==null?void 0:Q.startTime)||null,((D=(P=S.user)==null?void 0:P.workTime)==null?void 0:D.endTime)||null);return e.jsxs(Z,{backgroundColor:"#fff",overflow:"auto",height:"100vh",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",pr:2,children:[e.jsxs(Ne,{to:"#",onClick:()=>u(-1),style:{textDecoration:"none",color:"#474747",display:"flex",alignItems:"center",marginLeft:10},children:[e.jsx(Vs,{}),e.jsx(d,{p:"5px 10px",fontSize:"20px",fontFamily:"Montserrat",fontWeight:"600",sx:{"&:hover":{textDecoration:"underline"}},children:"Işgärler / Profili"})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(V,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:190,borderRadius:"20px"},variant:"outlined",onClick:F,children:"Rugsat güni goşmak"}),e.jsx(Rn,{selectedDay:a,setDateNote:t})]})]}),e.jsx(Cr,{open:s,data:S.user,handleClose:g}),e.jsxs(n,{pb:1,direction:"row",alignItems:"center",justifyContent:"space-around",children:[e.jsx(hr,{data:S}),e.jsx(n,{backgroundColor:"#fff",width:"57%",height:"82vh",borderRadius:"20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(n,{width:"100%",children:C==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):C==="failed"?x.error(m):C==="succeeded"?e.jsx(lt,{sx:{height:"82.5vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Ve,{sx:{justifyContent:"space-between",height:"100%"},children:[e.jsx(Ge,{children:e.jsx(De,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:i.map(y=>e.jsx(_,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center",p:1.4},children:y.title},y.id))})}),e.jsx(Xe,{children:c.map((y,Y)=>e.jsxs(e.Fragment,{children:[e.jsxs(De,{children:[e.jsxs(_,{sx:{...h,direction:"row",justifyContent:"space-between"},children:[e.jsx(H,{onClick:()=>b(y.date),children:p===y.date?e.jsx(ma,{}):e.jsx(ja,{})}),N(y.date).format("DD.MM.YYYY")]}),e.jsx(_,{sx:j,children:N(y.firstComeTime).format("HH:mm")}),e.jsx(_,{sx:j,children:y.lastLeaveTime==null?e.jsx(d,{color:"tomato",children:"-"}):N(y.lastLeaveTime).format("HH:mm")}),e.jsx(_,{sx:j,children:`${y.totalHours}:${y.totalMinutes}`}),e.jsx(_,{sx:{...j,color:"tomato"},children:(()=>{var G,re;const T=w(y.firstComeTime,((re=(G=S==null?void 0:S.user)==null?void 0:G.workTime)==null?void 0:re.startTime)||null);return T?`${Math.floor(T/60)>0?`${Math.floor(T/60)}(sag):`:""}${T%60}(min)`:"-"})()}),e.jsx(_,{sx:h,children:y.note})]},Y),e.jsx(De,{children:e.jsx(_,{colSpan:7,sx:{paddingBottom:0,paddingTop:0},children:e.jsx(ba,{in:p===y.date,timeout:"auto",unmountOnExit:!0,children:e.jsxs(Z,{margin:1,children:[e.jsx(d,{variant:"h6",children:"Işlän wagtlary:"}),e.jsxs(Ve,{size:"small",children:[e.jsx(Ge,{children:e.jsxs(De,{children:[e.jsx(_,{children:"Gelen wagty"}),e.jsx(_,{children:"Giden wagty"}),e.jsx(_,{children:"Işlän sagady"}),e.jsx(_,{children:"Belligi"})]})}),e.jsx(Xe,{children:y.workSessions.map((T,G)=>e.jsxs(De,{children:[e.jsx(_,{children:T.comeTime?N(T.comeTime).format("HH:mm"):"-"}),e.jsx(_,{children:T.leaveTime?N(T.leaveTime).format("HH:mm"):"-"}),e.jsx(_,{children:T.leaveTime?`${Math.floor(T.duration/60)}(sag):${Math.ceil(T.duration%60)}(min)`:"-"}),e.jsx(_,{children:T.note?T.note:""})]},G))})]})]})})})})]}))}),e.jsx(De,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",bottom:0,zIndex:100,boxShadow:"0px -2px 10px 0px rgba(199,199,199,1)",height:35,p:0,width:"100%"},children:z.map(y=>e.jsx(_,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center",boxShadow:"0px -6px 9px 0px rgba(199,199,199,1)",p:.6},children:y.title},y.title))})]})}):""})})]}),e.jsx(fr,{data:S.user})]})},En="/assets/pattern-7eLabnOn.png",Ar=({openModal:a,events:t,setStartDate:s,setEndDate:l,holidays:r})=>{N.locale("tk"),N.updateLocale("tk",{weekdays:Dn.slice(0,7),weekdaysShort:$a.slice(0,7)}),N.updateLocale("tk",{months:In}),JSON.parse(localStorage.getItem("CRM_USER"));const[u,f]=o.useState(N()),[C,m]=o.useState(null);o.useState(""),o.useState(!1);const[S,p]=o.useState("month"),A=()=>{let v,z;if(S==="month")v=u.clone().startOf("month").startOf("isoWeek"),z=u.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(S==="week")v=u.clone().startOf("isoWeek"),z=u.clone().endOf("isoWeek").subtract(1,"day");else return[];const i=v.clone().subtract(1,"day"),E=[];for(;i.isBefore(z,"day");)E.push(Array(7).fill(0).map(()=>i.add(1,"day").clone()));return E.length===5&&E[4][6].isBefore(z,"day")&&E.push(Array(7).fill(0).map(()=>i.add(1,"day").clone())),{calendar:E,firstDay:v.format("YYYY MM DD"),lastDay:z.format("YYYY MM DD"),endDay:z,startDay:v}};o.useEffect(()=>{const{startDay:v,endDay:z}=A();s(v.format("YYYY-MM-DD")),l(z.format("YYYY-MM-DD"))},[u,S,s,l]);const b=v=>v.day()===0,F=v=>{m(v),a(v.format("YYYY-MM-DD"))},g=v=>r&&r.some(z=>N(z.date).isSame(v,"day")),j=v=>t.some(z=>N(z.comeTime).isSame(v,"day")),h=v=>t.filter(z=>N(z.comeTime).isSame(v,"day")),M=()=>{if(S==="day")return renderDayView();{const v=A(),z=Hs(),i=Qs(z.breakpoints.down("sm"));return e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{children:(i?N.weekdaysShort():N.weekdays()).map((E,$)=>e.jsx(_,{sx:{backgroundColor:"#F5F6FA",height:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},p:1,...$===0?{borderTopLeftRadius:"12px"}:"",...i?N.weekdaysMin().length-1===$:N.weekdays().length-1===$?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:{lg:14,md:14,sm:10,xs:10}},align:"center",children:E},$))})}),e.jsx(Xe,{children:v.calendar.map((E,$)=>e.jsx(De,{children:E.map((O,te)=>e.jsxs(_,{onClick:()=>{F(O)},sx:{cursor:"pointer",border:"1px solid #ddd",padding:0,backgroundColor:b(O)?"#ADD8E6   ":"#fff",height:{lg:"85px",md:"85px",sm:"60px",xs:"60px"},fontSize:"16px",fontWeight:500,color:O.month()===u.month()?"#474747":"#959494",...O.month()===u.month()?"":{backgroundImage:`url(${En})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...N().isSame(O,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%",zIndex:100}},children:O.format("D")}),j(O)&&t.filter(Q=>N(Q.comeTime).isSame(O,"day")).map((Q,P)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:Q.color?"#e5dffb":"white",color:O?Q.color:"blue",borderLeft:`6px solid ${Q.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(d,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:se(Q.note)}),h(O).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:Q.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",h(O).length-1]})]},P)),g(O)&&r.filter(Q=>N(Q.date).isSame(O,"day")).map((Q,P)=>e.jsx(n,{style:{fontSize:"14px",backgroundColor:Q.color?"transparent":"white",color:O?Q.color:"blue",border:`3px solid ${Q.color}`,height:"100%",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"flex-end",alignItems:"end",spacing:1,children:e.jsx(d,{width:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"start",pt:2,children:Q.name})},P))]},te))},$))})]})}},c=()=>{f(u.clone().subtract(1,"month"))},w=()=>{f(u.clone().add(1,"month"))},I=()=>{f(N())};return e.jsxs(n,{sx:{p:{xs:"5px 10px 2px 10px",md:"10px 15px 5px 15px"}},children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:{lg:"space-between",md:"space-between",sm:"center",xs:"flex-start"},spacing:1,children:[e.jsx(V,{sx:{color:"#565656",fontSize:{lg:14,md:14,sm:10,xs:10},textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:{lg:68,md:68,ms:48,xs:48},height:{lg:40,md:40,ms:30,xs:30}},onClick:I,children:"Şu gün"}),e.jsxs(n,{direction:"row",width:{lg:"66%",md:"66%",sm:"80%",xs:"65%"},alignItems:"center",justifyContent:{lg:"space-between",md:"space-between",sm:"center",xs:"center"},spacing:1,children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656",p:0},onClick:c,children:e.jsx(bn,{sx:{width:18,height:20}})}),e.jsx(d,{width:{lg:205,md:205,sm:155,xs:105},align:"center",color:"#474747",pt:1,fontWeight:500,fontSize:{lg:24,md:24,sm:20,xs:18},gutterBottom:!0,children:u.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656",p:0},onClick:w,children:e.jsx(yn,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:{lg:136,md:136,sm:106,xs:76},direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(V,{sx:{width:{lg:68,md:68,ms:48,xs:48},height:{lg:40,md:40,ms:30,xs:30},fontSize:{lg:14,md:14,sm:10,xs:10},color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...S==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"}}:{background:"#fff"}},onClick:()=>p("week"),children:"Hepde"}),e.jsx(V,{sx:{width:{lg:68,md:68,ms:48,xs:48},height:{lg:40,md:40,ms:30,xs:30},fontSize:{lg:14,md:14,sm:10,xs:10},color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...S=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>p("month"),children:"Aý"})]})]})]}),M()]})},kr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFMSURBVHgBzZUxTgMxEEX/2Bu0QkLKEZYKIVHkCOEGUIDELeihCAJEyRFSUqTIFcIJki6CBucESU/sYTdRCmKTmYQt8prVjvfPt72eMUGgM+w2bZ63UmMecJ3TG7dJn0HAHh61CdxPjgWclw+3SW8gYCg4/APZwPvZX2MecwcBgoKnjx6n4vcnV6JeXMEC5kkUAjso0BkYmiJ2mKikmo8QWJVsdwOm6EcTmS8oUBkw4qPKwde3RQbk1mPEPNNpFQRjomScMN3ZIFnNZOpbQaqaNVW8mAeUrFezpoorxG66gpnfy4wFltOaYl9Qb1F18TTy/MLDIsAPpItmK4OX8VvhbTYsz2azeq8anfnG5d3Z9UjSqk6Rp6y7Sr6cFRV8QK8ara4XgY+jCHMBBUoDRFtRNrsBFKgMLDdu6XdrGM29fUDdPI577efPfmsbzQ/mEmtiWItDBwAAAABJRU5ErkJggg==",Dr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH2SURBVHgB7ZlNTsJAFIDfVHCNC3TrEeAIbiTEhV7BE0hPQDlB4QSegYVRcYGeQI/gzgRi5ADQ57zYmmaYAr5Oh4mZLyHpzwTmy5u+94YCeDyePAKYxPcfp+KgdisPW/LTgBL0zpvseRA1YJAKvELJyZsiAA5BMARHBAiWhBDBJVgknsxao8d5v+g+azmplF3TmyABAWKKAhpSBG46zYE6hrecLJEJQLp0pUiki4izEqpARpIka1F3UqJIAFfJIOyeROp45yT+KkA4JcERILTZaTiZY/6ck33ih3kPVvgcXhy/7TSeKUBUEonR02dfBBCLupjGd7PWtvFlBAjjEiSAmETpaWObSFkBwriEJgUWipgQIIxLhJ1mhAhqVV0TMSVAGGk7VEgkli2CEJCvrpnIGdRpD2BGgKhEgtgkkh3nx28S2JYtK60TRUsLDEUgo/JiVyDyS1kBwkrFLhIxIUBYaztUEVMCRGUPto7sYZfFBEwJEFYlCBIBwzi9s9sVL+EKXsIVuNlpAbnWQe1tbMOLhICdtpxVgEkyVq+xJHBZu4afaNhFiAXgYU+9zJIIu0fvuKq15TZ0DDaQk0fAF1wetOm31dvsip1+2RU4gE+xrvAvJLT/7Mm8/wUW3wSVfb+hj8Qe6wAHrcTe6gATrYT1OuDxeIzyDSk9ACXAXvuiAAAAAElFTkSuQmCC",Ir={data:[],status:"idle",error:null,loading:!1},st=q("getHolidays",async a=>(await U.get(`/holiday/get/interval?startDate=${a.startDate}&endDate=${a.endDate}`)).data),gs=q("createHoliday",async a=>{const t={name:a.name,date:a.date,color:a.color};if((await U.post("/holiday/add",t)).data.message==="Successfully added")return x.success("Üstünlikli üýtgedildi!"),(await U.get(`/holiday/get/interval?startDate=${a.startDate}&endDate=${a.endDate}`)).data;x.error("Şowsuz!")}),At=q("deleteHoliday",async a=>{if((await U.delete(`/holiday/delete?id=${a.id}`)).data.message==="Successfully deleted")return x.success("Üstünlikli üýtgedildi!"),(await U.get(`/holiday/get/interval?startDate=${a.startDate}&endDate=${a.endDate}`)).data;x.error("Şowsuz!")}),fs=q("updateHoliday",async a=>{const t={id:a.id,name:a.name,date:a.date,color:a.color};if((await U.put("/holiday/update",t)).data.message==="Successfully update")return x.success("Üstünlikli üýtgedildi!"),(await U.get(`/holiday/get/interval?startDate=${a.startDate}&endDate=${a.endDate}`)).data;x.error("Şowsuz!")}),Fr=Pe({name:"holidays",initialState:Ir,reducers:{},extraReducers:a=>{a.addCase(st.pending,t=>{t.status="loading..."}).addCase(st.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(st.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(gs.pending,t=>{t.status="loading..."}).addCase(gs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(gs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(At.pending,t=>{t.status="loading..."}).addCase(At.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(At.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(fs.pending,t=>{t.status="loading..."}).addCase(fs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(fs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),vr=Fr.reducer,Wn=({open:a,handleClose:t,startDate:s,endDate:l})=>{const[r,u]=o.useState(""),[f,C]=o.useState(""),[m,S]=o.useState("#05dac5"),p=ne();B(j=>j.holidays.data.data),B(j=>j.holidays.status),B(j=>j.holidays.error);const[A,b]=o.useState([{color:"#05dac5",id:1},{color:"#4CAF50",id:2},{color:"#FF9E58",id:3},{color:"#1E88E5",id:4}]),F=j=>{S(j)},g=()=>{const j={name:r,date:R(f).format("YYYY-MM-DD"),color:m,startDate:s,endDate:l};r!==""&&f!==""?(p(gs(j)),t()):x.error("Maglumatlary giriz!")};return o.useEffect(()=>{p(st())},[p]),e.jsx(oe,{open:a,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsx(Re,{in:a,children:e.jsxs(Z,{sx:{position:"absolute",top:"35%",left:"35%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},children:[e.jsx(n,{alignItems:"end",p:"0",children:e.jsx(H,{onClick:t,sx:{p:0},children:e.jsx(ue,{sx:{width:28,height:28,color:"gray",p:0}})})}),e.jsxs(n,{children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(d,{fontWeight:600,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Baýramçylyk ady"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:r,autoComplete:"off",name:"username",onChange:j=>u(j.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"50px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsx(n,{direction:"row",children:e.jsx(je,{dateAdapter:be,adapterLocale:"tk",localeText:Gs,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",spacing:"16px",children:[e.jsxs(n,{width:"50%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",fontFamily:"Montserrat",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{onChange:j=>{C(j?R(j).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsx(n,{pt:3,width:"50%",direction:"row",justifyContent:"space-between",spacing:"9px",children:A.map(j=>e.jsx(n,{onClick:()=>F(j.color),style:{backgroundColor:j.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:m===j.color?e.jsx(qe,{}):""},j.color))})]})})})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(V,{variant:"outlined",sx:{mt:2,textTransform:"revert",fontSize:16},onClick:g,children:"Ýatda sakla"})})]})})})},zn=({open:a,handleClose:t,startDate:s,endDate:l,holidayData:r})=>{const[u,f]=o.useState(r&&r.name),[C,m]=o.useState(""),[S,p]=o.useState("#05dac5"),A=ne();B(h=>h.holidays.data.data),B(h=>h.holidays.status),B(h=>h.holidays.error);const[b,F]=o.useState([{color:"#05dac5",id:1},{color:"#4CAF50",id:2},{color:"#FF9E58",id:3},{color:"#1E88E5",id:4}]);o.useEffect(()=>{r&&f(r.name),r&&p(r.color),r&&m(r.date)},[r]);const g=h=>{p(h)},j=()=>{const h={id:r&&r.id,name:u,date:R(C).format("YYYY-MM-DD"),color:S,startDate:s,endDate:l};u!==""&&C!==""?(A(fs(h)),t()):x.error("Maglumatlary giriz!")};return o.useEffect(()=>{A(st())},[A]),e.jsx(oe,{open:a,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsx(Re,{in:a,children:e.jsxs(Z,{sx:{position:"absolute",top:"35%",left:"35%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},children:[e.jsx(n,{alignItems:"end",p:"0",children:e.jsx(H,{onClick:t,sx:{p:0},children:e.jsx(ue,{sx:{width:28,height:28,color:"gray",p:0}})})}),e.jsxs(n,{children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(d,{fontWeight:600,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Baýramçylyk ady"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:u,autoComplete:"off",name:"username",onChange:h=>f(h.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"50px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsx(n,{direction:"row",children:e.jsx(je,{dateAdapter:be,adapterLocale:"tk",localeText:Gs,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",spacing:"16px",children:[e.jsxs(n,{width:"50%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",fontFamily:"Montserrat",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{value:R(r&&r.date,"YYYY-MM-DD").isValid()?R(r&&r.date,"YYYY-MM-DD"):null,onChange:h=>{m(h?R(h).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsx(n,{pt:3,width:"50%",direction:"row",justifyContent:"space-between",spacing:"9px",children:b.map(h=>e.jsx(n,{onClick:()=>g(h.color),style:{backgroundColor:h.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:S===h.color?e.jsx(qe,{}):""},h.color))})]})})})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(V,{variant:"outlined",sx:{mt:2,textTransform:"revert",fontSize:16},onClick:j,children:"Ýatda sakla"})})]})})})},Ns=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState(()=>JSON.parse(localStorage.getItem("holidayShown")||!0)),[r,u]=o.useState(!1),[f,C]=o.useState(!1),[m,S]=o.useState([]),[p,A]=o.useState("#7551E9"),[b,F]=o.useState(null),[g,j]=o.useState({}),[h,M]=o.useState(""),[c,w]=o.useState(""),[I,v]=o.useState(""),[z,i]=o.useState([]),[E,$]=o.useState(),[O,te]=o.useState(),[Q,P]=o.useState(),[D,y]=o.useState(),Y=ne(),T=JSON.parse(localStorage.getItem("CRM_USER")),G=B(W=>W.getWorkDate.data),re=B(W=>W.getWorkDate.statusMonth),le=B(W=>W.holidays.data.data),K=B(W=>W.holidays.status);B(W=>W.holidays.error),o.useEffect(()=>{const W={startDate:R(c).format("YYYY-MM-DD"),endDate:R(I).format("YYYY-MM-DD")};c!==""&&I!==""&&Y(st(W))},[c,I,Y]);const de=B(W=>W.getWorkDate.employeerTime.employeerTime),L=B(W=>W.getWorkDate.adminNotes),ye=B(W=>W.getWorkDate.adminNote),ee=B(W=>W.getWorkDate.statusAdminNote),ce=B(W=>W.getWorkDate.status);N.locale("tk"),o.useEffect(()=>{S([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]);const Se=W=>{console.log(W);const me={userId:T.id,date:W};N(W).isAfter(N(),"day")||Y(Pt(me))},Ce=G.filter(W=>W.leaveTime===null);o.useEffect(()=>{const W={userId:T.id,date:N(c).add(13,"days").format("YYYY-MM-DD")};c!==""&&Y(Je(W))},[c,Y]),o.useEffect(()=>{const W={startDate:c,endDate:I,userId:T.id};(W.startDate||W.endDate!=="")&&(Y(Ht(W)),Y(Kt(T.id)))},[c,I,Y]);const ve=re==="succeeded"&&de.reduce((W,me)=>{if(me.note!==null){const xe=N(me.comeTime).format("YYYY-MM-DD");W[xe]||(W[xe]=[]),W[xe].push(me)}return W},{});ee==="succeeded"&&L.reduce((W,me)=>{if(me.note!==null){const xe=N(me.date,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD");W[xe]||(W[xe]=[]),W[xe].push(me)}return W},{});const Ee=W=>{A(W)},Be=()=>{C(!1),t(!1),i([])},we=W=>{F(W),t(!0),Se(W)},at=()=>{const W={userId:T.id,comeStatus:!0,userGetTime:{id:T.id,date:b}};Y(Bt(W))},ot=()=>{const W={userId:T.id,leaveStatus:!0,userGetTime:{id:T.id,date:b}};Y(Ot(W))},Ke=re==="succeeded"?de.filter(W=>W.note!==null):[],Rs=()=>{const W={id:G[G.length-1].id,note:h,color:p,userGetTime:{id:T.id,date:b}};h!==""&&Y(Nt(W)),M("")},Oe=()=>{const W={id:O.id,note:h,color:p,userGetTime:{id:T.id,date:b}};h!==""?Y(Lt(W)):x.error("Maglumatlary giriziň!"),M("")},Le=W=>{W.preventDefault(),b&&(j({text:h,color:p}),Rs(),t(!1))},Ys=()=>{Oe(),j({text:h,color:p}),C(!1)},_e=W=>{M(W.note),te(W),C(!0),$(W.id)},gt=W=>{const me={id:W,userId:T.id,date:N(c).add(13,"days").format("YYYY-MM-DD")};me.id&&me.userId&&Y(_t(me))},et=W=>{const me={id:W,startDate:R(c).format("YYYY-MM-DD"),endDate:R(I).format("YYYY-MM-DD")};me.id&&Y(At(me))},ft=W=>{P(W),y(!0)};return e.jsx(Z,{backgroundColor:"#fff",children:e.jsxs(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},mt:"10px",justifyContent:"space-around",flexDirection:{xs:"column-reverse",lg:"row",md:"row",sm:"column"},children:[e.jsxs(n,{mt:1,direction:"column",width:{lg:"28%",md:"28%",sm:"100%",xs:"100%"},height:"88vh",children:[e.jsx(n,{backgroundColor:"#fff",spacing:2,width:"90%",borderRadius:"20px",m:"0px 20px ",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",mb:"14px",sx:{display:"flex",minHeight:"200px",maxHeight:"35%"},className:"notes",overflow:"auto",children:e.jsxs(n,{maxHeight:"100%",children:[e.jsx(n,{direction:"row",children:e.jsx(d,{textAlign:"start",fontWeight:600,color:"#DC6262",fontSize:15,mb:"10px",p:"18px 20px 0 14px",children:"Admindan bellik"})}),e.jsx(Wn,{open:r,handleClose:()=>u(!1),startDate:c,endDate:I}),e.jsx(zn,{open:D,handleClose:()=>y(!1),holidayData:Q,startDate:c,endDate:I}),e.jsx(n,{children:ee==="loading..."?e.jsxs(n,{direction:"column",height:"10%",alignItems:"center",sx:{gap:"10px",mt:"10px"},children:[e.jsx(fe,{}),"Loading..."]}):ee==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"33%",mt:4,children:"Ýalňyşlyk!"}):ee==="succeeded"?L.length==0&&ye.length==0?e.jsx(d,{pt:4,textAlign:"center",children:"Bellik ýok"}):L.map(W=>e.jsxs(n,{children:[e.jsx(Ue,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"3px",borderRadius:"5px"},direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:kr,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:se(W.title)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(W.date).format("DD.MM.YYYY HH:mm")})]})]})]},W.id)):""}),e.jsx(n,{children:ye.map(W=>e.jsxs(n,{children:[e.jsx(Ue,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"5px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:Dr,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:se(W.content)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(W.createdAt).format("DD.MM.YYYY HH:mm")})]})]},W.id)]},W.id))})]})}),e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"90%",sx:{height:"100%"},borderRadius:"20px",alignItems:"center",m:"0px 20px ",p:"20px 10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",overflow:"auto",children:[e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(V,{variant:"outlined",sx:{fontWeight:600,color:"#474747",textTransform:"revert",fontSize:14,width:"100%",height:"45px",...s==!0?{bgcolor:"#2F6FD0",color:"#fff","&:hover":{bgcolor:"#2F6FD0",color:"#fff"}}:{bgcolor:"#fff",color:"#474747","&:hover":{bgcolor:"#fff",color:"#474747"}}},onClick:()=>{l(!0),localStorage.setItem("holidayShown",JSON.stringify(!0))},children:"Ýetişik bellikleri"}),e.jsx(V,{variant:"outlined",sx:{fontWeight:600,color:"#474747",textTransform:"revert",fontSize:14,width:"90%",height:"45px","&:hover":{bgcolor:"#fff",color:"#474747"},...s==!1?{bgcolor:"#2F6FD0",color:"#fff","&:hover":{bgcolor:"#2F6FD0",color:"#fff"}}:{bgcolor:"#fff",color:"#474747"}},onClick:()=>{l(!1),localStorage.setItem("holidayShown",JSON.stringify(!1))},children:"Baýramçylyklar"})]}),e.jsx(Ue,{sx:{width:"100%"}}),s==!0?re==="loading..."||ee==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(fe,{}),"Loading..."]}):re==="failed"||ee==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):re==="succeeded"||ee==="succeeded"?Ke.length===0||Ke===void 0?e.jsx(d,{pt:4,children:"Bellik ýok"}):e.jsx(Re,{in:s==!0,style:{transformOrigin:"0 0 0"},timeout:500,children:e.jsx(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:e.jsx(n,{children:Object.keys(ve).map((W,me)=>e.jsxs(Ds,{children:[e.jsx(Is,{expandIcon:e.jsx(Fs,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:N(W).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:ve[W].length})]})}),e.jsx(vs,{sx:{p:0},children:ve[W].map(xe=>e.jsxs(n,{children:[e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:xe.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:se(xe.note)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(xe.comeTime).format("DD.MM.YYYY HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...N().isSame(xe.comeTime,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>_e(xe),sx:{mr:-1},children:e.jsx(bt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>gt(xe.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]}),e.jsx(Ue,{sx:{width:"100%"}})]},xe.id))})]},me))})})}):"":e.jsxs(n,{width:"100%",children:[e.jsxs(V,{variant:"outlined",sx:{...T.role=="USER"&&{display:"none"},width:"100%",textTransform:"revert",mt:1,border:"0.5px solid green",color:"green","&:hover":{border:"0.5px solid green"}},onClick:()=>u(!0),children:[e.jsx(Te,{sx:{color:"green",width:25,height:25,mr:2}}),"Baýramçylyk güni goşmak"]}),e.jsx(n,{children:K==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(fe,{}),"Loading..."]}):K==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):K==="succeeded"?le.length?le.map(W=>e.jsx(Re,{in:s==!1,children:e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsxs(n,{direction:"row",gap:"15px",alignItems:"center",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:W.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:W.name}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(W.date).format("DD.MM.YYYY")})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...N().isSame(W.comeTime,"day")&&T.role!=="USER"?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>ft(W),sx:{mr:-1},children:e.jsx(bt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>et(W.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]})})):e.jsx(d,{pt:4,textAlign:"center",children:"Baýramçylyk ýok"}):""})]}),N(b).isAfter(N(),"day")?"":e.jsx(oe,{closeAfterTransition:!0,open:a,onClose:Be,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Re,{in:a,style:{transformOrigin:"1 0 0"},timeout:500,children:e.jsxs(Z,{sx:Ka,height:"605px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{...N().isSame(b,"day")?{marginBottom:"0px"}:{marginBottom:"85px"}},children:[e.jsx(d,{textAlign:"end",fontFamily:"Montserrat",fontSize:32,width:"70%",color:"#474747",fontWeight:500,children:N(b).format("DD.MM.YYYY")}),e.jsx(H,{onClick:Be,children:e.jsx(ue,{sx:{width:38,height:38,color:"#DC6262"}})})]}),e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"center",spacing:"20px",pt:"10px",pb:"10px",sx:{...N().isSame(b,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(V,{disabled:Ce.length>0,sx:{...Ce.length==0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,border:"1px solid #D5D5D5",borderRadius:"50px",height:55,"&:hover":{background:"#78a880"}},onClick:at,children:"Geldim"}),e.jsx(V,{disabled:Ce.length==0,sx:{...Ce.length>0?{backgroundColor:"#9FC2A5",color:"#fff","&:hover":{background:"#9FC2A5"}}:{backgroundColor:"#F5F6FA",color:"#474747","&:hover":{background:"#F5F6FA"}},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55},onClick:ot,children:"Gitdim"})]}),ce==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(fe,{}),"Loading..."]}):ce==="failed"?e.jsx(d,{textAlign:"center",sx:{...N().isSame(b,"day")?{height:"28%"}:{height:"36%"}},mt:4,fontSize:35,children:"Maglumat ýok"}):ce==="succeeded"?G.length===0?e.jsx(d,{mt:4,textAlign:"center",sx:{...N().isSame(b,"day")?{height:"35%"}:{height:"36%"}},fontSize:35,children:"Maglumat ýok"}):e.jsxs(n,{sx:{...N().isSame(b,"day")?{minHeight:"42%",maxHeight:"28%"}:{height:"70%"}},className:"times",overflow:"scroll",children:[e.jsxs(n,{spacing:"10px",direction:"row",justifyContent:"space-between",p:"0 10px 20px 30px",width:"100%",position:"sticky",top:"0",backgroundColor:"#fff",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:{lg:15,md:15,sm:13,xs:12},textAlign:"center",children:"Gelen wagty"}),e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:{lg:15,md:15,sm:13,xs:12},children:"Giden wagty"}),e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:{lg:15,md:15,sm:13,xs:12},children:"Işlän sagady"})]}),e.jsx(n,{direction:"column",width:"100%",spacing:"10px",children:G.map((W,me)=>e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.jsx(d,{fontFamily:"Montserrat",color:"#000",textAlign:"center",fontSize:15,children:me+1}),e.jsxs(n,{width:"100%",spacing:"5px",direction:"row",alignItems:"center",justifyContent:"space-between",border:"1px solid #d5d5d5",p:"0 40px",borderRadius:"50px",backgroundColor:"#F8F9FA",children:[e.jsx(n,{height:25,color:"#A6A6A6",fontSize:15,fontWeight:400,justifyContent:"flex-start",alignItems:"center",direction:"row",children:e.jsx(d,{fontFamily:"Montserrat",color:"#A6A6A6",textAlign:"center",fontSize:15,children:N(W.comeTime).format("HH:mm")})}),e.jsx(n,{height:35,color:"#A6A6A6",fontSize:15,fontWeight:400,alignItems:"start",justifyContent:"center",children:W.leaveTime!=null?N(W.leaveTime).format("HH:mm"):""}),e.jsx(n,{height:25,fontSize:15,fontWeight:400,alignItems:"start",color:"#A6A6A6",justifyContent:"center",children:W.comeTime&&W.leaveTime?N.duration(N(W.leaveTime).diff(N(W.comeTime))).hours()+":"+N.duration(N(W.leaveTime).diff(N(W.comeTime))).minutes():""})]})]}))},Ns)]}):"",e.jsx(n,{direction:"column",sx:{...N().isSame(b,"day")?{display:"flex"}:{display:"none"}},children:e.jsxs("form",{onSubmit:Le,children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:h,autoComplete:"off",name:"eventText",onChange:W=>M(W.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"9px",children:m.map(W=>e.jsx(n,{onClick:()=>Ee(W.color),sx:{backgroundColor:W.color,width:{lg:52,md:52,sm:45,xs:40},height:{lg:52,md:52,sm:45,xs:40},display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:p===W.color?e.jsx(qe,{}):""},W.color))}),e.jsx(V,{sx:{backgroundColor:"#F5F6FA",color:"#474747",textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:{lg:185,md:185,sm:155,xs:135},borderRadius:"50px",border:"1px solid #D5D5D5",height:55,mt:{lg:-.5,md:-.5,sm:-1,xs:-1.5},"&:hover":{background:"#78a880",color:"#F5F6FA"}},type:"submit",children:"Goşmak"})]})]})," "]})]})})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:f,onClose:Be,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Re,{in:f,children:e.jsxs(Z,{sx:Bs,height:"565px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(H,{onClick:Be,children:e.jsx(ue,{sx:{width:38,height:38,color:"#DC6262"}})}),e.jsx(d,{textAlign:"center",fontFamily:"Montserrat",fontSize:32,color:"#474747",fontWeight:500,children:O!==void 0?N(O.comeTime).format("DD.MM.YYYY"):""}),e.jsx(H,{onClick:Ys,children:e.jsx(qe,{sx:{width:38,height:38,color:"#9FC2A5"}})})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"10px",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(J,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:h,autoComplete:"off",name:"username",onChange:W=>M(W.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:m.map(W=>e.jsx(n,{onClick:()=>Ee(W.color),style:{backgroundColor:W.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:p===W.color?e.jsx(qe,{}):""},W.color))})]})]})})})]})]}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:{lg:"68%",md:"68%",sm:"100%",xs:"100%"},borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(Ar,{openModal:we,color:p,events:Ke,setEvents:j,setStartDate:W=>w(W),setEndDate:W=>v(W),holidays:le})})]})})},Mr=()=>{const a=JSON.parse(localStorage.getItem("CRM_USER")),t=Ie();return o.useEffect(()=>{a.role==="ADMIN"&&t("/employees")},[a]),e.jsx(Z,{height:"100vh",width:"100%",className:"notes",backgroundColor:"#fff",overflow:"auto",children:a.role==="USER"?e.jsx(Ns,{}):a.role==="MODERATOR"?e.jsx(Ns,{}):a.role==="ADMIN"?e.jsx(Yn,{}):""})},$s="http://192.168.1.46",Rr=async a=>{const t=await fetch(`${$s}/api/chat/chats/${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},ln=async a=>{const t=await fetch(`${$s}/api/chat/users/${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},tt=Sn(`${$s}:5022`),Yr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Tr=()=>{const[a,t]=o.useState({name:"",surname:"",img:""}),[s,l]=o.useState(""),[r,u]=o.useState(),[f,C]=o.useState(null),[m,S]=o.useState(!1),[p,A]=o.useState(null),b=Number(r),[F,g]=o.useState(""),j=o.useRef(null),[h,M]=o.useState([]),[c,w]=o.useState([]),[I,v]=o.useState(null),[z,i]=o.useState(null),[E,$]=o.useState(null),[O,te]=o.useState(null),[Q,P]=o.useState([]),D=o.useRef(null),y=h.length?h.filter(K=>K.name&&K.name.toLowerCase().includes(F.toLowerCase())):h;o.useEffect(()=>{const K=JSON.parse(localStorage.getItem("CRM_USER"));u(K.id)},[r]),o.useEffect(()=>{(async()=>{const de=await Rr(r);M(de)})()},[]),o.useEffect(()=>((async()=>{const de=await ln(r);w(de.users),M(de.chats),j.current&&j.current.focus()})(),tt.emit("register",r),tt.on("message",de=>{const{senderId:L,receiverId:ye,text:ee}=de;P(ce=>[...ce,{senderId:Number(r),receiverId:ye,text:ee}])}),()=>tt.off("message")),[r]),o.useEffect(()=>{D.current&&(D.current.scrollIntoView({behavior:"smooth"}),j.current&&j.current.focus())},[Q]);const Y=async(K,de)=>{tt.emit("createchat",{senderId:K,receiverId:de});const L=await ln(r);w(L.users),M(L.chats)},T=K=>{K.preventDefault(),s&&f&&(tt.emit("message",{senderId:r,recipientId:f,message:s,chatId:I,oppositeChatId:O,oppositeSenderId:z,oppositeReceiverId:E}),l(""))},G=(K,de)=>(tt.emit("getchat",{chatId:de,senderId:K}),tt.on("getchat",L=>{const{chatHistory:ye}=L;P(ye)}),j.current&&j.current.focus(),()=>tt.off("getchat")),re=(K,de,L,ye,ee,ce,Se,Ce,ve,Ee)=>{C(K),t({name:de,surname:L,img:ye}),v(ee),i(ce),$(Se),te(Ce),A(ve),G(Ee,ee)},le=(K,de,L)=>{C(K),t(de),Y(L,K),S(!1)};return e.jsx(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{width:"30%",height:"100%",borderRadius:"10px",backgroundColor:"#f0f0f0",children:e.jsxs(n,{spacing:1,justifyContent:"center",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",spacin:2,width:"100%",sx:{p:{lg:"15px 5px 0 10px",xs:"0 5px 0 5px"},gap:"5px"},children:[e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,onChange:K=>g(K.target.value),value:F,sx:{},InputProps:{startAdornment:e.jsx("img",{src:An,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsx(H,{onClick:()=>S(!0),sx:{width:"45px",height:"45px",border:"0.5px solid #cdcdcd",color:"#fff",background:"#2F6FD0","&:hover":{background:"#2F6FD0"}},children:"+"})]}),h.length==0?"Does not have chats":y.map((K,de)=>e.jsxs(n,{onClick:()=>re(K.id,K.name,K.surname,K.img,K.chatId,K.oppositeSenderId,K.oppositeReceiverId,K.oppositeChatId,K.receiverId,K.senderId),direction:"row",spacing:2,p:"8px",sx:{...de==0?{borderTop:"1px solid #CDCDCD"}:"",borderBottom:"1px solid #CDCDCD","&:hover":{backgroundColor:"#F5F5F5"}},children:[K.img?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${K.img}`,alt:""}):e.jsx(As,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(n,{sx:{cursor:"pointer"},height:45,width:"90%",justifyContent:"center",children:[e.jsxs(d,{fontFamily:"Montserrat",color:"#4399FF",fontWeight:600,children:[K.name," ",K.surname]}),e.jsx(d,{color:"#959595"})]})]},de))]})}),e.jsx("div",{className:"chat-messages",style:{position:"relative",background:"#fff",height:"100%"},children:a.name==""?e.jsx(d,{fontFamily:"Montserrat",color:"#cdcdcd",mt:6,fontSize:30,textAlign:"center",fontWeight:600,children:"Söhbetdeşlik saýlaň"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)",p:1,children:[a.img!=null?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${a.img}`,alt:""}):e.jsx(As,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(d,{fontSize:18,fontWeight:500,color:"#4399FF",children:[a.name," ",a.surname]})]}),e.jsxs("ul",{style:{height:"500px !important"},children:[Q.map((K,de)=>e.jsx("li",{style:{textAlign:K.senderId===b?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:K.senderId===b?"#D0E7FF":"#D4F8E8",position:"relative",alignItems:"center"},children:[e.jsx("b",{className:"chat-messages__div-b",children:K.senderId===b?"":a.name}),e.jsxs(n,{width:"100%",spacing:2,direction:"row",alignItems:"end",justifyContent:"space-between",children:[e.jsxs("span",{className:"chat-messages__div-span",children:[K.text," "]}),e.jsx("span",{style:{color:"gray",fontSize:11,marginBottom:"-4px"},children:N(K.createdAt).format("HH:mm")})]})]})},de)),e.jsx("div",{ref:D})]}),e.jsx(n,{className:"chat-input",style:{position:"absolute",bottom:10,right:"2%",width:"95%",alignItems:"center"},children:e.jsxs("form",{onSubmit:T,children:[e.jsx("input",{ref:j,type:"text",placeholder:"Tekst...",value:s,onChange:K=>l(K.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})})]}),e.jsx(oe,{open:m,onClose:()=>S(!1),children:e.jsxs(Z,{sx:Yr,children:[e.jsx(d,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:c.map(K=>e.jsx("li",{onClick:()=>le(K.id,K.name,r),children:K.name},K.id))})})]})})]})})},Ur=({projectId:a,allUsers:t,openUserModal:s,handleCloseUserModal:l})=>{const[r,u]=o.useState(),[f,C]=o.useState([]),[m,S]=o.useState("Orta"),[p,A]=o.useState("Başlanmadyk"),[b,F]=o.useState("");o.useState("");const[g,j]=o.useState(null),[h,M]=o.useState(null),c=ne(),w=i=>{S(i.target.value)},I=i=>{A(i.target.value)};o.useEffect(()=>{(async()=>{await U.get("/project/status/priority").then(E=>{C(E.data.data)})})()},[]);const v=i=>{u(i.target.value)};console.log(a);const z=()=>{const i={projectId:a,userId:r,name:b,status:p,priority:m,startDate:R(g).format("YYYY-MM-DD"),endDate:R(h).format("YYYY-MM-DD")};a&&b!==""&&p!=""&&m!==""&&g!==null&&h!==null?(c(Et({body:i,projectID:a})),l(),S(""),F(""),A(""),u()):x.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:s,onClose:()=>{S(""),F(""),A(""),u(),l()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:440,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsx(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"flex-end",alignItems:"end",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:e.jsx(H,{onClick:()=>{S(""),F(""),A(""),u(),l()},children:e.jsx(ue,{sx:{color:"#fff"}})})}),e.jsxs(n,{p:"15px 20px 30px ",spacing:"10px",children:[e.jsxs(he,{children:[e.jsx(ge,{id:"age-label",children:"Işgär"}),e.jsx(pe,{labelId:"age-label",value:r,label:"Işgärler",onChange:v,children:t.map(i=>e.jsxs(X,{value:i.id,children:[i.name," ",i.surname]},i.id))})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(je,{dateAdapter:be,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{pt:0,width:"100%",direction:"row",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:i=>{j(i||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{pt:0,width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:i=>{M(i||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(J,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:i=>F(i.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:w,label:"Wajyplygy",children:[e.jsx(X,{value:"Ýokary",children:"Ýokary"}),e.jsx(X,{value:"Orta",children:"Orta"}),e.jsx(X,{value:"Pes",children:"Pes"})]})]}),e.jsxs(he,{fullWidth:!0,variant:"outlined",children:[e.jsx(ge,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(pe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,onChange:I,label:"Statusy",children:[e.jsx(X,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(X,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(X,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(X,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:z,children:"Ýatda sakla"})})]})]})})})},Er=({setProjectName:a,setProjectId:t})=>{const[s,l]=o.useState(""),[r,u]=o.useState(!1),[f,C]=o.useState([]),{projectId:m,subId:S}=$e(),p=B(w=>w.projectDetail.status),A=B(w=>w.projectDetail.error),b=B(w=>w.projectDetail.data);o.useState([b]);const F=ne(),g=Ie();console.log(b);const j=JSON.parse(localStorage.getItem("CRM_USER"));o.useEffect(()=>{p==="succeeded"&&b.length&&(a(b[0].name),t(b[0].id))},[p,b,a,t]),o.useEffect(()=>{F(Rt(m))},[F]);const h={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500,cursor:"pointer"},M=w=>{u(!0),l(w)},c=w=>{const I={projectId:m,taskId:w.id,responsibleUserId:j.id};w&&m&&F(Tt({body:I,age:m}))};return e.jsxs(n,{children:[p==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):p==="failed"?x.error(A):p==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:b.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(lt,{children:e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:ao.map(w=>e.jsx(_,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:w.title},w.id))})}),e.jsx(Xe,{children:b.map(w=>w.tasks&&w.tasks.map(I=>e.jsxs(kt,{children:[console.log(w),e.jsx(_,{sx:h,onClick:()=>{g(`/projects/${m}/${I.id}`),localStorage.setItem("subTaskId",JSON.stringify(I))},children:I.name}),e.jsxs(_,{sx:h,onClick:()=>{g(`/projects/${m}/${I.id}`),localStorage.setItem("subTaskId",JSON.stringify(I))},children:[console.log(I),I.user&&I.user.name," ",I.user&&I.user.surname]}),e.jsxs(_,{sx:h,onClick:()=>{g(`/projects/${m}/${I.id}`),localStorage.setItem("subTaskId",JSON.stringify(I))},children:[N(I.startDate).format("DD.MM.YYYY")," -"," ",N(I.endDate).format("DD.MM.YYYY")]}),e.jsx(_,{sx:h,onClick:()=>{g(`/projects/${m}/${I.id}`),localStorage.setItem("subTaskId",JSON.stringify(I))},children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${I.completionTask}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${I.completionTask}%`})]})}),e.jsx(_,{sx:h,onClick:()=>{g(`/projects/${m}/${I.id}`),localStorage.setItem("subTaskId",JSON.stringify(I))},children:I.priority=="Pes"?e.jsx(d,{backgroundColor:"#F0F7FF",borderRadius:"50px",color:"gray",border:"1px solid lightblue",width:"100%",textAlign:"center",children:"Pes"}):I.priority=="Orta"?e.jsx(d,{border:"1px solid #29D697",backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(d,{border:"1px solid #9A93FF",backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(_,{sx:h,onClick:()=>{g(`/projects/${m}/${I.id}`),localStorage.setItem("subTaskId",JSON.stringify(I))},children:I.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",border:"1px solid #E79124",textAlign:"center",children:"Dowam edýän"}):I.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",border:"1px solid #29D697",color:"#29D697",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",border:"1px solid #FF6A54",borderRadius:"50px",color:"#FF6A54",children:I.status})}),e.jsx(_,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{sx:{...I.user&&I.user.id===j.id||j.role==="ADMIN"?{display:"flex"}:{display:"none"}},onClick:()=>M({task:I,user:I.user}),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),j.role==="USER"?"":e.jsx(H,{onClick:()=>c(I),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]})})]},I.id)))})]})})}):"",e.jsx(So,{user:s,setSelectedUsers:l,openUserModal:r,handleCloseUserModal:()=>u(!1),setWorkers:C})]})},Wr=()=>{const[a,t]=o.useState(""),[s,l]=o.useState(""),r=B(b=>b.users.data),[u,f]=o.useState(!1),C=JSON.parse(localStorage.getItem("CRM_USER")),m=Ie(),S=b=>{t(b)},p=()=>{f(!0)},A=()=>{f(!1)};return e.jsxs(Z,{height:"100vh",p:1,width:"100%",backgroundColor:"#fff",overflow:"auto",children:[C.role==="USER"?"":e.jsx(vn,{}),e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:C.role==="USER"?"97%":"80%",borderRadius:"12px",p:"20px",mt:2,boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",sx:{...C.role==="USER"?"":{justifyContent:"space-between"}},p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(Ne,{to:"#",onClick:()=>m(-1),style:{textDecoration:"none",color:"#474747",display:"flex",height:"100%",alignItems:"center",gap:"10px",padding:"15px 0"},children:e.jsx(Vs,{})}),e.jsx(d,{width:"100%",textAlign:"center",fontSize:"24px",fontFamily:"DM Sans",fontWeight:"500",children:a!==""&&a})]}),e.jsx(n,{alignItems:"center",justifyContent:"center",children:e.jsxs(V,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:p,children:[e.jsx(jn,{}),"Ýerine Ýetirýän"]})})]}),e.jsx(Er,{setProjectName:S,setProjectId:l}),e.jsx(Ur,{openUserModal:u,handleCloseUserModal:A,allUsers:r,projectId:s})]})]})},zr=({open:a,handleClose:t,data:s})=>{const[l,r]=o.useState(null),[u,f]=o.useState(s&&s.name),C=JSON.parse(localStorage.getItem("CRM_USER")),[m,S]=o.useState(C);o.useEffect(()=>{f(s&&s.name),S(C)},[s]);const p=ne(),A=g=>{const j=g.target.files[0];j&&x.success("Faýl saýlandy"),r(j),f(j.name)},b=()=>{if(u==""){x.warn("Faýl ady giriz!");return}if(!l){x.warn("Faýl saýlaň");return}const g=new FormData;g.append("userId",m.id),g.append("title",u),g.append("file",l),g.append("documentTypeId",s.id);const j={userId:m.id,body:g};p(rs(j)),r(null),f(""),t()},F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:a,onClose:t,children:e.jsxs(Z,{sx:F,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Goşmaça resminama"}),e.jsx(H,{onClick:t,children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"95%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:g=>f(g.target.value),fullWidth:!0,value:u,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"80%",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:A,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"})]}),l?e.jsx(n,{children:e.jsxs(d,{children:["Ady: ",l.name," - ",(l.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:b,children:"+ Goş"})})]})})]})})},Pr=({open:a,handleClose:t,data:s})=>{const[l,r]=o.useState(null),[u,f]=o.useState(a&&s.pdfDocuments&&s.pdfDocuments[0].title),[C,m]=o.useState(a&&s.title),S=JSON.parse(localStorage.getItem("CRM_USER")),[p,A]=o.useState(S);o.useEffect(()=>{a&&s.pdfDocuments&&f(s.pdfDocuments[0].title),a&&m(s.title),A(S)},[a,s]);const b=ne(),F=h=>{const M=h.target.files[0];M&&x.success("Faýl saýlandy"),r(M)},g=()=>{if(u==""){x.warn("Faýl ady giriz!");return}const h=new FormData;h.append("userId",p.id),h.append("documentId",s.id),h.append("title",u),h.append("file",l),h.append("documentTypeId",s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const M={title:u,userId:p.id,documentId:s.id,documentTypeId:s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},c={userId:p.id,body:l?h:M,files:l||null};b(is(c)),r(null),f(""),t()},j={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:430,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:a,onClose:()=>{r(null),t()},children:e.jsxs(Z,{sx:j,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{r(null),t()},children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(J,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:h=>f(h.target.value),fullWidth:!0,value:u==!1?C:u,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:F,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),l?e.jsx(n,{children:e.jsxs(d,{children:["Saýlanan faýl:",l.name," - ",(l.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:g,children:"+ Goş"})})]})})]})})},Br=()=>{const[a,t]=o.useState(""),[s,l]=o.useState(""),[r,u]=o.useState(!1),[f,C]=o.useState(!1),m=JSON.parse(localStorage.getItem("CRM_USER")),[S,p]=o.useState(m),[A,b]=o.useState(!1);o.useEffect(()=>{p(m)},[]);const F=B(O=>O.uploadPDf.data);B(O=>O.uploadPDf.docType);const g=B(O=>O.uploadPDf.status),j=B(O=>O.uploadPDf.error),h=B(O=>O.uploadPDf.uploadProgress),M=ne();o.useEffect(()=>{M(pt(S.id)),M(os(S.id))},[M]);const c=()=>{b(!A)},w=O=>{const te={userId:S.id,documentId:O[0].id};M(ds(te))},I=O=>{t(O),u(!0)},v=()=>u(!1),z=O=>{l(O.documentType&&O.documentType.id),t(O),C(!0)},i=()=>{C(!1)},E=F.filter(te=>te.name!=="Goşmaça"),$=F.filter(O=>O.name==="Goşmaça");return e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(d,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Resminama"}),e.jsx(ze,{}),e.jsx(n,{direction:"row",backgroundColor:"#fff",spacing:"60px",minHeight:"80vh",borderRadius:"10px",m:"0px 20px ",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",padding:"0px 0 30px",justifyContent:"space-between",children:e.jsx(n,{width:"100%",justifyContent:"flex-start",alignItems:"center",children:g==="loading..."?e.jsxs(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(fe,{}),e.jsxs(d,{children:[h,"% Loading..."]})]}):g==="failed"?e.jsxs(d,{textAlign:"center",height:"43%",mt:4,children:["Maglumat ýok: ",j]}):g==="succeeded"?e.jsxs(n,{width:"95%",mt:2,children:[e.jsxs(n,{width:"100%",children:[e.jsx(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pb:1,width:"100%",children:"Esasy"}),e.jsx(Ue,{}),E.map((O,te)=>e.jsxs(n,{direction:"row",sx:{borderBottom:"1px solid lightgray"},alignItems:"center",justifyContent:"space-between",backgroundColor:"#fff",children:[e.jsxs(n,{width:"80%",height:45,alignItems:"center",direction:"row",pl:2.5,minHeight:"45px",children:[e.jsx(tn,{sx:{...O.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},width:36,height:36}}),e.jsxs(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:O.name==="Goşmaça"?20:18,pl:5,color:"#474747",width:"100%",children:[O.name," ",O.pdfDocuments.length?`( ${O.pdfDocuments&&O.pdfDocuments.map(Q=>Q.title)})`:""]},te)]}),O.name==="Goşmaça"?e.jsxs(Ds,{expanded:A,onChange:c,sx:{width:"100%",backgroundColor:"#fff",boxShadow:"none"},children:[e.jsx(Is,{expandIcon:e.jsx(Fs,{}),"aria-controls":"panel1a-content",id:"panel1a-header"}),e.jsx(vs,{children:O.pdfDocuments.map((Q,P)=>e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(d,{children:Q.title}),e.jsxs(n,{direction:"row",spacing:1,children:[e.jsx(H,{children:e.jsx(Ne,{style:{textDecoration:"none",color:"#474747"},target:"_blank",to:`http://192.168.1.46/files/${Q.pathPdf}`,children:e.jsx(Dt,{sx:{color:"#9FA1C2"}})})}),e.jsx(H,{onClick:()=>w([Q]),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})})]})]},P))})]}):e.jsxs(n,{direction:"row",children:[O.pdfDocuments&&O.pdfDocuments.length?e.jsxs(e.Fragment,{children:[e.jsx(H,{onClick:()=>z(O),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(Ne,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${O.pdfDocuments[0].pathPdf}`,children:e.jsx(Dt,{sx:{color:"#9FA1C2"}})})})]}):"",O.pdfDocuments.length?e.jsx(H,{sx:{width:38,height:38},onClick:()=>w(O.pdfDocuments),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})}):e.jsx(H,{sx:{width:38,height:38,position:"relative",overflow:"hidden"},onClick:()=>I(O),children:e.jsx(sn,{sx:{...O.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},cursor:"pointer",width:28,height:28}})})]})]},te)),$.map((O,te)=>e.jsxs(n,{direction:"row",position:"relative",alignItems:"center",children:[e.jsxs(Ds,{expanded:A,onChange:c,sx:{width:"97%",backgroundColor:"#fff",boxShadow:"none"},children:[e.jsx(Is,{expandIcon:e.jsx(Fs,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{alignItems:"center"},children:e.jsxs(n,{alignItems:"center",justifyContent:"space-between",direction:"row",children:[e.jsx(tn,{sx:{color:"brown",width:36,height:36,ml:.7}}),e.jsxs(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pl:5,color:"#474747",width:"100%",children:[" ",O.name," "]}),e.jsx(n,{border:"1px solid #2F6FD0",backgroundColor:"#2F6FD0",borderRadius:"100%",width:45,alignItems:"center",justifyContent:"center",height:25,color:"#fff",children:O.pdfDocuments.length})]})}),e.jsx(vs,{children:O.pdfDocuments.map((Q,P)=>e.jsxs(e.Fragment,{children:[e.jsx(Ue,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(d,{children:Q.title}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(H,{onClick:()=>z(Q),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(Ne,{style:{textDecoration:"none",color:"#474747",display:"flex",alignItems:"center"},target:"_blank",to:`http://192.168.1.46/files/${Q.pathPdf}`,children:e.jsx(Dt,{sx:{color:"#9FA1C2"}})})}),e.jsx(H,{onClick:()=>w([Q]),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})})]})]},P),e.jsx(Ue,{})]}))})]},te),e.jsx(H,{sx:{width:38,height:38,position:"absolute",top:10,right:0,overflow:"hidden"},onClick:()=>I(O),children:e.jsx(sn,{sx:{...O.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},cursor:"pointer",width:28,height:28}})})]}))]}),e.jsx(zr,{open:r,data:a,handleClose:v}),e.jsx(Pr,{open:f,handleClose:i,data:a,docId:s})]}):null})})]})},Or="/assets/Logo-DZQxkVEy.png",Nr="/assets/login (2)-C6oMrZMN.png",Lr="/assets/login (1)-CZfUSTBP.png",Hr=({openModal:a,handleNext:t})=>{const[s,l]=o.useState(""),[r,u]=o.useState("+993"),[f,C]=o.useState(""),[m,S]=o.useState(""),[p,A]=o.useState(""),[b,F]=o.useState(""),[g,j]=o.useState(!1),[h,M]=o.useState(""),[c,w]=o.useState(""),[I,v]=o.useState(""),[z,i]=o.useState(R()),[E,$]=o.useState([]),[O,te]=o.useState(""),[Q,P]=o.useState(!1),[D,y]=o.useState(!1),[Y,T]=o.useState(["TKM"]),G=ee=>{M(ee.target.value)},re=()=>{a(!0)};o.useEffect(()=>{(async()=>{await U.get("/position/get").then(ce=>{$(ce.data)})})()},[]);const le=ee=>ee.replace(/[^+\d]/g,"").replace(/(\+993)(\d{2})?(\d{2})?(\d{2})?(\d{2})?/,(Se,Ce,ve,Ee,Be,we)=>[Ce,ve,Ee,Be,we].filter(Boolean).join(" "));o.useEffect(()=>{const ee=JSON.parse(localStorage.getItem("RegisterData"));if(ee){l(ee.mail||"");const ce=le(ee.phoneNumber);u(ce||"+993"),C(ee.login||""),S(ee.surname||""),A(ee.name||""),F(ee.pass||""),te(ee.pass||""),M(ee.positionId||null),w(ee.whereStudy||""),v(ee.whereLive||""),i(R(ee.birthday)||R()),T(ee.languages||"TKM")}},[]);const K=async ee=>{ee.preventDefault();try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||s.trim().length<=0||b.trim().length<=0||O.trim().length<=0||m.trim().length<=0||p.trim().length<=0||r=="+993"||z===""||c.trim().length<=0||Y.length<=0||h.trim().length<=0||I.trim().length<=0)x.error("Doly maglumatyňyzy giriziň!"),y(!0),y(!0);else{y(!1),j(!0);const ce={pass:b,surname:se(m),name:se(p),mail:s,phoneNumber:r,birthday:z,whereStudy:c,whereLive:I,languages:Y,role:"USER",positionId:h};localStorage.setItem("RegisterData",JSON.stringify(ce)),t()}}catch(ce){x.error(ce.message==="Network Error"?"Internet baglanyşygy ýok":ce.response.data),console.log(ce)}},de=ee=>{const{name:ce,checked:Se}=ee.target;T(Ce=>Se?[...Ce,ce]:Ce.filter(ve=>ve!==ce))},L=ee=>{const Se=ee.target.value.replace(/[^+\d]/g,"");if(!Se.startsWith("+993")){P(!0),u(Se);return}P(!1);const Ce=Se.replace(/(\+993)(\d{2})?(\d{2})?(\d{2})?(\d{2})?/,(ve,Ee,Be,we,at,ot)=>[Ee,Be,we,at,ot].filter(Boolean).join(" "));u(Ce)},ye=ee=>{const ce=ee.target.value;l(ce)};return e.jsx(n,{direction:"column",alignItems:"center",justifyContent:"center",width:"300%",pt:2,ml:2,children:e.jsxs(n,{width:"70%",height:580,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(d,{mb:"10px",color:"#474747",fontSize:"25px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Esasy Maglumatlar"}),e.jsxs("form",{onSubmit:K,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Ady",type:"text",value:p,name:"password",onChange:ee=>A(ee.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:m,onChange:ee=>S(ee.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Login / Telefon belgiňiz",type:"text",value:r,onChange:L,variant:"outlined",error:Q,helperText:Q?"Telefon belgiňizi dogry formatda giriziň (+993 61 00 00 01)":"",inputProps:{maxLength:15,pattern:"\\+993-\\d{2}-\\d{2}-\\d{2}-\\d{2}"},autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(he,{fullWidth:!0,children:[e.jsx(ge,{id:"simple-select-label",children:"Wezipe"}),e.jsx(pe,{labelId:"simple-select-label",id:"simple-select",value:h,onChange:G,label:"Wezipe",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:E.map(ee=>e.jsx(X,{value:ee.id,children:ee.name},ee.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(je,{dateAdapter:be,sx:{width:"100%",pt:0},children:e.jsx(Fe,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ie,{label:"Doglan senesi",value:z,format:"DD.MM.YYYY",onChange:ee=>i(ee),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(J,{id:"outlined-basic",label:"Poçta",type:"email",name:"email",value:s,onChange:ye,variant:"outlined",autoComplete:"off",error:D,sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Okan ýeri",type:"text",error:c.length<10,value:c,name:"password",onChange:ee=>w(ee.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",error:I.length<10,value:I,onChange:ee=>v(ee.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",spacing:2,width:"100%",justifyContent:"center",height:"50px",alignItems:"center",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(Xs,{handleChange:de,selectedLanguages:Y})]})}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(J,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:b,onChange:ee=>F(ee.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(J,{id:"outlined-basic",label:"Paroly gaytala",type:"text",value:O,name:"password",onChange:ee=>te(ee.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:[e.jsx(n,{direction:"row",spacing:2,width:"100%",children:e.jsx(V,{onClick:re,style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},children:"Siziň hasabyňyz barmy? Şu ýere giriň"})}),e.jsx(V,{type:"submit",onClick:K,sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"120px",md:"100px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:g?e.jsx(n,{alignItems:"center",children:e.jsx(fe,{sx:{color:"#fff"}})}):"Indiki"})]})]})]})})},Qr=({handleNext:a,openModal:t,handleBack:s,updateFiles:l,files:r})=>{const[u,f]=o.useState("Passport"),C=JSON.parse(localStorage.getItem("CRM_USER")),[m,S]=o.useState(C);o.useEffect(()=>{S(C)},[]),ne();const p=()=>{if(u==""){x.warn("Faýl ady giriz!");return}if(!r){x.warn("Faýl saýlaň");return}a()},A={position:"absolute",top:"450%",left:"50%",transform:"translate(-50%, -50%)",width:"190%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",height:450,display:"flex",alignItems:"center",flexDirection:"column",boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",mt:8,pt:2};return e.jsx(Z,{sx:A,children:e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"95%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsx(d,{mb:"10px",color:"#474747",fontSize:"25px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Resminamaňyzy ýükläň"}),e.jsx(n,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(d,{fontSize:20,textAlign:"center",width:"100%",fontFamily:"DM Sans",children:u})}),e.jsxs(n,{direction:"row",alignItems:"center",height:"80%",spacing:2,children:[e.jsx("input",{type:"file",onChange:l,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"})]}),r?e.jsx(n,{children:e.jsxs(d,{children:["Ady: ",r.name," - ",(r.size/1024).toFixed(2)," KB"]})}):""]}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",spacing:2,width:"100%",mt:2,children:[e.jsx(n,{direction:"row",spacing:2,width:"100%"}),e.jsx(V,{type:"submit",onClick:s,sx:{backgroundColor:"#fff",color:"blue","&:hover":{background:"#fff"},fontFamily:"Montserrat",height:"55px",width:{lg:"120px",md:"100px",sm:"100%",xs:"100%"},border:"1px solid blue",borderRadius:"100px"},children:"yza"}),e.jsx(V,{type:"submit",onClick:p,sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"120px",md:"100px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:"Indiki"})]})]})})})},Jr=({handleNext:a,openModal:t,handleBack:s,initialTime:l=30,docFile:r,docName:u})=>{const[f,C]=o.useState(""),[m,S]=o.useState(l);o.useState(!1),o.useState(!1),o.useState(),Ie();const p=ne(),A=B(c=>c.standarts.status),b=B(c=>c.standarts.error),F=B(c=>c.standarts.data);JSON.parse(localStorage.getItem("CRM_USER"));const[g,j]=o.useState(!1),h=()=>{j(!g)};o.useEffect(()=>{const c=JSON.parse(localStorage.getItem("RegisterData"));c&&C(c)},[]),o.useEffect(()=>{if(m===0)return;const c=setInterval(()=>{S(w=>w-1)},1e3);return()=>clearInterval(c)},[m]),o.useEffect(()=>{p(it())},[p]);const M=async()=>{if(!r){x.warn("Faýl saýlaň");return}const c=new FormData;c.append("file",r),c.append("surname",f.surname),c.append("name",f.name),c.append("birthday",f.birthday),c.append("phoneNumber",f.phoneNumber),c.append("mail",f.mail),c.append("whereStudy",f.whereStudy),c.append("whereLive",f.whereLive),c.append("languages",f.languages),c.append("login",f.login),c.append("pass",f.pass),c.append("positionId",f.positionId),c.append("title",u),c.append("documentTypeId","0b368ac2-e7a4-41e4-b749-26099c8c610e"),(await U.post("/registration/step",c)).data.status===200&&(x.success("Üstünlikli registrasiýa!"),setTimeout(()=>{t(!1)},1500),localStorage.removeItem("RegisterData")),setFiles(null)};return e.jsxs(Z,{position:"absolute",left:"-165%",height:"80vh",width:"230%",backgroundColor:"#fff",p:"10px",mt:2,borderRadius:"20px",justifyContent:"center",children:[e.jsx(n,{direction:"row",alignItems:"center",p:"0 10px 8px 0"}),e.jsx(n,{children:A==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):A==="failed"?x.error(b):A==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:F.length?e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(nt,{container:!0,item:!0,height:"100%",xs:12,md:6,lg:12,spacing:2,children:e.jsx(n,{width:"100%",children:F.length&&F.map((c,w)=>e.jsxs(nt,{item:!0,xs:12,mt:w==0?"":2,lg:12,sm:12,children:[e.jsxs(n,{width:"97%",sx:{...c.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px",height:"420px",overflow:"auto"},direction:"column",justifyContent:"center",children:[e.jsx(n,{direction:"row",width:"100%",justifyContent:"space-between",children:e.jsx(n,{direction:"row",width:"100%",justifyContent:"space-between",alignItems:"center",children:e.jsx(d,{color:"#474747",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:c.title})})}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:c.description})]}),e.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:2,mt:3},children:[e.jsx(Js,{checked:g,onChange:h,color:"primary"}),e.jsx(d,{variant:"body1",children:"Tanyşdym ylalaşýaryn"})]}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"97%",mt:2,children:[e.jsx(V,{type:"submit",onClick:s,sx:{backgroundColor:"#fff",color:"blue","&:hover":{background:"#fff"},fontFamily:"Montserrat",height:"55px",width:{lg:"120px",md:"100px",sm:"100%",xs:"100%"},border:"1px solid blue",borderRadius:"100px"},children:"yza"}),e.jsx(V,{disabled:m!==0||g==!1,onClick:M,sx:{backgroundColor:"#fff",color:"blue","&:hover":{background:"#fff"},fontFamily:"Montserrat",height:"55px",width:{lg:"190px",md:"100px",sm:"100%",xs:"100%"},border:"1px solid blue",borderRadius:"100px"},children:"Hasaba al"}),e.jsx(n,{backgroundColor:"#1976D2",width:30,height:30,alignItems:"center",justifyContent:"center",color:"#fff",borderRadius:"100%",children:m})]})]},w))})})})}):e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"})}):""})]})};function Vr({openModal:a}){const[t,s]=o.useState(null),[l,r]=o.useState("Passport"),[u,f]=o.useState(0),[C,m]=o.useState({}),S=()=>M.length,p=()=>Object.keys(C).length,A=()=>u===S()-1,b=()=>p()===S(),F=()=>{const c=A()&&!b()?M.findIndex((w,I)=>!(I in C)):u+1;f(c)},g=()=>{f(c=>c-1)},j=c=>()=>{f(c)},h=c=>{const w=c.target.files[0];w&&x.success("Faýl saýlandy"),s(w),r(w.name)},M=[{label:"Esasy Maglumatlar",component:e.jsx(Z,{sx:{width:"100%",height:"100%"},children:e.jsx(Hr,{handleNext:F,handleBack:g,openModal:a})})},{label:"Ulanyjy Resminamasy",component:e.jsx(Z,{sx:{width:"100%",height:"100%"},children:e.jsx(Qr,{handleNext:F,handleBack:g,openModal:a,updateFiles:h,files:t})})},{label:"Tertip-düzgün barada",component:e.jsx(Z,{sx:{width:"100%",height:"100%"},children:e.jsx(Jr,{handleNext:F,handleBack:g,openModal:a,docFile:t,docName:l})})}];return e.jsxs(Z,{sx:{width:"97%",height:"100%",pt:1},children:[e.jsx(d,{mb:"10px",color:"#474747",fontSize:"25px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"center",ml:3,children:"Hasaba alyş"}),e.jsx(ya,{activeStep:u,alternativeLabel:!0,children:M.map((c,w)=>e.jsxs(wa,{completed:C[w],children:[e.jsx(Ca,{onClick:j(w),children:c.label}),u===w&&c.component]},c))})]})}const Gr=()=>{const[a,t]=o.useState(""),[s,l]=o.useState(""),[r,u]=o.useState(""),[f,C]=o.useState(!1),[m,S]=o.useState(!1),[p,A]=o.useState(!1),b=()=>{S(c=>!c)},F=c=>{c.preventDefault()};o.useEffect(()=>{u("")},[a,s]);const g=ne(),j=Ie(),h=async c=>{c.preventDefault();try{if(a.trim().length<=0||s.trim().length<=0)x.error("Dogry maglumatyňyzy giriziň!");else{C(!0);const w=await U.post("/user/login",{login:a,pass:s});if(w.data.status===404)x.error(w.data.message=="Неправелный пароль"?"Login ýada Açar söz nädogry!":w.data.message),C(!1);else{const I=w.data;g(Na(I)),localStorage.setItem("CRM_USER",JSON.stringify(I)),setTimeout(()=>j("/"),500),x.success("Üstünlikli giriş!"),C(!1)}}}catch(w){w.message==="Network Error"?x.error("Internet baglanyşygy ýok"):w.response.status?x.error("Login ýada Açar söz nädogry!"):w.response.data.message,g(La(w.message||"Login failed")),C(!1)}},M=()=>{A(!p)};return e.jsxs(Z,{children:[e.jsx(ze,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},children:[e.jsxs(n,{width:"40%",maxHeight:"100vh",backgroundColor:"#3763f5",sx:{display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:[e.jsxs(n,{left:"30px",top:"30px",position:"absolute",width:250,direction:"row",alignItems:"center",children:[e.jsx("img",{src:Or,style:{width:"85px",height:"95px"},alt:""}),e.jsx(d,{textAlign:"center",color:"#fff",fontWeight:"500",fontSize:20,ml:-3,fontFamily:"Montserrat",children:"ÄLEM TILSIMAT"})]}),e.jsx("img",{src:Nr,style:{width:"100%",height:"49.4vh"},alt:""}),e.jsx(d,{textAlign:"center",color:"#fff",fontWeight:"600",fontSize:65,position:"absolute",top:"45%",left:"3%",fontFamily:"Montserrat",children:"CRM"}),e.jsx("img",{src:Lr,style:{width:"100%",height:"49.5vh"},alt:""})]}),p===!1?e.jsx(n,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(n,{width:{lg:"60%",md:"80%",sm:"97",xs:"97%"},height:500,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(d,{mb:"30px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:7.4,children:"Giriş"}),e.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",width:"100%",gap:"40px",alignItems:"center",justifyContent:"center"},children:[e.jsx(J,{id:"outlined-basic",label:"Ady",type:"text",variant:"outlined",autoComplete:"off",name:"username",onChange:c=>t(c.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"}},InputLabelProps:{sx:{color:"#757575"}}}),e.jsx(J,{name:"password",label:"Açar söz",fullWidth:!0,variant:"outlined",type:m?"text":"password",onChange:c=>l(c.target.value),InputProps:{endAdornment:e.jsx(Sa,{position:"end",children:e.jsx(H,{"aria-label":"toggle password visibility",onClick:b,onMouseDown:F,edge:"end",children:m?e.jsx(Aa,{}):e.jsx(ka,{})})})},InputLabelProps:{sx:{color:"#757575"}},sx:{width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"},transition:"all ease-in-out 0.2s","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},backgroundColor:"#fff",height:"60px",color:"#000",outline:"none",boxShadow:"none"}}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",spacing:2,children:[e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(Ne,{to:"/",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textAlign:"center"},children:"Paroly dikeltmek"}),e.jsx(V,{to:"/register",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},onClick:M,children:"Hasaba alyş"})]}),e.jsx(V,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:f?e.jsx(n,{alignItems:"center",children:e.jsx(fe,{sx:{color:"#fff"}})}):"Dowam et"})]})]})]})}):e.jsx(n,{width:"60%",children:e.jsx(Vr,{openModal:M})})]})]})},Ks="http://192.168.1.46",Xr=async a=>{const t=await fetch(`${Ks}/api/chat/chats/${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},dn=async a=>{const t=await fetch(`${Ks}/api/chat/users/${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},jt=Sn(`${Ks}:5022`),qr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Zr=()=>{const[a,t]=o.useState(""),[s,l]=o.useState(""),[r,u]=o.useState(sessionStorage.getItem("userId")),[f,C]=o.useState(null),[m,S]=o.useState(!1);o.useState(null);const p=Number(sessionStorage.getItem("userId")),[A,b]=o.useState([]),[F,g]=o.useState([]),[j,h]=o.useState(null),[M,c]=o.useState(null),[w,I]=o.useState(null),[v,z]=o.useState(null),[i,E]=o.useState([]),$=o.useRef(null);o.useEffect(()=>{(async()=>{const D=await Xr(p);b(D)})()},[]),o.useEffect(()=>((async()=>{const D=await dn(p);g(D.users),b(D.chats)})(),jt.emit("register",r),jt.on("message",D=>{const{senderId:y,receiverId:Y,text:T}=D;E(G=>[...G,{senderId:Number(y),receiverId:Y,text:T}])}),()=>jt.off("message")),[r]),o.useEffect(()=>{$.current&&$.current.scrollIntoView({behavior:"smooth"})},[i]);const O=async(P,D)=>{jt.emit("createchat",{senderId:P,receiverId:D});const y=await dn(p);g(y.users),b(y.chats)},te=P=>{P.preventDefault(),s&&f&&(jt.emit("message",{senderId:r,recipientId:f,message:s,chatId:j,oppositeChatId:v,oppositeSenderId:M,oppositeReceiverId:w}),l(""))},Q=(P,D,y)=>{C(P),t(D),O(y,P),S(!1)};return e.jsx(Z,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsx(H,{className:"iconIoAdd",onClick:()=>S(!0),children:"+"}),e.jsx("div",{className:"chat-header",children:e.jsxs("h2",{children:["Chat",e.jsx("span",{children:": "+a})]})}),e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{}),e.jsxs("div",{className:"chat-messages",children:[e.jsx("h3",{children:"Messages"}),e.jsxs("ul",{children:[i.map((P,D)=>e.jsx("li",{style:{textAlign:P.senderId===p?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:P.senderId===p?"#D0E7FF":"#D4F8E8"},children:[e.jsx("b",{className:"chat-messages__div-b",children:P.senderId===p?"":a}),e.jsx("span",{className:"chat-messages__div-span",children:P.text})]})},D)),e.jsx("div",{ref:$})]}),e.jsx("div",{className:"chat-input",children:e.jsxs("form",{onSubmit:te,children:[e.jsx("input",{type:"text",placeholder:"Type a message",value:s,onChange:P=>l(P.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})]}),e.jsx(oe,{open:m,onClose:()=>S(!1),children:e.jsxs(Z,{sx:qr,children:[e.jsx(d,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:F.map(P=>e.jsx("li",{onClick:()=>Q(P.id,P.name,sessionStorage.getItem("userId")),children:P.name},P.id))})})]})})]})})},$r={userStatus:[],data:[],status:"idle",error:null,loading:!1},ms=q("getWorkTimeForDay",async()=>(await U.get("/time/get")).data),js=q("getUserStatusWork",async()=>(await U.get("/user/status")).data.messagge),Es=q("postWorkTimeDay",async a=>{const t=await U.post("/time/add/user",a);if(console.log(t.data),t.data.message===`Successfully create work time for userId ${a.userId}`)return x.success("Üstünlikli!"),(await U.get("/user/status")).data}),bs=q("updateWorkTime",async a=>{const t=await U.put("/time/update/user",a);if(console.log(t.data),t.data.message==="WorkTime updated successfully.")return x.success("Üstünlikli!"),(await U.get("/user/status")).data.messagge}),Kr=Pe({name:"getTimeOfWork",initialState:$r,reducers:{},extraReducers:a=>{a.addCase(ms.pending,t=>{t.status="loading..."}).addCase(ms.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ms.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(js.pending,t=>{t.status="loading..."}).addCase(js.fulfilled,(t,s)=>{t.status="succeeded",t.userStatus=s.payload}).addCase(js.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Es.pending,t=>{t.status="loading..."}).addCase(Es.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Es.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(bs.pending,t=>{t.status="loading..."}).addCase(bs.fulfilled,(t,s)=>{t.status="succeeded",t.userStatus=s.payload}).addCase(bs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),_r=Kr.reducer,ei={position:"absolute",justifyContent:"space-between",top:"30%",left:"37%",transform:"translate(-50%, -50%)",width:500,height:220,bgcolor:"background.paper",boxShadow:4,p:2,borderRadius:"8px"},ti=JSON.parse(localStorage.getItem("CRM_USER")),si=({open:a,handleClose:t,userDetails:s})=>{const[l,r]=o.useState(null),[u,f]=o.useState(null),[C,m]=o.useState("");o.useState({field1:"",field2:""});const S=ne();o.useEffect(()=>{s!=null&&(m(s),f(s.workTime&&s.workTime.endTime),r(s.workTime&&s.workTime.startTime))},[s]);const p=A=>{const b={id:A,permissionUserId:ti.id,userId:s.id,startTime:l,endTime:u};l!==null&&u!==null?(S(bs(b)),t()):x.error("Wagtlary giriz!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:a,onClose:t,children:e.jsx(Re,{in:a,children:e.jsxs(Z,{sx:ei,children:[e.jsxs(d,{variant:"h6",textAlign:"center",mb:2,children:[C.name," ",C.surname]}),e.jsxs(n,{spacing:2,children:[e.jsx(n,{pt:2,children:e.jsx(je,{dateAdapter:be,children:e.jsxs(n,{direction:"row",spacing:1,children:[e.jsx(nn,{label:"Başlanýan wagty",format:"HH:mm",value:l?R(l,"HH:mm"):null,onChange:A=>{r(A?A.format("HH:mm"):null)},renderInput:A=>e.jsx(J,{...A}),ampm:!1}),e.jsx(nn,{ampm:!1,value:u?R(u,"HH:mm"):null,onChange:A=>{f(A?A.format("HH:mm"):null)},label:"Tamamlanýan wagty",renderInput:A=>e.jsx(J,{...A}),format:"HH:mm"})]})})}),e.jsxs(n,{direction:"row",spacing:2,pt:2,justifyContent:"flex-end",children:[e.jsx(V,{onClick:t,variant:"outlined",children:"Yza"}),e.jsx(V,{onClick:()=>p(s.workTime&&s.workTime.id),variant:"contained",children:"Çalyşmak"})]})]})]})})})})},ni=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState(!1),[r,u]=o.useState({}),[f,C]=o.useState({}),[m,S]=o.useState(R()),[p,A]=o.useState(null),b=ne(),F=JSON.parse(localStorage.getItem("CRM_USER")),g=Ie(),j=B(i=>i.workTime.userStatus);B(i=>i.workTime.status),B(i=>i.workTime.error),o.useEffect(()=>{b(js())},[b]),o.useEffect(()=>{const i=j.reduce(($,O)=>($[O.id]=O.status,$),{}),E=j.reduce(($,O)=>($[O.id]=O.role==="MODERATOR",$),{});u(i),C(E)},[j]);const h=o.useCallback(i=>{const E=!r[i];b(Ft({userId:i,status:E})),u(O=>({...O,[i]:E}))},[r,b]),M=o.useCallback((i,E)=>{const $={editorId:F.id,userId:i,newRole:E};b(zt($)),C(O=>({...O,[i]:E==="MODERATOR"}))},[F.id,b]),c=j.filter(i=>i.role!=="ADMIN"&&i.status===!1),w=j.filter(i=>i.role=="MODERATOR"),I=j.filter(i=>i.role!=="ADMIN"&&i.role!=="MODERATOR"&&i.status===!0),v=[...w,...I,...c],z={p:1,textAlign:"center",fontFamily:"DM Sans"};return e.jsxs(n,{backgroundColor:"#fff",width:"80%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"10px 24px 17px",m:"15px 0 10px 15px",children:[e.jsx(d,{textAlign:"center",fontFamily:"DM Sans",mb:2,fontSize:20,children:"Ulanyjylar"}),e.jsx(n,{height:"100%",children:a?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(fe,{}),"Loading..."]}):e.jsx(n,{children:j.length===0?e.jsx(d,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(lt,{sx:{height:"78vh",overflowY:"auto",borderRadius:"20px"},children:e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{sx:{backgroundColor:"#F6FDFD",position:"sticky",top:0,zIndex:100,boxShadow:"0px 12px 7px -14px rgba(71,71,71,1)"},children:eo.map(i=>e.jsx(_,{sx:{color:"#222222",fontWeight:500,fontFamily:"DM Sans",fontSize:18,textAlign:"center"},children:i.title},i.id))})}),e.jsxs(Xe,{children:[v.map((i,E)=>e.jsxs(De,{style:{cursor:"pointer"},children:[e.jsx(_,{onClick:()=>g(`/employees/${i.id}?date=${m}`),sx:z,children:E+1}),e.jsx(_,{onClick:()=>g(`/employees/${i.id}?date=${m}`),sx:z,children:i.name}),e.jsx(_,{onClick:()=>g(`/employees/${i.id}?date=${m}`),sx:z,children:i.surname||"-"}),e.jsx(_,{onClick:()=>g(`/employees/${i.id}?date=${m}`),sx:z,children:e.jsx(ks,{control:e.jsx(zs,{checked:r[i.id]||!1,onChange:()=>h(i.id),color:"primary"}),label:""})}),e.jsx(_,{onClick:()=>g(`/employees/${i.id}?date=${m}`),sx:z,children:e.jsx(ks,{control:e.jsx(zs,{checked:f[i.id]||!1,onChange:()=>M(i.id,f[i.id]?"USER":"MODERATOR"),color:"primary"}),label:""})}),e.jsx(_,{onClick:()=>g(`/employees/${i.id}?date=${m}`),sx:z,children:i.workTime&&i.workTime.startTime?` ${N(i.workTime&&i.workTime.startTime,"HH:mm:ss").format("HH:mm")} -
                                ${N(i.workTime&&i.workTime.endTime,"HH:mm:ss").format("HH:mm")}`:"-"}),e.jsx(_,{sx:{width:"50px"},children:e.jsx(n,{direction:"row",alignItems:"end",spacing:1,children:e.jsx(H,{onClick:()=>{l(!0),A(i)},children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})})})})]},i.id)),e.jsx(si,{open:s,handleClose:()=>l(!1),userDetails:p})]})]})})})})]})},ai=()=>{const[a,t]=o.useState(null),[s,l]=o.useState(!1),r=B(p=>p.users.data),[u,f]=o.useState(!1);o.useState(null),o.useState(null);const C=ne(),m=JSON.parse(localStorage.getItem("CRM_USER"));o.useEffect(()=>{C(Ye()),C(ms())},[C]);const S=(p,A)=>{t(A)};return o.useEffect(()=>{C(st())},[C]),e.jsx(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs(n,{p:1,direction:"row",alignItems:"center",height:"100%",children:[e.jsxs(n,{backgroundColor:"#fff",width:"30%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",children:[e.jsxs(V,{variant:"contained",sx:{...m.role=="USER"&&{display:"none"},textTransform:"revert",height:"45px",mb:3,fontSize:17,border:"0.5px solid #2F6FD0","&:hover":{border:"0.5px solid #2F6FD0"}},onClick:()=>f(!0),children:[e.jsx(Te,{sx:{color:"#fff",width:25,height:25}}),"Baýramçylyk güni goşmak"]}),e.jsx(Wn,{open:u,handleClose:()=>f(!1)}),e.jsx(d,{textAlign:"center",fontFamily:"DM Sans",mb:2,fontSize:20,children:"Ulanyjy login we parol çalyşmak"}),e.jsx(Me,{rows:4,value:a,fullWidth:!0,options:r,getOptionLabel:p=>`${se(p.name)} ${se(p.surname||"")}`,onChange:S,renderInput:p=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...p,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...p.InputProps,endAdornment:e.jsx(e.Fragment,{children:p.InputProps.endAdornment})}})}),e.jsx(V,{variant:"contained",sx:{...m.role=="USER"&&{display:"none"},textTransform:"revert",mt:2,fontSize:17,border:"0.5px solid #2F6FD0","&:hover":{border:"0.5px solid #2F6FD0"}},onClick:()=>{a!==null?l(!0):x.error("Ulanyjy saýlaň!")},children:"Çalyşmak"})]}),e.jsx(Zs,{open:s,handleClose:()=>l(!1),userData:a}),e.jsx(ni,{}),e.jsx(ze,{})]})})},oi=({openModal:a,events:t,setStartDate:s,setEndDate:l,holidays:r})=>{N.locale("tk"),N.updateLocale("tk",{weekdays:Dn.slice(0,7)}),N.updateLocale("tk",{months:In});const u=JSON.parse(localStorage.getItem("CRM_USER")),[f,C]=o.useState(N()),[m,S]=o.useState(null);o.useState("");const[p,A]=o.useState(!1),[b,F]=o.useState(null),[g,j]=o.useState("month");R.locale("tk");const h=()=>{let Q,P;if(g==="month")Q=f.clone().startOf("month").startOf("isoWeek"),P=f.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(g==="week")Q=f.clone().startOf("isoWeek"),P=f.clone().endOf("isoWeek").subtract(1,"day");else return[];const D=Q.clone().subtract(1,"day"),y=[];for(;D.isBefore(P,"day");)y.push(Array(7).fill(0).map(()=>D.add(1,"day").clone()));return y.length===5&&y[4][6].isBefore(P,"day")&&y.push(Array(7).fill(0).map(()=>D.add(1,"day").clone())),{calendar:y,firstDay:Q.format("YYYY MM DD"),lastDay:P.format("YYYY MM DD"),endDay:P,startDay:Q}};o.useEffect(()=>{const{startDay:Q,endDay:P}=h();s(Q.format("YYYY-MM-DD")),l(P.format("YYYY-MM-DD"))},[f,g,s,l]);const M=Q=>Q.day()===0,c=Q=>{S(Q),M(Q)||a(Q.format("YYYY-MM-DD"))},w=Q=>t.some(P=>N(P.date).isSame(Q,"day")),I=Q=>t.filter(P=>N(P.date).isSame(Q,"day")),v=()=>{F(null),A(!p)},z=Q=>{F(R(Q)),C(f.clone().month(Q.month()).date(Q.date()).year(Q.year()))},i=Q=>r&&r.some(P=>N(P.date).isSame(Q,"day")),E=()=>{if(g==="day")return renderDayView();{const Q=h();return e.jsxs(Ve,{children:[e.jsx(Ge,{children:e.jsx(De,{children:N.weekdays().map((P,D)=>e.jsx(_,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...D===0?{borderTopLeftRadius:"12px"}:"",...N.weekdays().length-1===D?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:P},D))})}),e.jsx(Xe,{children:Q.calendar.map((P,D)=>e.jsx(De,{children:P.map((y,Y)=>e.jsxs(_,{onClick:()=>{c(y)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:M(y)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:y.month()===f.month()?"#474747":"#959494",...y.month()===f.month()?"":{backgroundImage:`url(${En})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...N().isSame(y,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%"}},children:y.format("D")}),w(y)&&t.filter(T=>N(T.date).isSame(y,"day")).map((T,G)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:T.color?"#e5dffb":"white",color:y?T.color:"blue",borderLeft:`6px solid ${T.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(d,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:u.role==="USER"?se(T.note):se(T.title)}),I(y).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:T.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",I(y).length-1]})]},G)),i(y)&&r.filter(T=>N(T.date).isSame(y,"day")).map((T,G)=>e.jsx(n,{style:{fontSize:"14px",backgroundColor:T.color?"#e5dffb":"white",color:y?T.color:"blue",borderRight:`6px solid ${T.color}`,height:"55%",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:e.jsx(d,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:T.name})},G))]},Y))},D))})]})}},$=()=>{C(f.clone().subtract(1,"month"))},O=()=>{C(f.clone().add(1,"month"))},te=()=>{C(N())};return e.jsxs(n,{p:"10px 15px 5px 15px",children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(V,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",height:"40px"},onClick:te,children:"Şu gün"}),e.jsx(V,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",minHeight:"40px",...p?{backgroundColor:"tomato",color:"#fff","&:hover":{backgroundColor:"tomato"}}:{backgroundColor:"#fff"}},onClick:v,children:p?"X":"Sene"}),e.jsx(Re,{in:p,children:e.jsx(n,{width:"50%",children:e.jsx(je,{dateAdapter:be,adapterLocale:"tk",children:e.jsx(ie,{value:b,onChange:z,format:"DD/MM/YYYY",openTo:"year",views:["year","month","day"],slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"75%",border:"1px solid #ccc"}}}},renderInput:Q=>e.jsx("input",{...Q})})})})})]}),e.jsxs(n,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",ml:-13,children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656"},onClick:$,children:e.jsx(bn,{sx:{width:18,height:20}})}),e.jsx(d,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:f.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656"},onClick:O,children:e.jsx(yn,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(V,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...g==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"}}:{background:"#fff"}},onClick:()=>j("week"),children:"Hepde"}),e.jsx(V,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...g=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>j("month"),children:"Aý"})]})]})]}),E()]})},ri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFhSURBVHgB7ZeNTcNADIUdxAAdIWzQDUg3KBMQJkk7ATAB3QCxQdiAEdiAbnA8S257SXOtnbOqSO2TrIsuce6T7fsjumlCKrQfhhBmaJakV1sUxS95CQBL2F+wqdb+/0753StsRg6SiHZ0TzqV0n7DNkqflo4BntG8oV0gVT9kURTiDxopBoj+w6ktd++06ciSRGATdb2bizYnEr0IsFbnHCoeSKw6BxF/4wIgTvXQFBuCwHMjfY0bgAWCiyp0143GBcACIX3zIZAsACtEAuTzFEBI1FzWFJUFZwHbSle8t6zxftVzKWG1WOkCkQBJASTlslj1QEwALO3eoQJBnh/Qbq2+rsv2GAB3iLGaBIS1JqqQsZ1TNC0pmk1aiJYB6DDPc8UA+0ONNh0vsC/yEQ/+FJ8nVJEQB8tJ26TJF+YjipAyNO7eIbuil2rtuJ10yB6wpgtr8BrIEUEzpzz5XgOvQv8C+jI7OK+spwAAAABJRU5ErkJggg==",ii=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState(!1),[r,u]=o.useState(!1),[f,C]=o.useState(!1),[m,S]=o.useState([]),[p,A]=o.useState("#7551E9"),[b,F]=o.useState(null),[g,j]=o.useState({});o.useState("");const[h,M]=o.useState(""),[c,w]=o.useState(""),[I,v]=o.useState(""),[z,i]=o.useState(""),[E,$]=o.useState(null),[O,te]=o.useState(null),[Q,P]=o.useState(),[D,y]=o.useState(),[Y,T]=o.useState(),[G,re]=o.useState(),[le,K]=o.useState(),[de,L]=o.useState(""),[ye,ee]=o.useState(),[ce,Se]=o.useState();R.locale("tk");const Ce=B(k=>k.holidays.data.data),ve=B(k=>k.holidays.status);B(k=>k.holidays.error);const Ee={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},Be=mn({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}}),we=ne();o.useEffect(()=>{const k={startDate:R(h).format("YYYY-MM-DD"),endDate:R(c).format("YYYY-MM-DD")};h!=""&&c!=""&&we(st(k))},[h,c,we]),o.useEffect(()=>{const k=document.querySelector(".MuiTypography-overline");k&&(k.textContent="Your custom text")},[]);const at=B(k=>k.project.data);o.useEffect(()=>{we(rt())},[we]);const ot=B(k=>k.getWorkDate.adminNotes),Ke=B(k=>k.getWorkDate.statusAdminNote),Rs=B(k=>k.users.status),Oe=B(k=>k.users.data),Le=le!==void 0?le.WarningShares&&le.WarningShares.map(k=>({userId:k.userId,name:k.User.name,surname:k.User.surname})):[],Ys=Rs==="succeeded"&&Oe.filter(k=>Le&&!Le.some(ae=>ae.userId===k.id));o.useState(Le);const[_e,gt]=o.useState([]),et=JSON.parse(localStorage.getItem("CRM_USER"));B(k=>k.getWorkDate.data),B(k=>k.getWorkDate.statusMonth),B(k=>k.getWorkDate.employeerTime.employeerTime);const ft=B(k=>k.getWorkDate.adminNote);N.locale("tk"),o.useEffect(()=>{S([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]),o.useEffect(()=>{we(Ye())},[we]),o.useEffect(()=>{const k={startDate:h,endDate:c};(k.startDate||k.endDate!=="")&&(we(Qt(k)),we(Vt(et.id)))},[h,c,we]);const W=Ke==="succeeded"?ot.reduce((k,ae)=>{if(ae.note!==null){const ke=N(ae.date).format("YYYY-MM-DD");k[ke]||(k[ke]=[]),k[ke].push(ae)}return k},{}):"",me=k=>{A(k)},xe=()=>{l(!1),t(!1),C(!1),u(!1),gt([]),v(""),i(""),$(),te(null),F(null),y(),i(""),L("")},Pn=k=>{F(k),t(!0)},Bn=Le&&Le.map(k=>({id:k.userId})),On=[{id:"selectAll",name:"Ählisi",surname:""},...Oe],Nn=()=>{_e.map(ae=>({id:ae.id}));const k={title:I,date:N(O===null?b:O).format("YYYY-MM-DD"),dateHour:D,color:p,startDate:h,endDate:c,users:_e};I!==""&&(O!==null||b)&&D!==void 0?(we(Jt(k)),xe()):x.error("Maglumatlary giriziň!")},Ln=()=>{const k={userId:z,authorId:et.id,content:I,project:de};I!==""&&z!==""&&de!==""?(we(Gt(k)),xe()):x.error("Maglumatlary giriziň!")},_s=(k,ae)=>{ae.some(ke=>ke.id==="selectAll")?gt(Oe):(gt(()=>[...ae.map(ke=>({id:ke.id?ke.id:ke.userId,name:ke.name,surname:ke.surname}))]),i(ae.length>0?ae[0].id:null))},Hn=k=>{we(qt({id:k,startDate:h,endDate:c}))},Qn=k=>{const ae={id:k,authorId:et.id};we(Zt(ae))},Jn=()=>{const k={noteId:Y,content:I,date:N(Q&&Q.date).format("YYYY-MM-DD"),dateHour:D??N(E).format("HH:mm"),startDate:h,endDate:c,authorId:et.id,users:_e.length===0?Bn:_e,color:p};I!==""&&(_e.length!==0||Le&&Le.length!==0)?(we($t(k)),xe()):x.error("Maglumatlary giriziň!")},Vn=k=>{K(k),C(!0),$(k.date),v(k.title),T(k.id)},Gn=()=>{const k={authorId:et.id,noteId:Y,content:I,projectId:de==""?G.projectId:de,userId:z==""?G.userId:z};I!==""?(we(Xt(k)),xe()):x.error("Maglumatlary giriziň!")},Xn=k=>{re(k),u(!0),T(k.id),v(k.content)},qn=k=>{ee(k),Se(!0)},Zn=k=>{const ae={id:k,startDate:R(h).format("YYYY-MM-DD"),endDate:R(c).format("YYYY-MM-DD")};ae.id&&we(At(ae))};return e.jsx(Z,{height:"100vh",backgroundColor:"#fff",children:e.jsxs(n,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsx(n,{direction:"column",width:"28%",children:e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"97%",sx:{height:"87.5vh"},borderRadius:"20px",alignItems:"center",m:"0px 10px ",p:"20px 10px 10px 20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",children:[e.jsxs(V,{sx:{color:"#fff",background:"#DC6262",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px",fontWeight:600,"&:hover":{background:"#9FC2A5"}},onClick:()=>t(!0),children:[e.jsx(Da,{})," Duýduryş goşmak"]}),e.jsxs(V,{sx:{color:"#fff",background:"#90BAEB",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px","&:hover":{background:"#9FC2A5"},gap:"10px",fontWeight:600},onClick:()=>l(!0),children:[e.jsx("img",{style:{width:20,height:20},src:ri,alt:"check"})," ","Bellik goşmak"]}),Ke==="loading..."||ve==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(fe,{}),"Loading..."]}):Ke==="failed"||ve==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):Ke==="succeeded"||ve==="succeeded"?ot.length===0&&ft.length==0&&!Ce.length?e.jsx(d,{pt:4,children:"Bellik ýok"}):e.jsxs(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:[e.jsxs(n,{children:[e.jsx(d,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,children:"Duýduryşlar"}),e.jsx(Ue,{sx:{width:"100%",mb:2}}),Object.keys(W).length===0?e.jsx(d,{mb:3,textAlign:"center",children:"Duýduryş ýok"}):Object.keys(W).map((k,ae)=>e.jsxs(Ds,{children:[e.jsx(Is,{expandIcon:e.jsx(Fs,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:N(k).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:W[k].length})]})}),e.jsx(vs,{sx:{padding:0},children:W[k].map(ke=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",minWidth:35,minHeight:35,backgroundColor:ke.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:se(ke.title)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(ke.date).format("DD.MM.YYYY  HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>Vn(ke),sx:{mr:-1},children:e.jsx(bt,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>Hn(ke.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]},ke.id),e.jsx(Ue,{sx:{width:"100%"}})]}))})]},ae))]}),e.jsxs(n,{children:[e.jsx(d,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Bellikler"}),e.jsx(Ue,{sx:{width:"100%",mb:1}}),ft.length==0?e.jsx(d,{mb:3,textAlign:"center",children:"Bellik ýok"}):ft.map(k=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{borderRadius:"5px"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"5px",mb:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx(Ia,{sx:{color:"#90BAEB"}})}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,fontFamily:"Montserrat",children:se(k.content)}),e.jsx(d,{fontSize:15,fontWeight:600,fontFamily:"Montserrat",color:"#90BAEB",children:se(k.projectId)}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,justifyContent:"space-between",children:[e.jsx(d,{color:"#797a7c",fontSize:15,fontWeight:500,children:Oe.find(ae=>ae.id===k.userId)?`${se(Oe.find(ae=>ae.id===k.userId).name)} ${se(Oe.find(ae=>ae.id===k.userId).surname)}`:""}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(k.createdAt).format("DD.MM.YYYY ")})]})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>Xn(k),sx:{mr:-1},children:e.jsx(bt,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>Qn(k.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]},k.id),e.jsx(Ue,{sx:{width:"100%"}})]}))]}),e.jsxs(n,{children:[e.jsx(d,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Baýramçylyklar"}),e.jsx(Ue,{sx:{width:"100%",mb:1}}),e.jsx(n,{width:"100%",children:e.jsx(n,{children:Ce.length?Ce.map(k=>e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsxs(n,{direction:"row",gap:"15px",alignItems:"center",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:k.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:16,fontWeight:500,children:k.name}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(k.date).format("DD.MM.YYYY")})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...N().isSame(k.comeTime,"day")&&et.role!=="USER"?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>qn(k),sx:{mr:-1},children:e.jsx(bt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>Zn(k.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]})):e.jsx(d,{mb:3,textAlign:"center",children:"Baýramçylyk ýok"})})})]})]}):"",e.jsx(zn,{open:ce,handleClose:()=>Se(!1),holidayData:ye,startDate:h,endDate:c}),e.jsx(oe,{closeAfterTransition:!0,open:s,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Re,{in:s,children:e.jsxs(Z,{sx:Bs,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:xe,children:e.jsx(ue,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(Me,{id:"combo-box-demo",options:at,getOptionLabel:k=>`${se(k.name)} `,onChange:(k,ae)=>L(ae.name),renderInput:k=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...k,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärleri"}),e.jsx(Me,{id:"combo-box-demo",options:Oe,getOptionLabel:k=>`${se(k.name)} ${se(k.surname==null?"":k.surname)}`,onChange:(k,ae)=>i(ae.id),filterSelectedOptions:!0,renderInput:k=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...k,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(J,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:k=>v(k.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(V,{onClick:Ln,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:r,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Re,{in:r,children:e.jsxs(Z,{sx:Bs,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:xe,children:e.jsx(ue,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(Me,{id:"combo-box-demo",options:at,value:at.find(k=>k.name===(G?G.projectId:""))||null,getOptionLabel:k=>`${se(k.name)}`,onChange:(k,ae)=>{L(ae?ae.name:"")},renderInput:k=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...k,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(Me,{id:"combo-box-demo",options:Oe,value:Oe.find(k=>k.id===(G?G.userId:""))||null,getOptionLabel:k=>`${se(k.name)} ${se(k.surname==null?"":k.surname)}`,onChange:(k,ae)=>i(ae.id),renderInput:k=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...k,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(J,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",value:I,onChange:k=>v(k.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(V,{onClick:Gn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:a,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Re,{in:a,children:e.jsx(Z,{sx:on,children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:xe,children:e.jsx(ue,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş"}),e.jsx(J,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:k=>v(k.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsx(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",children:e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(Me,{id:"combo-box-demo",multiple:!0,value:_e,options:On,isOptionEqualToValue:(k,ae)=>k.id===ae.id,getOptionLabel:k=>`${se(k.name)} ${se(k.surname==null?"":k.surname)}`,onChange:_s,filterSelectedOptions:!0,renderInput:k=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...k,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})}),e.jsx(n,{direction:"row",children:e.jsx(je,{dateAdapter:be,adapterLocale:"tk",localeText:Ee,children:e.jsx(Fe,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{disabled:R(b,"YYYY-MM-DD").isValid(),value:R(b,"YYYY-MM-DD").isValid()?R(b,"YYYY-MM-DD"):null,onChange:k=>{te(k?R(k).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(Ws,{theme:Be,children:e.jsx(an,{ampm:!1,onChange:k=>{y(k?k.format("HH:mm"):null)},DialogProps:{sx:{".MuiTypography-root":{display:"none"}}},format:"HH:mm",slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"20px",pt:"8px",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:m.map((k,ae)=>e.jsx(n,{onClick:()=>me(k.color),style:{backgroundColor:k.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:p===k.color?e.jsx(qe,{}):""},ae))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(V,{onClick:Nn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})}),e.jsx(oe,{closeAfterTransition:!0,open:f,onClose:xe,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Re,{in:f,children:e.jsx(Z,{sx:on,height:"565px",children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:xe,children:e.jsx(ue,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryşy"}),e.jsx(J,{fullWidth:!0,value:I,placeholder:"Tekst",type:"text",name:"Tekst",onChange:k=>v(k.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsxs(n,{direction:"column",mt:2,width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(Me,{id:"combo-box-demo",options:Ys,multiple:!0,defaultValue:Le,filterSelectedOptions:!0,getOptionLabel:k=>`${se(k.name)} ${se(k.surname==null?"":k.surname)}`,onChange:_s,sx:{width:"100%"},renderInput:k=>e.jsx(J,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...k,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsx(n,{width:"100%",direction:"row",children:e.jsx(je,{dateAdapter:be,localeText:Ee,adapterLocale:"tk",children:e.jsx(Fe,{components:["MobileTimePicker","DatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{fullWidth:!0,defaultValue:R(E).isValid()?R(E):null,onChange:k=>{P(k?R(k).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(Ws,{theme:Be,children:e.jsx(an,{ampm:!1,defaultValue:R(E).isValid()?R(E):null,onChange:k=>{y(k?R(k).format("HH:mm"):null)},views:["hours","minutes"],format:"HH:mm",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"40px",width:"100%",pt:"8px",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:m.map((k,ae)=>e.jsx(n,{onClick:()=>me(k.color),style:{backgroundColor:k.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:p===k.color?e.jsx(qe,{}):""},ae))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(V,{onClick:Jn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})})]})}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(oi,{openModal:Pn,color:p,events:ot,setEvents:j,setStartDate:k=>M(k),setEndDate:k=>w(k),holidays:Ce})})]})})},li=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState(!1),[r,u]=o.useState(),f=()=>t(!0),C=()=>t(!1),m=w=>{u(w),l(!0)},S=()=>l(!1),p=ne(),A=B(w=>w.standarts.status),b=B(w=>w.standarts.error),F=B(w=>w.standarts.data),g=B(w=>w.standarts.standartForUser),j=JSON.parse(localStorage.getItem("CRM_USER")),h=B(w=>w.users.data);g.filter(w=>(w.users&&w.users.length)===h.length);const M=F.filter(w=>w.users&&w.users.length);o.useEffect(()=>{p(es(j.id))},[p]);const c=w=>{const I={laborId:w,userId:j.id};p(ht(I))};return e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(ze,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(d,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama (Aýratyn)"}),j.role==="USER"?"":e.jsxs(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#E7E7FB","&:hover":{background:"#E7E7FB"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:f,children:[e.jsx(Te,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(Tn,{open:a,userId:j.id,handleClose:C})]}),e.jsx(n,{children:A==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):A==="failed"?x.error(b):A==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:M.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(nt,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:M.map((w,I)=>e.jsx(nt,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...w.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[w.title,w.users&&w.users.length===h.length?e.jsx(V,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...I==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):w.users.map((v,z)=>e.jsxs(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#D9E8FF","&:hover":{background:"#D9E8FF"},gap:"10px",height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...z==0?{ml:3}:{ml:1}},variant:"outlined",children:[v.name," ",v.surname]},z))]}),j.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>m(w),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>c(w.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})}),e.jsx(Ms,{data:r,openUpdate:s,handleClose:S,userId:j.id})]})]}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:w.description})]})})},I))})})})}):""})]})},di=()=>{const[a,t]=o.useState(!1),[s,l]=o.useState(!1),[r,u]=o.useState(),f=()=>t(!0),C=()=>t(!1),m=w=>{u(w),l(!0)},S=()=>l(!1),p=ne(),A=B(w=>w.standarts.status),b=B(w=>w.standarts.error),F=B(w=>w.standarts.data),g=B(w=>w.standarts.standartForUser),j=JSON.parse(localStorage.getItem("CRM_USER")),h=B(w=>w.users.data);g.filter(w=>(w.users&&w.users.length)===h.length);const M=[...g,...F];o.useEffect(()=>{p(ut(j.id)),p(it())},[p]);const c=w=>{const I={laborId:w,userId:j.id};p(ht(I))};return console.log(M),e.jsxs(Z,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(ze,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(d,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama"}),j.role==="USER"?"":e.jsxs(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#E7E7FB","&:hover":{background:"#E7E7FB"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:f,children:[e.jsx(Te,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(Tn,{open:a,userId:j.id,handleClose:C})]}),e.jsx(n,{children:A==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):A==="failed"?x.error(b):A==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:M.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(nt,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:M.map((w,I)=>e.jsx(nt,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(Ze,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...w.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[w.title,w.users?w.users.map((v,z)=>e.jsxs(V,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#D9E8FF","&:hover":{background:"#D9E8FF"},gap:"10px",height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...z==0?{ml:3}:{ml:1}},variant:"outlined",children:[v.name," ",v.surname]},z)):e.jsx(V,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...I==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"})]}),j.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>m(w),children:e.jsx(We,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>c(w.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})}),e.jsx(Ms,{data:r,openUpdate:s,handleClose:S,userId:j.id})]})]}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:w.description})]})})},I))})})})}):""})]})},ci={data:[],status:"idle",error:null,loading:!1},ys=q("getSubTasks",async a=>(await U.get(`/subtask/get?userId=${a.userId}&taskId=${a.taskId}`)).data),ws=q("createSubTasks",async a=>{const t={subTasks:a.subTasks};if((await U.post("/subtask/add",t)).data.message==="Secsefully")return x.success("Üstünlikli!"),(await U.get(`/subtask/get?userId=${a.userId}&taskId=${a.taskId}`)).data;x.error("Şowsuz!")}),Cs=q("deleteSubTask",async a=>{if(a.subTaskId,(await U.delete(`/subtask/delete?subTaskId=${a.subTaskId}&taskId=${a.taskId}&permissionId=${a.userId}`)).data.message==="Successfully deleted 1 subtask(s)")return x.success("Üstünlikli üýtgedildi!"),(await U.get(`/subtask/get?userId=${a.userId}&taskId=${a.taskId}`)).data;x.error("Şowsuz!")}),Ss=q("updateSubTask",async a=>{if((await U.put("/subtask/update",a)).data.message==="Secsefully")return x.success("Üstünlikli üýtgedildi!"),(await U.get(`/subtask/get?userId=${a.userId}&taskId=${a.taskId}`)).data;x.error("Şowsuz!")}),ui=Pe({name:"subTask",initialState:ci,reducers:{},extraReducers:a=>{a.addCase(ys.pending,t=>{t.status="loading..."}).addCase(ys.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ys.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ws.pending,t=>{t.status="loading..."}).addCase(ws.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ws.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Cs.pending,t=>{t.status="loading..."}).addCase(Cs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Cs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Ss.pending,t=>{t.status="loading..."}).addCase(Ss.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ss.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),hi=ui.reducer,pi=()=>{const[a,t]=o.useState(()=>JSON.parse(localStorage.getItem("subTaskId"))||{}),s=B(m=>m.subTask.status),l=B(m=>m.subTask.error),r=B(m=>m.subTask.data.data),u=ne();o.useEffect(()=>{const m={taskId:a.id,userId:a.user&&a.user.id};u(ys(m))},[u,a]);const f=(m,S)=>{const p={id:m.id,isCompleted:!S,taskId:a.id,text:m.text,userId:a.user&&a.user.id};u(Ss(p))},C=m=>{const S={subTaskId:[m],taskId:a.id,userId:a.user&&a.user.id};m&&u(Cs(S))};return e.jsx(Z,{children:e.jsx(n,{children:s==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(fe,{}),"Loading..."]}):s==="failed"?x.error(l):s==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:r.length?e.jsx(n,{alignItems:"center",children:r.map((m,S)=>e.jsxs(n,{justifyContent:"space-between",alignItems:"center",direction:"row",width:"50%",sx:{padding:"2px",backgroundColor:"#f0f7ff",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},mt:2,children:[e.jsxs(n,{alignItems:"center",spacing:1,direction:"row",children:[e.jsx(Js,{checked:m.isCompleted,onChange:()=>f(m,m.isCompleted)}),e.jsx(d,{sx:{color:"#5F6368",textDecoration:m.isCompleted?"line-through":"none",textAlign:"justify"},children:se(m.text)})]}),e.jsx(H,{onClick:()=>C(m.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]},m.id))}):e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Ýumuş ýok"})}):""})})},xi=({user:a,openUserModal:t,handleCloseUserModal:s})=>{const[l,r]=o.useState(""),[u,f]=o.useState(()=>{const F=localStorage.getItem("tasks");return F?JSON.parse(F):[]}),[C,m]=o.useState(()=>JSON.parse(localStorage.getItem("subTaskId"))),S=ne(),p=()=>{const F={subTasks:u,taskId:C.id,userId:C.user&&C.user.id};u.length?(S(ws(F)),s(),f([])):x.error("Ýumuş giriziň!")},A=F=>{if(F.preventDefault(),l.trim()===""){x.error("Ýumuş ýazmaly!");return}const g={userId:a,taskId:C.id,text:l,isCompleted:!1},j=[...u,g];f(j),r("")},b=F=>{f(u.filter(g=>{}))};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:t,onClose:()=>{s()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:440,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"end",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:22,children:"Täze ýumuş"}),e.jsx(H,{onClick:()=>{s()},children:e.jsx(ue,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"15px 20px 30px ",spacing:"10px",children:[e.jsxs(n,{p:"15px 20px",spacing:"10px",children:[e.jsx("form",{onSubmit:A,children:e.jsxs(n,{alignItems:"center",spacing:1,justifyContent:"space-between",width:"100%",direction:"row",children:[e.jsx(J,{variant:"outlined",placeholder:"Ýumuşyň ady",autoComplete:"off",value:l,fullWidth:!0,onChange:F=>r(F.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",height:45}}}),e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"35px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:A,children:"Goşmak"})]})}),e.jsx(Z,{minHeight:"200px",maxHeight:"200px",sx:{overflow:"scroll",p:1,"&::-webkit-scrollbar":{backgroundColor:"lightblue",width:"5px",borderRadius:"10px",height:"0px"}},children:u.length>0?e.jsx(n,{spacing:1,mt:"10px",children:u.map((F,g)=>e.jsxs(n,{direction:"row",sx:{padding:"2px",backgroundColor:"#f0f7ff",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(d,{textAlign:"center",children:[g+1,". ",se(F.text)]},g),e.jsx(H,{onClick:()=>b(),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]}))}):e.jsx(d,{sx:{mt:2,textAlign:"center"},children:"Ýumuş goşuň!"})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(V,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:p,children:"Ýatda sakla"})})]})]})})})},gi=()=>{const[a,t]=o.useState(!1);$e();const[s,l]=o.useState(()=>JSON.parse(localStorage.getItem("subTaskId"))),r=Ie();ne(),console.log(s);const u=()=>{t(!0)},f=()=>{t(!1)};return e.jsxs(Z,{height:"100vh",p:1,width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(ze,{}),e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"97%",borderRadius:"12px",p:"20px",mt:2,boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",sx:{justifyContent:"space-between",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(Ne,{to:"#",onClick:()=>r(-1),style:{textDecoration:"none",color:"#474747",display:"flex",height:"100%",alignItems:"center",gap:"10px",padding:"15px 0"},children:e.jsx(Vs,{})}),e.jsx(d,{width:"100%",textAlign:"center",fontSize:"24px",fontFamily:"DM Sans",fontWeight:"500",children:s&&`${se(s.name)} (${s.user.name} ${s.user.surname})`})]}),e.jsx(n,{alignItems:"center",justifyContent:"center",children:e.jsxs(V,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:u,children:[e.jsx(Fa,{}),"Ýumuş"]})})]}),e.jsx(pi,{}),e.jsx(xi,{openUserModal:a,handleCloseUserModal:f,user:s.user.id})]})]})};function fi(){const a=({children:s})=>localStorage.getItem("CRM_USER")?s:e.jsx(Ua,{to:"/login",replace:!0});JSON.parse(localStorage.getItem("CRM_USER"));const t=Kn([{path:"/login",element:e.jsx(Gr,{})},{path:"/",element:e.jsx(a,{children:e.jsx(Ga,{})}),children:[{path:"/",element:e.jsx(Mr,{})},{path:"/calendar",element:e.jsx(ii,{})},{path:"/document",element:e.jsx(Br,{})},{path:"/account",element:e.jsx(ro,{})},{path:"/standarts/all",element:e.jsx(tr,{})},{path:"/standarts/specific",element:e.jsx(li,{})},{path:"/standarts/specific/user",element:e.jsx(di,{})},{path:"/employees",element:e.jsx(Yn,{})},{path:"/employees/:id",element:e.jsx(Sr,{})},{path:"/settings",element:e.jsx(ai,{})},{path:"/employees/regulating",element:e.jsx(Zr,{})},{path:"/projects",element:e.jsx(Mo,{})},{path:"/chat",element:e.jsx(Tr,{})},{path:"/projects/:projectId",element:e.jsx(Wr,{})},{path:"/projects/:projectId/:subId",element:e.jsx(gi,{})}]}]);return e.jsx(_n,{router:t,style:{minHeight:"100vh"}})}const mi=Ra({reducer:{auth:Qa,imgAccount:Za,absense:br,users:xo,getWorkDate:Po,uploadPDf:ar,getWorkTime:To,project:jo,projectDetail:Co,workTime:_r,standarts:$o,holidays:vr,subTask:hi}});$n.createRoot(document.getElementById("root")).render(e.jsx(ea,{store:mi,children:e.jsx(fi,{})}));
