import{j as e,r as a}from"./react-CGFrf-d4.js";import{c as vn}from"./react-dom-xpLkuR59.js";import{L as ze,N as We,u as Fs,c as Mn,R as Rn}from"./react-router-dom-CbEMuPyh.js";import{d as U,a as Yn,b as Tn}from"./dayjs-oBNrYJvz.js";import{u as B,a as se,P as En}from"./react-redux-C-rBssQn.js";import{c as q,a as Pe,b as Wn}from"./@reduxjs-BJllBblM.js";import{a as Un}from"./axios-dxcvQi4N.js";import{B as g,Q as Be}from"./react-toastify-C8HBDAMy.js";import{h as N}from"./moment-3GyybMVG.js";import{s as zn,T as ye,d as Ws,a as Pn,B as bs,b as Bn,c as Nn,e as On,f as Ln,g as Hs,h as Hn,i as Qs,j as Qn,u as Js,k as Vs,l as K,m as L,S as n,I as H,n as Jn,A as us,o as d,p as Vn,D as Gn,q as G,r as Xn,t as qn,v as Zn,w as Kn,x as $n,y as ys,z as _n,C as eo,E as to,F as so,G as hs,H as no,J as le,K as de,M as V,L as fe,N as me,O as ie,P as pe,Q as oo,R as oe,U as he,V as Se,W as ce,X as De,Y as Je,Z as _e,_ as nt,$ as ao,a0 as ro,a1 as io,a2 as Ie,a3 as Gs,a4 as lo,a5 as As,a6 as ot,a7 as Le,a8 as He,a9 as X,aa as Qe,ab as Ge,ac as Xs,ad as Ss,ae as ke,af as co,ag as bt,ah as qs,ai as uo,aj as ho,ak as po,al as Zs,am as Ks,an as tt,ao as ps,ap as xs,aq as gs,ar as fs,as as xt,at as Us,au as zs,av as xo,aw as go,ax as fo,ay as Ps,az as mo,aA as jo,aB as Bs}from"./@mui-CPx6hGgy.js";import{M as $s,a as Ue,S as bo,s as yo}from"./react-pro-sidebar-BFKLmOBL.js";import{e as we,d as wo,O as Co,f as at,g as Ao}from"./react-router-Wv9TSl4y.js";import{l as _s}from"./socket.io-client-BGdex47s.js";import"./@babel-CC78qJF2.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-B_55oQtr.js";import"./use-sync-external-store-9ZOjDghS.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./clsx-B-dksMZM.js";import"./@emotion-BR_XP5i8.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-FDnFs_-n.js";import"./react-is-DcfIKM1A.js";import"./react-transition-group-DH7TTrWS.js";import"./dom-helpers-D0mFdbeO.js";import"./prop-types-Dbh8Zy4H.js";import"./@popperjs-BQBsAJpH.js";import"./engine.io-client-BY_6WtMP.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))h(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const y of u.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&h(y)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function h(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();const So="http://192.168.1.46:5022/api/",E=Un.create({baseURL:So}),Do={loading:!1,isAuth:!1,user:null,error:null};q("login",async o=>{try{const t=await E.post("/user/login",o),s=t.data&&t.data.token,h=t.data;return localStorage.setItem("token",JSON.stringify(s)),h}catch{response.data.message==="error client request"?g.error("Ulanyjy tapylmady!"):g.error(response.data.message)}});q("register",async o=>{try{const t=await E.post("/user/registration",o);g.success(t.data.message==="Registration seccseful"?"Üstünlikli":t.message)}catch{g.error(response.data.message)}});const en=Pe({name:"auth",initialState:Do,reducers:{loginStart:o=>{o.loading=!0,o.error=null},loginSuccess:(o,t)=>{o.isAuthenticated=!0,o.user=t.payload,o.loading=!1},loginFailure:(o,t)=>{o.loading=!1,o.error=t.payload},logout:o=>{o.isAuthenticated=!1,o.token=null,o.user=null,o.loading=!1},registerStart:o=>{o.loading=!0,o.error=null},registerSuccess:(o,t)=>{o.isAuthenticated=!0,o.token=t.payload.token,o.user=t.payload.user,o.loading=!1},registerFailure:(o,t)=>{o.loading=!1,o.error=t.payload}}}),{loginStart:ji,loginSuccess:ko,loginFailure:Io,logout:Fo,registerStart:bi,registerSuccess:yi,registerFailure:wi}=en.actions,vo=en.reducer,Mo={updated:!1,data:[],status:"idle",error:null,loading:!1},yt=q("updateImg",async o=>{const t=await E.patch("/user/updata/img",o);return t.data?g.success("Üstünlikli döredildi!"):g.error("Şowsuz!"),localStorage.setItem("CRM_USER",JSON.stringify(t.data)),t.data}),Ro=Pe({name:"userImg",initialState:Mo,reducers:{},extraReducers:o=>{o.addCase(yt.pending,t=>{t.status="loading..."}).addCase(yt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(yt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Yo=Ro.reducer,To={data:[],status:"idle",error:null,loading:!1},Me=q("getUsers",async()=>{const o=JSON.parse(localStorage.getItem("token"));return(await E.get("/user/users",{headers:{Authorization:`Bearer ${o}`}})).data}),ws=q("updateImg",async o=>{const t=await E.post("/user/updata-img",o);return t.data.message=="User profil photo updated successfully"?g.success("Üstünlikli döredildi!"):g.error("Şowsuz!"),t}),wt=q("postStatusUser",async o=>{if((await E.patch("/user/updata/status",o)).data.status!==400){const s=await E.get("/user/status");return g.success("Üstünlikli üýtgedildi!"),s.data}else g.error("Şowsuz!")}),Eo=Pe({name:"users",initialState:To,reducers:{},extraReducers:o=>{o.addCase(Me.pending,t=>{t.status="loading..."}).addCase(Me.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Me.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ws.pending,t=>{t.status="loading..."}).addCase(ws.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ws.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(wt.pending,t=>{t.status="loading..."}).addCase(wt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(wt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Wo=Eo.reducer,Uo={employeerTime:[],data:[],adminNotes:[],adminNote:[],status:"idle",statusAdminNote:"idle",statusMonth:"idle",errorAdminNote:"idle",error:null,errorMonth:null,loading:!1,setIsCame:JSON.parse(localStorage.getItem("iscame"))},Oe=q("getUserMonthWorkTime",async o=>{const t=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return t.data.status===404&&g.error(t.data.message),t.data}),Ct=q("updateUserRole",async o=>{const t=await E.patch("/user/updata/role",o);if(console.log(t.data),t.data==`User ID ${o.userId} role updated successfully.`){const s=await E.get("/user/status");return g.success("Üstünlikli üýtgedildi!"),s.data}else g.error("Şowsuz!")}),At=q("getUserDayWorkTime",async o=>{const t=await E.get(`time/for/day?userId=${o.userId}&date=${o.date}`);return t.data.status===404&&g.error(t.data.message),t.data}),St=q("postComeTime",async o=>{const t={userId:o.userId,comeStatus:o.comeStatus};return(await E.post("/time/come",t)).data.messagge=="Saved come time work"?g.success("Üstünlikli!"):g.error("Şowsuz!"),(await E.get(`time/for/day?userId=${o.userId}&date=${o.userGetTime.date}`)).data}),Dt=q("postLeaveTime",async o=>{const t={userId:o.userId,leaveStatus:o.leaveStatus};return(await E.post("/time/leave",t)).data.status==200?g.success("Üstünlikli!"):g.error("Şowsuz!"),(await E.get(`time/for/day?userId=${o.userId}&date=${o.userGetTime.date}`)).data}),kt=q("noteUser",async o=>{const t={id:o.id,note:o.note,color:o.color};(await E.patch("/time/updata/note",t)).data.message==" Note updated successfully "?g.success("Üstünlikli!"):g.error("Şowsuz!");const l={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:N().format("YYYY-MM-DD")},u=await E.get(`time/work/user?userId=${l.userId}&date=${l.date}`);return u.data.status===404&&g.error(u.data.message),u.data}),It=q("noteUpdate",async o=>{const t={id:o.id,note:o.note,color:o.color};(await E.patch("/time/updata/note",t)).data.message==" Note updated successfully "?g.success("Üstünlikli!"):g.error("Şowsuz!");const l={userId:JSON.parse(localStorage.getItem("CRM_USER")).id,date:N().format("YYYY-MM-DD")},u=await E.get(`time/work/user?userId=${l.userId}&date=${l.date}`);return u.data.status===404&&g.error(u.data.message),u.data}),Ft=q("getAdminNotes",async o=>{const t=await E.get(`/warning/get/share?startDate=${o.startDate}&endDate=${o.endDate}&userId=${o.userId}`);return t.data.status===404&&g.error(t.data.message),t.data}),vt=q("adminNotesOfMonth",async o=>{const t=await E.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return t.data.status===404&&g.error(t.data.message),t.data}),Mt=q("postAdminNote",async o=>{const t={title:o.title,date:new Date(`${o.date} ${o.dateHour}`).toJSON(),color:o.color,users:o.users};t.title!==""&&t.date!==null&&t.users.length!==0?(await E.post("/warning/post",t)).data=="OK"?g.success("Üstünlikli!"):g.error("Şowsuz!"):g.error("Maglumatlary giriziň");const s=await E.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return s.data.status===404&&g.error(s.data.message),s.data}),Rt=q("getAdminNoteForProject",async o=>{const t=await E.get(`/note/my/sent/notes?userId=${o}`);return t.data.status===404&&g.error(t.data.message),t.data}),Yt=q("postAdminNotes",async o=>{o.content!==""&&o.userId!==""?(await E.post("/note/create",o)).data.message=="OK"?g.success("Üstünlikli!"):g.error("Şowsuz!"):g.error("Maglumatlary giriziň");const t=await E.get(`/note/my/sent/notes?userId=${o.authorId}`);return t.data.status===404&&g.error(t.data.message),t.data}),Tt=q("updateAdminNote",async o=>{o.content!==""&&o.userId!==""?(await E.patch("/note/updata",o)).data.message=="Successfully"?g.success("Üstünlikli!"):g.error("Şowsuz!"):g.error("Maglumatlary giriziň");const t=await E.get(`/note/my/sent/notes?userId=${o.authorId}`);return t.data.status===404&&g.error(t.data.message),t.data}),Et=q("deleteAdminNote",async o=>{(await E.delete(`/warning/remove?id=${o.id}`)).data=="OK"?g.success("Üstünlikli!"):g.error("Şowsuz!");const s=await E.get(`/warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return s.data.status===404&&g.error(s.data.message),s.data}),Wt=q("deleteAdminNotes",async o=>{(await E.delete(`/note/delete?authorId=${o.authorId}&noteId=${o.id}`)).data.message=="Successfully"?g.success("Üstünlikli!"):g.error("Şowsuz!");const s=await E.get(`/note/my/sent/notes?userId=${o.authorId}`);return s.data.status===404&&g.error(s.data.message),s.data}),Ut=q("updateAdminNotes",async o=>{const t={warningId:o.noteId,title:o.content,date:new Date(`${o.date} ${o.dateHour}`).toJSON(),color:o.color,users:o.users};(await E.put("/warning/update",t)).data.msg=="OK"?g.success("Üstünlikli!"):g.error("Şowsuz!");const h=await E.get(`warning/get?startDate=${o.startDate}&endDate=${o.endDate}`);return h.data.status===404&&g.error(h.data.message),h.data}),zt=q("getUserNoteForProject",async o=>{const t=await E.get(`/note/received/notes?userId=${o}`);return t.data.status===404&&g.error(t.data.message),t.data}),Pt=q("deleteUserNote",async o=>{(await E.delete(`/time/remove/note?id=${o.id}&userId=${o.userId}`)).data.msg=="Successfully"?g.success("Üstünlikli!"):g.error("Şowsuz!"),o.id,N().format("YYYY-MM-DD");const s=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return s.data.status===404&&g.error(s.data.message),s.data}),zo=q("postUserStatus",async({body:o,data:t})=>{if((await E.patch("/user/updata/status",t)).data.status===200){const h=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return h.data.status===404&&g.error(h.data.message),h.data}else g.error("Ýalňyşlyk!")}),Po=Pe({name:"WorkTimes",initialState:Uo,reducers:{},extraReducers:o=>{o.addCase(Oe.pending,t=>{t.statusMonth="loading..."}).addCase(Oe.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(Oe.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(Ct.pending,t=>{t.statusMonth="loading..."}).addCase(Ct.fulfilled,(t,s)=>{t.statusMonth="succeeded",t.employeerTime=s.payload}).addCase(Ct.rejected,(t,s)=>{t.loading=!1,t.statusMonth="failed",t.errorMonth=s.error.message}).addCase(Ft.pending,t=>{t.statusAdminNote="loading..."}).addCase(Ft.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Ft.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(vt.pending,t=>{t.statusAdminNote="loading..."}).addCase(vt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(vt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Mt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Mt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Mt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Yt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Yt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Yt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Tt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Tt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Tt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Rt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Rt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Rt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(zt.pending,t=>{t.statusAdminNote="loading..."}).addCase(zt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(zt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Wt.pending,t=>{t.statusAdminNote="loading..."}).addCase(Wt.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNote=s.payload}).addCase(Wt.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Ut.pending,t=>{t.statusAdminNote="loading..."}).addCase(Ut.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Ut.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(Et.pending,t=>{t.statusAdminNote="loading..."}).addCase(Et.fulfilled,(t,s)=>{t.statusAdminNote="succeeded",t.adminNotes=s.payload}).addCase(Et.rejected,(t,s)=>{t.loading=!1,t.statusAdminNote="failed",t.errorAdminNote=s.error.message}).addCase(kt.pending,t=>{t.status="loading..."}).addCase(kt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(kt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Pt.pending,t=>{t.status="loading..."}).addCase(Pt.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(Pt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(It.pending,t=>{t.status="loading..."}).addCase(It.fulfilled,(t,s)=>{t.status="succeeded",t.employeerTime=s.payload}).addCase(It.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(At.pending,t=>{t.status="loading..."}).addCase(At.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(At.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(St.pending,t=>{t.status="loading..."}).addCase(St.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!1)}).addCase(St.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Dt.pending,t=>{t.status="loading..."}).addCase(Dt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.setIsCame=localStorage.setItem("iscame",!0)}).addCase(Dt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),Bo=Po.reducer,tn=["Duşenbe","Sişenbe","Çarşenbe","Penşenbe","Anna","Şenbe","Ýekşenbe"],sn=["Ýanwar","Fewral","Mart","Aprel","Maý","Iýun","Iýul","Awgust","Sentýabr","Oktýabr","Noýabr","Dekabr"],Ds=JSON.parse(localStorage.getItem("CRM_USER"));function ee(o){return o&&o.charAt(0).toUpperCase()+o.substring(1).toLowerCase()}const No={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"10px 30px ",height:"575px"},Ns={position:"absolute",top:"10%",left:"35%",transform:"translate(-50%, -50%)",width:535,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px ",height:"575px",overflow:"scroll","&::-webkit-scrollbar":{display:"none"}},ks={position:"absolute",top:"20%",left:"30%",transform:"translate(-50%, -50%)",width:635,bgcolor:"#fff",boxShadow:2,borderRadius:"30px",p:"30px",height:"350px"},Oo=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:5,title:"Gelen wagty"},{id:6,title:"Giden wagty"},{id:7,title:"Gijä galan sagady"},{id:8,title:"Bellik"}],Lo=[{id:1,title:"№"},{id:2,title:"Ady"},{id:3,title:"Familiýasy"},{id:4,title:"Statusy"},{id:5,title:"Moderator"}],Ho=[{id:1,title:"Sene"},{id:2,title:"Gelen wagty"},{id:3,title:"Giden wagty"},{id:4,title:"Işlän sagady"},{id:5,title:"Gijä galan sagady"},{id:6,title:"Bellik"}];function Qo(o,t){if(!o.workingHours||typeof o.workingHours!="string")return"Invalid time data";const[s,h]=o.workingHours.split(":");return[{id:1,title:"Jemi:"},{id:2,title:""},{id:3,title:""},{id:4,title:`${s}(sag):${h}(min)`},{id:5,title:`${t.totalLateMinutes}(min)`},{id:6,title:""}]}const Jo=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],Vo=[{id:1,title:"Proýekt"},{id:2,title:"Ýerine ýetirýän"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"},{id:7,title:""}],nn=[{id:1,title:"Proýekt"},{id:3,title:"Wagty"},{id:4,title:"Derejesi"},{id:5,title:"Wajyplygy"},{id:6,title:"Statusy"}],jt=zn(ye)(({theme:o})=>({fontFamily:"DM Sans, sans-serif","&:nth-of-type(odd)":{backgroundColor:"#f9fafc"},"&:hover":{backgroundColor:"#f9fafc"}})),vs={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},Go={data:[],docType:[],status:"idle",error:null,loading:!1,uploadProgress:0},rt=q("getDocType",async o=>{const t=await E.get(`/document/type/get?userId=${o}`);return t.data.status===404&&g.error(t.data.message),t.data.data}),Bt=q("getPDF",async o=>{const t=await E.get(`/pdf/get/files?userId=${o}`);return t.data.status===404&&g.error(t.data.message),t.data}),Nt=q("createPdf",async(o,{rejectWithValue:t,dispatch:s})=>{var h;try{const l=await E.post("/pdf/upload/file",o.body,{headers:{"Content-Type":"multipart/form-data"},maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:u=>{const y=Math.round(u.loaded*100/u.total);s(Ms(y))}});if(l.status===200)return g.success("Üstünlikli!"),(await E.get(`/pdf/get/files?userId=${o.userId}`)).data;l.data.status===404&&g.error(l.data.message)}catch(l){return g.error("Ýalňyşlyk!"),t(((h=l.response)==null?void 0:h.data)||l.message)}}),Ot=q("updatePdf",async(o,{rejectWithValue:t,dispatch:s})=>{var h;try{const l=await E.put(o.files==null?"/pdf/edit":"/pdf/edit/file",o.body,{maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:u=>{const y=Math.round(u.loaded*100/u.total);s(Ms(y))}});if(console.log(l.data),l.data.message==="Successfully")return g.success("Üstünlikli!"),(await E.get(`/pdf/get/files?userId=${o.userId}`)).data;l.data.status===404&&g.error(l.data.message)}catch(l){return g.error("Ýalňyşlyk!"),t(((h=l.response)==null?void 0:h.data)||l.message)}}),Lt=q("createPdfByAdmin",async(o,{rejectWithValue:t,dispatch:s})=>{var h;try{const l=await E.post("/pdf/upload/file",o.body);if(l.status===200)return g.success("Üstünlikli!"),(await s(Oe({userId:o.userId,date:o.date}))).data;l.data.status===404&&g.error(l.data.message)}catch(l){return g.error("Ýalňyşlyk!"),t(((h=l.response)==null?void 0:h.data)||l.message)}}),Xo=q("createPdfByAdmin",async(o,{rejectWithValue:t,dispatch:s})=>{var h;try{const l=await E.put(o.files==null?"/pdf/edit":"/pdf/edit/file",o.body,{maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:u=>{const y=Math.round(u.loaded*100/u.total);s(Ms(y))}});if(console.log(l.data),l.data.message==="Successfully")return g.success("Üstünlikli!"),(await s(Oe({userId:o.userId,date:o.date}))).data;l.data.status===404&&g.error(l.data.message)}catch(l){return g.error("Ýalňyşlyk!"),t(((h=l.response)==null?void 0:h.data)||l.message)}}),Ht=q("deletePdf",async o=>{const t=await E.delete(`/pdf/delete?userId=${o.userId}&documentId=${o.documentId}`);t.status===200&&g.success("Üstünlikli!"),t.data.status===404&&g.error(t.data.message);const s=await E.get(`/pdf/get/files?userId=${Ds.id}`);return s.data.status===404&&g.error(s.data.message),s.data}),Qt=q("deletePdfForUser",async(o,{dispatch:t})=>{const s=await E.delete(`/pdf/delete?userId=${o.userId}&documentId=${o.documentId}`);s.status===200&&(g.success("Üstünlikli!"),await t(Oe({userId:o.userId,date:o.date}))),s.data.status===404&&g.error(s.data.message);const h=await E.get(`/time/work/user?userId=${o.userId}&date=${o.date}`);return h.data.status===404&&g.error(h.data.message),h.data}),on=Pe({name:"postPdf",initialState:Go,reducers:{updateUploadProgress:(o,t)=>{o.uploadProgress=t.payload},resetUploadProgress:o=>{o.uploadProgress=0}},extraReducers:o=>{o.addCase(Nt.pending,t=>{t.status="loading..."}).addCase(Nt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(Nt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Ot.pending,t=>{t.status="loading..."}).addCase(Ot.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(Ot.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Lt.pending,t=>{t.status="loading..."}).addCase(Lt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.uploadProgress=0}).addCase(Lt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Bt.pending,t=>{t.status="loading..."}).addCase(Bt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Bt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(rt.pending,t=>{t.status="loading..."}).addCase(rt.fulfilled,(t,s)=>{t.status="succeeded",t.docType=s.payload}).addCase(rt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Ht.pending,t=>{t.status="loading..."}).addCase(Ht.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Ht.rejected,(t,s)=>{t.status="failed",t.error=s.error.message}).addCase(Qt.pending,t=>{t.status="loading..."}).addCase(Qt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Qt.rejected,(t,s)=>{t.status="failed",t.error=s.error.message})}}),{updateUploadProgress:Ms,resetUploadProgress:Ci}=on.actions,qo=on.reducer,Zo={data:[],status:"idle",error:null,loading:!1},Jt=q("getWorkTimeForDay",async o=>(await E.get(`/user/get/users?date=${o}`)).data),Ko=Pe({name:"getWorkTime",initialState:Zo,reducers:{},extraReducers:o=>{o.addCase(Jt.pending,t=>{t.status="loading..."}).addCase(Jt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Jt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),$o=Ko.reducer,_o={data:[],status:"idle",error:null,loading:!1},st=q("getProjects",async()=>(await E.get("/project/get")).data.data),it=q("getProjectForUser",async o=>(await E.get(`/project/get/user/projects?userId=${o}`)).data.data),Vt=q("postNewProject",async o=>((await E.post("/project/create",o)).data?g.success("Üstünlikli!"):g.error("Şowsuz!"),(await E.get("/project/get")).data.data)),Gt=q("updateProject",async o=>((await E.put("/project/updata/project",o)).data?g.success("Üstünlikli!"):g.error("Şowsuz!"),(await E.get("/project/get")).data.data)),Xt=q("deleteProject",async o=>{if((await E.delete(`/project/delete/project?projectId=${o.projectId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Project remove successfully")return g.success("Üstünlikli!"),(await E.get("/project/get")).data.data;g.error("Ýalňyşlyk!")}),ea=Pe({name:"project",initialState:_o,reducers:{},extraReducers:o=>{o.addCase(st.pending,t=>{t.status="loading..."}).addCase(st.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(st.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(it.pending,t=>{t.status="loading..."}).addCase(it.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(it.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Vt.pending,t=>{t.status="loading..."}).addCase(Vt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Vt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Gt.pending,t=>{t.status="loading..."}).addCase(Gt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Gt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Xt.pending,t=>{t.status="loading..."}).addCase(Xt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Xt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),ta=ea.reducer,sa={data:[],status:"idle",error:null,loading:!1},qt=q("getProjectDetail",async o=>[(await E.get(`/project/id/get?projectId=${o}`)).data.data]),Cs=q("getProjectForUser",async o=>[(await E.get(`/project/get/user/projects?userId=${o}`)).data.data]),Zt=q("updateProjectForUser",async o=>{if((await E.put("/project/updata/project",o)).data.message=="Project updated successfully")return g.success("Üstünlikli!"),(await E.get(`/project/get/user/projects?userId=${o.userId}`)).data.data;g.error("Ýalňyşlyk!")}),Kt=q("updateTask",async({body:o,projectID:t})=>((await E.put("/project/updata/task",o)).data?g.success("Üstünlikli!"):g.error("Şowsuz!"),[(await E.get(`/project/id/get?projectId=${t}`)).data.data])),$t=q("deleteProjectTask",async({body:o,age:t})=>{if((await E.delete(`/project/delete/task?projectId=${o.projectId}&taskId=${o.taskId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Task remove successfully")return g.success("Üstünlikli!"),[(await E.get(`/project/id/get?projectId=${t}`)).data.data];g.error("Ýalňyşlyk!")}),_t=q("deleteProjectForUser",async o=>{if((await E.delete(`/project/delete/project?projectId=${o.projectId}&responsibleUserId=${o.responsibleUserId}`)).data.message=="Project remove successfully")return g.success("Üstünlikli!"),(await E.get(`/project/get/user/projects?userId=${o.userId}`)).data.data;g.error("Ýalňyşlyk!")}),es=q("addNewTask",async({body:o,projectID:t})=>((await E.post("/project/add/task/existing/project",o)).data.message==="Task created"?g.success("Üstünlikli!"):g.error("Şowsuz!"),[(await E.get(`/project/id/get?projectId=${t}`)).data.data])),ts=q("postNewProjectForUser",async o=>((await E.post("/project/create",o.body)).data?g.success("Üstünlikli!"):g.error("Şowsuz!"),(await E.get(`/project/get/user/projects?userId=${o.userId}`)).data.data)),na=Pe({name:"project",initialState:sa,reducers:{},extraReducers:o=>{o.addCase(ts.pending,t=>{t.status="loading..."}).addCase(ts.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ts.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Zt.pending,t=>{t.status="loading..."}).addCase(Zt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Zt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(_t.pending,t=>{t.status="loading..."}).addCase(_t.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(_t.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(qt.pending,t=>{t.status="loading..."}).addCase(qt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(qt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Cs.pending,t=>{t.status="loading..."}).addCase(Cs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Cs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(es.pending,t=>{t.status="loading..."}).addCase(es.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(es.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(Kt.pending,t=>{t.status="loading..."}).addCase(Kt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(Kt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase($t.pending,t=>{t.status="loading..."}).addCase($t.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase($t.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),oa=na.reducer,aa={data:[],status:"idle",error:null,loading:!1},ss=q("getWorkTimeForDay",async()=>(await E.get("/time/get")).data),ns=q("postWorkTimeDay",async o=>{const t=await E.post("/time/set",o);if(console.log(t.data),t.data.status)return g.success("Üstünlikli!"),(await E.get("/time/get")).data}),ra=Pe({name:"getTimeOfWork",initialState:aa,reducers:{},extraReducers:o=>{o.addCase(ss.pending,t=>{t.status="loading..."}).addCase(ss.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ss.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ns.pending,t=>{t.status="loading..."}).addCase(ns.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ns.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),ia=ra.reducer,la={data:[],status:"idle",error:null,loading:!1},gt=q("getStandarts",async o=>{const t=await E.get(`/labor/protection/get?userId=${o}`);return t.data.status===404&&g.error(t.data.message),t.data}),lt=q("getStandartsForUser",async o=>{const t=await E.get(`/labor/protection/get/user?userId=${o}`);return t.data.status===404&&g.error(t.data.message),t.data}),ft=q("deleteStandart",async o=>{if((await E.delete(`/labor/protection/delete?id=${o.laborId}&userId=${o.userId}`)).data.message==="LaborProtection deleted successfully")return g.success("Üstünlikli!"),(await E.get(`/labor/protection/get?userId=${o.userId}`)).data;g.error("Ýalňyşlyk!")}),os=q("deleteStandartForUser",async o=>{if((await E.delete(`/labor/protection/delete?id=${o.laborId}&userId=${o.userId}`)).data.message==="LaborProtection deleted successfully")return g.success("Üstünlikli!"),(await E.get(`/labor/protection/get/user?userId=${o.id}`)).data;g.error("Ýalňyşlyk!")}),as=q("postStandartForUser",async o=>{const t={title:o.title,description:o.description,usersId:o.usersId};if((await E.post("/labor/protection/add",t)).data=="OK")return g.success("Üstünlikli!"),(await E.get(`/labor/protection/get/user?userId=${o.userId}`)).data;g.error("Ýalňyşlyk!")}),rs=q("postStandart",async o=>{const t={title:o.title,description:o.description,usersId:o.usersId};if((await E.post("/labor/protection/add",t)).data=="OK")return g.success("Üstünlikli!"),(await E.get(`/labor/protection/get?userId=${o.userId}`)).data;g.error("Ýalňyşlyk!")}),is=q("updateStandart",async o=>{if((await E.put("/labor/protection/update",o)).data)return g.success("Üstünlikli!"),(await E.get(`/labor/protection/get?userId=${o.userId}`)).data;g.error("Ýalňyşlyk!")}),ls=q("changeLoginPassword",async o=>{const t=await E.patch("/user/updata/password",o);if(console.log(t.data),t.data=="User ID 18 login and password updated successfully.")return g.success("Üstünlikli!");g.error("Ýalňyşlyk!")}),da=Pe({name:"standart",initialState:la,reducers:{},extraReducers:o=>{o.addCase(gt.pending,t=>{t.status="loading..."}).addCase(gt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(gt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(lt.pending,t=>{t.status="loading..."}).addCase(lt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(lt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ft.pending,t=>{t.status="loading..."}).addCase(ft.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(ft.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(os.pending,t=>{t.status="loading..."}).addCase(os.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(os.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(rs.pending,t=>{t.status="loading..."}).addCase(rs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(rs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(as.pending,t=>{t.status="loading..."}).addCase(as.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(as.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(is.pending,t=>{t.status="loading..."}).addCase(is.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(is.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ls.pending,t=>{t.status="loading..."}).addCase(ls.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload,t.updated=!0}).addCase(ls.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),ca=da.reducer,ua={data:[],status:"idle",error:null,loading:!1},$e=q("getHolidays",async o=>(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data),ds=q("createHoliday",async o=>{const t={name:o.name,date:o.date,color:o.color};if((await E.post("/holiday/add",t)).data.message==="Successfully added")return g.success("Üstünlikli üýtgedildi!"),(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data;g.error("Şowsuz!")}),mt=q("deleteHoliday",async o=>{if((await E.delete(`/holiday/delete?id=${o.id}`)).data.message==="Successfully deleted")return g.success("Üstünlikli üýtgedildi!"),(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data;g.error("Şowsuz!")}),cs=q("updateHoliday",async o=>{const t={id:o.id,name:o.name,date:o.date,color:o.color};if((await E.put("/holiday/update",t)).data.message==="Successfully update")return g.success("Üstünlikli üýtgedildi!"),(await E.get(`/holiday/get/interval?startDate=${o.startDate}&endDate=${o.endDate}`)).data;g.error("Şowsuz!")}),ha=Pe({name:"holidays",initialState:ua,reducers:{},extraReducers:o=>{o.addCase($e.pending,t=>{t.status="loading..."}).addCase($e.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase($e.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(ds.pending,t=>{t.status="loading..."}).addCase(ds.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(ds.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(mt.pending,t=>{t.status="loading..."}).addCase(mt.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(mt.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message}).addCase(cs.pending,t=>{t.status="loading..."}).addCase(cs.fulfilled,(t,s)=>{t.status="succeeded",t.data=s.payload}).addCase(cs.rejected,(t,s)=>{t.loading=!1,t.status="failed",t.error=s.error.message})}}),pa=ha.reducer,xa=Wn({reducer:{auth:vo,imgAccount:Yo,users:Wo,getWorkDate:Bo,uploadPDf:qo,getWorkTime:$o,project:ta,projectDetail:oa,workTime:ia,standarts:ca,holidays:pa}}),ga="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPvSURBVHgB7ZpNctowFMffk/PRJTcoOUGSCxA4QcmyoZ3GSafbpCcI3KCsOtM2YzJt0mWSExh6gaYnqI/AsjC11CdjG5FpQDJWCIx/C8aYZ4m/9CQ9PRmgoKCgoODpgmCZT/7ljgNYZY7YBoFVulWiWkvRjwL69BEAYsBD6IUguu9qjTuwiBXBnu+VgG2cUPF1qmHH6GEBAeeidVxrdMACuQs+97+dMsbO0l7Mzo1bOdiHnFmDnKBeLYOz6dFl9d5PfQFwi4BdcPgdDIeBW3P78TMlWHu2A4KXyaZONnsAUUMFEA5cpeyRx2A0JEblC3HHObRNPSGXHvZonALDayqtrNwOOECbhYNOInB2OSTM2ahDyLpu7WUQ3ysD2/TvlT2GhgDwQY3qCDSqmF9wLNZXXVgI0UY+bOoKnVp+7+r3g2LTCiPRuzr1zeXSo9aPejYR2ye32z+qHHQhB6gxD2eKlZANZxundNWcZTrfGJ50NRp3WEtcMRcYnuibRuN/th1kxOtdnk20fij2cxUrMVvSqjpGmQRHrozYHN/h713LAUNeZBIs2HpT+Rq4lVcfwA5dbUsErQbPJBiBpeOFg2iBJbgQPQPbto6dseDP/teqOlEdV+yEgBLGh9JzAg1T7f9hLNhhrJ5c03p7CxaJ1lWa+WG66CC20cJYMCJup9eM3YBl5MxPMfUWNa8rQPxK7lMo2qMWb1EIumuyOhivw1TpFiYB2l8+dySlizty2Q7MiXkPAz5P/8SSLEUqmQOPRfORYoFzGXoaktv28DHxflwJ5WsHDFjaHs5KIXjVKQSvOoXgVacQvOoYCY5SO0+MKJdtgJFgNbVjey88g25yEadntTESPJHaQezAogjDNK3EEE5Mellb8L2kePC2cmB98/8Qbu11F2TSPwJL3Fk/1H1Wv4eVpLjNxJ0uatKOAXuh+5yW4Oj8SEmKMzrsggUTJ/iSjEvVk8lFned0jAQTysSAndxPGDIgE3w0cV4k34WSXJyGlmBExWVCrpX/fQyQ83QeQYQ3Os+YZzwc/EkZB1hWtHpYN6u/SISACx07LcFyghAj0Y+WljWgL/PTR3sNrQDE2mtL573LJp3Znslr2Viz/pBqTx7VOt5rNMEC1jYPFAEFybV6WvGw/fhAWyBay3fb2y2FQzUSm7pOfvGv5JKS/u6ESyh4tE4qE4nDrmNhE8jTSIeBN75jd523mohHPjgFZ1O6alnGvI4D17SkdeW5L00epdjVq8ojdBIIVsNW6+9aev73MjjCB5j5Nk7+L8X8B+sZj0gACZm+TtJW0/DYMyvWe1gl7u0dculoI8KQUWP8ucnjBbaCgoKCgoIl5B9+YXkykKfGbQAAAABJRU5ErkJggg==",an="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMrSURBVHgB7ZjrkdowEMf3zPMjHZw7CB3EqeByH3lNcAXQAU4FyVUAGV4fc6kgpoKQDpwO7iMwPLILsqMQCduSPPHN+Ddzg+SzZP31WO0uQEFBwavmDjQZj8eNcrnslEol+3Q6Nc6d3t29HA6H9X6/X7uu+wIZoiSABl2r1fpYfMA/J+Z1H4V96XQ6E8iA1AJms9nQsqwRFhvpWkKAQj6aFpJYAM66jbM+BvGMr+AywIDVG7iNmvj7VvCuv91ucWe5ARggkQA2+O9YtLnHAf494WAmsn2+XC7t4/HooJjRdVts986EiFgBosHjTD/tdjsvzQGdz+ceExJiRIQV9wLbNjarknV5xH08TGtdsI2HP4/UB3sUbkktbgrAWesDt+dx8G6v13sGRdrtNrV1uUcOGQXQ4KYAfsnJgugMPoRE0Bbkv0FmGRSRCmCzb7NqwLaAEej8wMUIkIBGpVLpgyJSAdjxh7BMsw8GYecnWgW8Vx5AEaEAtqQO9wEfDEPml6s6qttIKAB9myZXXbVarQAMw1bBD+tokRxQQCgAHbNIAG6fNWTHr7CAF54NCggFhF4lIzNvknM9zocZFIi9yPKOUAD589ELlnUP2RHNOq6G0krLViDgOrYhI3Ci3oRlPHdKZ00oAE2cz1UdnZtSBjmJwJnqzWZjTsC1idO5KWVUq1WHq65UQ89bh/hb9JJlDUyvwpWfNQFFpALYTcm7viMwBPpZfIAT6ISZUgG0pHi58D7QcDqdvgdNqA+cfS+s6/pZsRHZYrGgaMxhHyNRyjEBDR6tDQUx4XZcoXvtgAaxFxnOFgUgASs3cABf2RZIDJ0fnIhP1Bb+zmb8AE0SBfUUnOPs/xPU0/Kjb+/L4loufzS4ahuBfXh4BpS3UeK0ChMhS6tQ8uon/Dn097hatuTdFTmI+P9B+EBHROrEFkVqgjRJEs5Godvtfmb9eFemVEmEcm6UCemDOHnFQ0mvZ1H+yIQII8nder3exI83+eQuXPI+ftwNqytCW4AJdETkQgChKiI3AggVEbkSQKQVkTsBhECEK3P4chkTUxbQdDLtv0B3DUtxFhQUFOSU34IkpBx2UQqyAAAAAElFTkSuQmCC",fa=[{title:"Baş sahypa",link:"/",icon:e.jsx(Ws,{})},{title:"Dolandyryş",link:"/dashboard",icon:e.jsx(Pn,{})},{title:"Gelen",link:"/document/inbox",icon:e.jsx(bs,{badgeContent:1,color:"primary",children:e.jsx(Bn,{})})},{title:"Giden",link:"/document/out",icon:e.jsx(bs,{badgeContent:1,color:"primary",children:e.jsx(Nn,{})})},{title:" Arhiw",link:"/document/archive",icon:e.jsx(bs,{badgeContent:1,color:"primary",children:e.jsx(On,{})})},{title:"Täze Resminama",link:"/document/new",icon:e.jsx(Ln,{})},{title:"Söhbetdeşlik",link:"/chat",icon:e.jsx(Ws,{})},{title:"Profil",link:"/account",icon:e.jsx(Hs,{})},{title:"Buýruklar",link:"/orders",icon:e.jsx(Hn,{})},{title:"Işgärler",link:"/employees",icon:e.jsx(Qs,{})},{title:"Bildiriş",link:"/notifications",icon:e.jsx(Qn,{})}];function ma(){const[o,t]=a.useState(!1),s=JSON.parse(localStorage.getItem("CRM_USER")),[h,l]=a.useState(!1);B(D=>D.imgAccount.data.img);const u=()=>{l(!h)},y=Js(),F=Vs(y.breakpoints.down("sm"));return e.jsxs(K,{height:"75px",width:"100%",backgroundColor:"#F8F9FA",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid lightgray"},children:[e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,sx:{width:{lg:"430px",md:"100%",sm:"100%",xs:"100%"},p:{lg:"0 0 0 30px",xs:"0 5px 0 5px"}},InputProps:{startAdornment:e.jsx("img",{src:an,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",pr:{lg:"30px",md:"30px",sm:"30px",xs:"10px"},children:[e.jsxs(n,{direction:"row",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},alignItems:"center",children:[e.jsx(H,{onClick:()=>t(!o),sx:{color:"#5C9FE3",transition:"all ease-in-out 0.2s","&:hover":{backgroundColor:"#fff"}},children:e.jsx("img",{src:ga,style:{width:"30px",height:"30px"},alt:""})}),e.jsx(Jn,{sx:{backgroundColor:"transparent",color:"#fff",zIndex:D=>D.zIndex.drawer+1},open:o,onClick:()=>t(!1),children:e.jsx(n,{position:"absolute",minWidth:200,minHeight:100,backgroundColor:"#9FC2A6",top:65,right:150,border:"1px solid #9FC2A6",borderRadius:"10px",alignItems:"center",justifyContent:"center",children:"Sazlamalar ýerinde"})})]}),e.jsxs(ze,{to:"/account",style:{display:"flex",alignItems:"center",gap:"5px",textDecoration:"none"},children:[e.jsx(H,{sx:{height:60,width:60},children:s.img===null?e.jsx(us,{alt:s.name,src:s.name,sx:{background:"#2F6FD0",height:50,width:50}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${s.img}`,alt:""})}),e.jsxs(n,{direction:"column",alignItems:"center",children:[e.jsxs(d,{color:"#474747",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:16,fontWeight:500,children:[s.name," ",s.surname]}),e.jsx(d,{color:"#A6A6A6",fontFamily:"Montserrat",sx:{display:{lg:"flex",md:"flex",sm:"flex",xs:"none"}},fontSize:13,fontWeight:400,lineHeight:"15px",children:s.position!=null&&s.position.name})]})]}),e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"center",sx:{...F?{display:"flex"}:{display:"none"}},children:e.jsx(H,{onClick:u,sx:{width:24,height:24,p:0},children:e.jsx(Vn,{sx:{color:"#fff"}})})}),e.jsx(Gn,{anchor:"right",open:h,onClose:u,sx:{"& .MuiDrawer-paper":{width:"60%",backgroundColor:"transparent",backdropFilter:"blur(5px)"}},children:e.jsx(K,{className:"mobile-menu",sx:{bg:"#000",height:"100%",padding:"16px 0"},children:e.jsxs(n,{spacing:2,direction:"column",height:"35px",alignItems:"center",children:[e.jsx(G,{onClick:u,children:e.jsx("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false","data-icon":"close",width:"2em",height:"2em",fill:"#fff","aria-hidden":"true",children:e.jsx("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})}),e.jsxs(n,{direction:"column",alignItems:"center",spacing:2,children:[e.jsxs(n,{children:[e.jsx(n,{sx:{...o?"":{flexDirection:"column"}},height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"0px 30px",children:e.jsx(ze,{style:{textDecoration:"none"},to:"/",children:e.jsx(d,{color:"#F3F3F4",fontWeight:"700",sx:{...o?{fontSize:"30px"}:{fontSize:"18px"}},textAlign:"center",fontFamily:"Montserrat",children:"Älem Doc"})})}),e.jsx($s,{menuItemStyles:{button:{"&:hover":{backgroundColor:"#1976d2"}}},children:fa.map(D=>e.jsx(Ue,{component:e.jsx(We,{className:"sideNavMobile",to:D.link}),icon:D.icon,children:D.title},D))})]}),e.jsxs(n,{children:[e.jsxs(G,{sx:{color:"#fff",display:"flex",flexDirection:"column",gap:"1px",fontSize:"12px",fontFamily:"Montserrat"},children:[e.jsx(Xn,{sx:{width:30,height:30}}),"Kömek"]}),e.jsxs(G,{sx:{color:"#fff",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontSize:"11px"},children:[e.jsx(qn,{sx:{width:30,height:30}}),"Çykmak"]})]})]})]})})})]})]})}const ja="/assets/alemtilsimat-CxmWQcmV.png";function ba(o,t){const[s,h]=a.useState(!1),[l,u]=a.useState(null),y=JSON.parse(localStorage.getItem("CRM_USER")),F=we(),D=se(),A=()=>{D(Fo()),localStorage.removeItem("CRM_USER"),setTimeout(()=>F("/login"),500),g.success("Üstünlikli çykyş!")};wo();const m=Js(),S=Vs(m.breakpoints.down("sm"));return e.jsx(e.Fragment,{children:e.jsxs(bo,{rootStyles:{[`.${yo.container}`]:{backgroundColor:"#F8F9FA",color:"#606C8F",maxHeight:"100%",display:"flex",width:"100%",flexDirection:"column",justifyContent:"space-between",padding:"10px !important",borderRight:"1px solid lightgray"}},className:"sidebar",style:{minHeight:"100vh",minWidth:"250px",width:{...S?"150px":"250px"},...S?{display:"none"}:{display:"flex"},border:"none"},children:[e.jsxs(n,{height:"100%",children:[e.jsx(n,{height:"54px",direction:"row",alignItems:"center",justifyContent:"center",m:"20px 30px",children:e.jsx(ze,{style:{textDecoration:"none"},to:"/",children:e.jsx(n,{left:"30px",top:"30px",direction:"row",alignItems:"center",children:e.jsx("img",{src:ja,style:{width:"auto",height:"75px"},alt:""})})})}),e.jsx(n,{height:"100%",justifyContent:"center",children:e.jsxs($s,{menuItemStyles:{button:{"&:hover":{borderRadius:"7px",backgroundColor:"#E9ECEF",color:"#606C8F !important"}}},children:[e.jsx(Ue,{onClick:()=>{u(null),h(!1)},component:e.jsx(We,{className:"sideNav",to:"/account"}),icon:e.jsx(Hs,{}),children:"Profil"}),e.jsx(Ue,{onClick:()=>{u(null),h(!1)},component:e.jsx(We,{className:"sideNav",to:"/document"}),icon:e.jsx(Zn,{}),children:"Resminama"}),e.jsx(Ue,{onClick:()=>{u(null),h(!1)},component:e.jsx(We,{className:"sideNav",to:y.role==="USER"||y.role==="MODERATOR"?"/":"/calendar"}),icon:e.jsx(Kn,{}),children:y.role==="USER"||y.role==="MODERATOR"?"Bellikler":"Kalendar"}),e.jsx(Ue,{onClick:()=>{u(null),h(!1)},component:e.jsx(We,{className:"sideNav",to:"/projects"}),icon:e.jsx($n,{}),children:"Proýektler"}),e.jsx(Ue,{style:{...y.role!=="USER"?{display:"none"}:{display:"flex"}},icon:e.jsx(ys,{}),component:e.jsx(We,{className:"sideNav",to:"/standarts/specific"}),children:"Tertip - düzgünnama"}),e.jsx(Ue,{onClick:()=>{u(null),h(!1)},component:e.jsx(We,{className:"sideNav",to:"/employees"}),icon:e.jsx(Qs,{}),style:{...y.role==="USER"?{display:"none"}:{display:"flex"}},children:"Işgärler"}),e.jsx(Ue,{onClick:()=>{u(null),h(!1)},component:e.jsx(We,{className:"sideNav",to:"/chat"}),icon:e.jsx(_n,{}),children:"Söhbetdeşlik"}),e.jsx(Ue,{style:{...y.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(We,{className:"sideNav",to:"/standarts/specific"}),icon:e.jsx(ys,{}),children:"Aýratyn (Tertip-düzgünnama)"}),e.jsx(Ue,{style:{...y.role=="USER"?{display:"none"}:{display:"flex"}},component:e.jsx(We,{className:"sideNav",to:"/standarts/all"}),icon:e.jsx(ys,{}),children:"Ähli işgärler (Tertip-düzgünnama)"}),e.jsx(Ue,{onClick:()=>{u(null),h(!1)},icon:e.jsx(eo,{}),component:e.jsx(We,{className:"sideNav",to:"/settings"}),style:{...y.role==="USER"?{display:"none"}:{display:"flex"}},children:"Sazlamalar"})]})})]}),e.jsxs(n,{direction:"row",alignItems:"center",p:"0 0 50px 18px",children:[e.jsx(to,{sx:{color:"#606C8F"}}),e.jsx(G,{onClick:A,sx:{color:"#606C8F",display:"flex",flexDirection:"column",fontFamily:"Montserrat",fontWeight:500,fontSize:"20px",textTransform:"revert"},children:"Ulgamdan çyk"})]})]})})}function ya(){return e.jsx(K,{children:e.jsxs(n,{direction:"row",maxHeight:"100vh",children:[e.jsx(Be,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsx(ba,{}),e.jsxs(n,{direction:"column",width:"100%",children:[e.jsx(ma,{}),e.jsx(Co,{})]})]})})}const rn=({handleChange:o,selectedLanguages:t})=>e.jsx(so,{children:e.jsx(n,{direction:"row",children:["TKM","RUS","ENG"].map(s=>e.jsx(hs,{control:e.jsx(no,{checked:t.includes(s),onChange:o,name:s}),label:s},s))})}),wa=({img:o,setFile:t})=>{const s=JSON.parse(localStorage.getItem("CRM_USER")),[h,l]=a.useState(!1),[u,y]=a.useState(s.mail),[F,D]=a.useState(s.phoneNumber),[A,m]=a.useState(s.surname),[S,b]=a.useState(s.name);a.useState("");const[I,x]=a.useState(s.position?s.position.id:"ADMIN"),[w,c]=a.useState(s.languages?s.languages.split(","):[]),[r,i]=a.useState(s.whereStudy),[k,R]=a.useState(s.whereLive),[p,Y]=a.useState(U(s.birthday)),[T,O]=a.useState([]),_=j=>{x(j.target.value)},z=()=>{const j=new FormData;j.append("file",o),j.append("userId",s.id),o!==null&&$(yt(j)),t(null)},$=se();we(),a.useEffect(()=>{(async()=>{await E.get("/position/get").then(v=>{O(v.data)})})()},[]),B(j=>j.imgAccount.updated);const Q=async j=>{j.preventDefault();try{if(u.trim().length<=0||S.trim().length<=0||u.trim().length<=0||F.trim().length<=0||r.length<10)g.error("Dogry maglumatyňyzy giriziň!");else{l(!0);const v=await E.put("/user/updata/info",{userId:s.id,surname:ee(A),name:ee(S),mail:u,phoneNumber:F,birthday:p.add(1,"day"),whereStudy:r,whereLive:k,languages:w.join(","),positionId:I}).then(C=>{C.data&&(localStorage.setItem("CRM_USER",JSON.stringify(C.data)),g.success("Maglumat üýtgedildi!"),z(),l(!1))})}}catch(v){g.error(v.message==="Network Error"?"Internet baglanyşygy ýok":v.response.data),l(!1)}},W=j=>{const{name:v,checked:C}=j.target;console.log(j.target),c(J=>C?[...J,v]:J.filter(ne=>ne!==v))};return e.jsx(n,{direction:"column",width:"80%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:Q,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(L,{id:"outlined-basic",type:"text",value:S,name:"password",onChange:j=>b(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:A,onChange:j=>m(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(le,{fullWidth:!0,children:e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:I,onChange:_,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:T.map(j=>e.jsx(V,{value:j.id,children:j.name},j.id))})})]})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(ie,{value:p,format:"DD.MM.YYYY",onChange:j=>Y(j),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:u,onChange:j=>y(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri"}),e.jsx(L,{id:"outlined-basic",type:"text",value:r,error:r.length<10,name:"password",onChange:j=>i(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:k,onChange:j=>R(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:F,onChange:j=>D(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(rn,{handleChange:W,selectedLanguages:w})]})]})]}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(G,{onClick:Q,disabled:s.name===u&&s.surname===lastName,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:h?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})};function Ca(){const o=JSON.parse(localStorage.getItem("CRM_USER"));a.useState(o.mail),a.useState(o.surname),a.useState(o.phoneNumber==null?"+993 66778899":o.phoneNumber),a.useState(o.name),a.useState(o.position==null?"ADMIN":o.position.name),a.useState(o.whereLive),a.useState(!1),a.useState(!1),a.useState(""),a.useState(""),a.useState("");const[t,s]=a.useState(null);a.useState(""),a.useState(!1),B(l=>l.imgAccount.data),B(l=>l.imgAccount.status),B(l=>l.imgAccount.error),se();const h=l=>{const u=l.target.files[0];u&&s(u)};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(Be,{}),e.jsxs(n,{children:[e.jsx(d,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Profil"}),e.jsxs(n,{backgroundColor:"#fff",direction:"column",minHeight:"80vh",borderRadius:"10px",m:"0px 20px 10px 20px",boxShadow:" 0px 0px 5px -2px rgba(0,0,0,0.75)",children:[e.jsxs(n,{alignItems:"center",direction:"column",pt:1,children:[e.jsxs(H,{sx:{"&:hover .file-input-label2":{display:"flex",flexDirection:"column"}},children:[e.jsxs(n,{position:"relative",display:"inline-block",children:[e.jsx("input",{type:"file",onChange:h,id:"file",accept:".img,.jpg,.png",className:"file-input2"}),e.jsx("label",{htmlFor:"file",className:"file-input-label2"})]}),e.jsx(n,{width:70,height:70,borderRadius:"100px",alignItems:"center",justifyContent:"center",bgcolor:"#ECECEE",children:o.img?e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${o.img}`,alt:""}):e.jsx(oo,{sx:{width:23,height:23}})})]}),t!==null?t.name:"",e.jsx(d,{fontSize:30,mb:2,fontWeight:600,children:o.firstName})]}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},justifyContent:"center",children:e.jsx(wa,{img:t,setFile:()=>s(null)})})]})]})]})}const Aa="/assets/done-DJMmEArB.png",Sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7GSURBVHgB7VwJkBxV3f+9mZ773tls9kjIJiEX8kn4AhbxU7KEw8SvjEgJKh4RLAVEI5YGQUtYwAJBREWFBEpB8QCPilFUUlpFoYXcQTA3Jtkcm0022dnZuXdmutv370nvdM/0zPTszmY21v6q3m73O7p7f/2/3v+9XmAa05jGaQyG0wTyRncHZGc3ZCYiPPQauwoipgCmPIHyw8FuwPIomHyJpnqAt9zLro9+D03GlCZQfigwDxbrC/yorUKPr3MSv4EmwoKpDGb5QWXylA53yY+0vBNNxJQlUP5+YC7Xj9XqeTydx5FIWik6SPKH0URMXQm0sjO0p/F0DgORjFJKsAhNxNQlkJm0z7LsQBMh4DRBZ4tLKVMNU9uJnAZoehgjy/wZNgbX8DhvESTm1jR1g7G1Ji7Rxy/yE+0l+Xk/5OwWdmP6ECYZDSfwV1deac2fKS1gQn4GnzVYq/U9N7A3sMh3qJc/xlI0HilO5H1P9vc8V7OnKItWR2b7Vb1bIqgTDSXw17ddvloUcTdjqEmIx5pBz4w34BEymExsi3VjR2yOma48PpJ/Nn/24RvPu+61HEyiYTbwqa99YC0nb7MZ8ghL/AcnnTzlPr6DcFqzZrpyD8U+vffQ7L/09vaa5qUhBG6+d42PMfkOTp7N7Jh2Z93aMi5YmYR2R133WrE4t/Ums50bQmA6Zl0jA6b0RIXLOopTBbdQ570Yu9Zs1wbFgdJ8I3PqDnfB5vAYjmCobdsbBaevBQHvQsO2dPQosqmYro7H8KZnNw0hUGbMUkrfjAXnY/Fln6o8aPOjOFWYuXg5PIs/Z9iWGTmOV3729dJq07xM2kzEFZxZvQPPVJ0yOEOVmwIzMBFMz0QmiGkCJ4imJROywf/BqYLonInJQtMIHFr6Tfw3YFqFJ4hpAieIaQIniNMmI30q4W2djSNHjj4gM8xnMhJczp7o7Gx7xqjvNIElmL1sNboveD8dflGZXSk/pKv7B46+mM2kV8+dOzeq7T+lVVhOpJD75Z9wqnDmiqtV8srAebzA4XRtkksWsZougSwZg++PP4Z18BCYmEd2zhKkL/wA8nYfUh9ZD/HVbRD3H4bzq5/BZGLe0nei4+wLa3XrGRgY6OG/t6gVTSXQ9fzTCPziPjCpuE/IsetVeLY8if27zoC464BSJ725W1k8yedFJBJJpc7r80AQBORz+bE6FYJg5e1emMXS9igW5p7C0MAsZDtWVu3LEyeXYioQaOvbgcCT9+vII0h54PA/JOQjBfKENRfB9cDNlKNDnktodHhEqXc6nQUCNXUqqM0cgTICex5CRziunLXs+jYiYg7ZWe+pPERCl/a0aTbQ98fHwPL6pYc8z/AffsGKdKSQHHO8vQvuDbeDedxoNHgCGI8O70P/iVfG6vg7QmjvBgj9z1Ycx6zsTe150yTQzlVVC5K8Iy8XyfN2SDyPF8FxVsw0kmR1z9Pt+DCsqwUi75ZoH55IRfB450fx7OHHMSdfcK4WOYvWPfcjxrK5VOd7Spco0nZB2KStaJIE8sVgUS99x96wFMnrlNCxTIJVTKHRIPLuHDmIJ5LHlfP9tiB6Zn0Se4TwWB96Z/69G5jz+PNx/Vj5+62trbu0dU0ikEEsSWS2LpEh8ADB0yaj63wJFq4bYnu3rg85DLJ3lUo+n695ZyJvY+KYrq5PIXEtDqFoN5mYFULb7/a6B5/LFJ5Yvq2ro+Mrpddrmg1MrrxKd25zy5jTI6LzHeLY8kpi5Yd0fVSHUZHAXOVdv6ralpKn4hgX9hXuy3GA+bTVLLDjXrun/8+3tbe3G27kbBqB6Xe9D9kzz9HVCS5ZkTxCduG5yCx/LxqF++P9+OlJtS0DD4OkVAb7LX4sd12B3SxQbJPZdwPnXXMX4+u2RkOb5kQklxeRdd+Fb/MGuF/aApYoGHHJ40dqxRVIrFpLMZduzHgcBoEkrxJ5jlgSo8liHDlg8WCV6314Nr0Z3XKsl1299Y5q125qIC3b7Ih9cB0Sq9dCOHqAnzsghjsUEhsFsnnVJE9Lnoo+LokXui7/9sE1N92Jj6AqpkQyQfIEkJ3/djQadxg4DBXWeBJiImnYtmrbVjxz6w+/bGbjUEMIbLNFwUqsqceaRjNRTW2rkXfpjn9i5c438AzMoSEErpz5RtnialJYghiag2/VcBiVyOvZvQ2XbX8d9aAxKixjaenODuvoCTQD9TgMLUhtL+aSVy9MhzHyY8FgxUaGs0urhOF/IcXzeVR4Dk1/09HJ2Zl1Z6x+h0EgyVs5DvIIpgiUN4buRQYH5IeDHy9reyhA+yb8kiQhnU4rhY6FzDFImWFldqAl0N33S7T9dRU8/34MjQQ5jA3xyg4DcWPyvhDuxv+/+YpOgQIB88mLmiosP9zSyxm4GYWY7Kfyw6GzYHHeBTGzjNO/nqvvu6lBFEVkMoUNkzabDRaLBfNfvBzJ0DKkltwI2T8f/m3fhPvAr5U+/u08DygmkVj0OUwUt0QPcMkbNGyr5jBubDkD14dm42lNHZHXMALlDaFb+c/bdZUMt0DOfIyTN+vkeUVYxAR8J56D7+9/g+QIlamub9cPebBsQ3LhdRgvvhXrr0heNYdxbWgWPt+i39Lo87nqIo9QUYXlB73cs7LPa+tIynI5JYsyq7Q/SV0oFFIKJTpLrqaQl81myyb8nrceQz45hPGAJO878SOGbY4aantzeK6ujogLhYz3MlZDRQLZusRxrra3qudEXDweR5IbYjNZj1IQealUShlPL0LFsUW3IpWzYTRT3y7S1159HQd3vmXcSA6jguR9ikseqa0W45E8FVWdCLtuiL6/eERbRw5BS4BZ0Dgq5GBkqeBUIrPXIt56kXJMBBLJZjAyEsPOHXuwes8J/N9AQtdWy2GsD8/VWR2HwzEuyVNR2wuLwpc4lYOkom63Gx6PR7lpGez8sXxcdf28OMovS2NcLhd8Xh8Em4CcswMn5lyj62O1Vv2sZAwkxapnX7P9GC7pGy6MN+EwdI/stMPhmtindrUDaSG7ELJF+WbXbreXt3v5JeY4+WJCSfY7wm3lfj6dSxellbIpxcsOwZnYjXSg8FWE0+U0TeCJ43pndOm/I0jLEp53GmuGkcMg8rTPM17UlkDJcnvFtg7+9s7xlpNHaOF1/8uzKu3Gb5hJWQSP/FY5Jum2O+wwi8HB8mB5zd4oVkTKbbORw3A4HQ0hj1CVQGX2wbDCsNHLpWWeC2BV4hhqoj4eY8nyRF6AJZ+CVTAneYRodATHB42nie8dSOtINHIYito6G/eFrE6Fla/EbZYv80PKLS3GKForjqxFngrav9/N+25PlDVZ83EseP4iSIIbef8i5AJnIXnmNRDdXYaXIuex6Td/UBbSfX6vocoTiXmrG+fNm48bSsgjO9xI8gh6GygwMhSfVU/JY1JRmrSxHTkJn+mPkgqOhZxMtjilU0MhmrGQFNojrysl03mZIYEkeURePF54EfEYD9J9Hi69+j+Bp96x3tOJRZMseSqqOpHR0dGx6RkFyGMgAuv5TNHKOzu4tGSL6kUxJYFsEXlnFUQsvTQigp2UcAqbNv326THyCOSF49zrhsMhdHS28zjOz6MEF9raZpQF8o1yGEYYXzpLRv0wSXiWx4MpLl1kFz3eQnwWiQxziYuX9aWwqueid8PrrRzHkdRNhuSpqEog2YzyaRnHqIS6QIHzqD7E8HoLa7BmQhePu3yWQPHoqtUXG5JHkksvgK6dzfIMUSZd0V7brRNbmCxlp49L1w/47wX8hvO4fVpANqoMWU5glMd5QZN2cJir7qhebCl0UZF3zEDG+zbk7SElwC6F2+PG8uXn4+WXtyrqHAoFcPElK8ZeAoGe0+kuxJKq6keHT6DKUjH/40W4fJX9pBnoCGQ38HQuMJZAkL/Dwxgn28/VrzyZuo+/1XOF2p6YeOsz3qIhWj3Yd8HTiheuhfMvWIazzl6MkWhMsXXaF0vHbq8bpS87m5fHyCyFTbAg4A/xtRzzIZQRqs+Fvxjli7XyXwwbU/zVvpWubg9JdXdxw582VvnEjB5T5Kkgm9jaFjZFnvL8FcgTmIRgsGXC5CnXqtnDwh7kJF1p2DbIMygJrp5zuRcNaqSRiBvh9ftSFckjrzLcWdy6YeG2iNSaVJCOK/3xynRSLuyToX7kIBgzHxLYrJS6CqNRqE1gzP46fFlK2IUpW0Lhgy6ZQJJIQTKFNlSIr6yoi/lUUFhEBJFjyrrnIOcuxmpEhNYuVgNN++qZ+qkoqG2gIZKnorYL8mVpLhymP57yeVQM007kmWP5gkQakEfxJI2l+I9iPXuqD217C/+9jtTP0Ns3EOQwGk0eofpcuLCItJ6O1XCD1MXQM9e60ckx2gA5MPA7Xn4Pm91WlxrWC5K8YEtrw8kjVE7pK4kE9iP1nCSEYi8KHcYjLWS7aKzP59PFfjP2fQ8sPXlryI10GEaonNK/hntgmd2trSMbdZI82qWp01NK+Q8PDyulNOUvMzvyttCYk9Aicsa1yDAfz0g3/l+gkMMIhqo7jNTwUUwEVUWJ3RDplTeEuauVikQybETUuh7B3AJI7CbupdfQZnej8aN5C96K+LE71oWEvRtLrC/hHV1FaXvxWDd2Hu7nR/cpDrwl7OMOqo4kRQ3INKeuZm54EjY5VL4oJRdcoSnU1EV2/dA98iP8LYrSOi6vX2LXDf/iZNNWXj4hP9jih10eIclSJ+yqvXvktYV8BqdKXB+OYyZOpBxYOfcoXukP46V+moYVtxyLMY+ywNNsWCDvNN/XBNhnhu7hSnqOhrxi27oI7SEaItIoq0KFjofTdg15J2/Gc4NHcl34+c63cfL0+5GCwalBHkGULA+Y7WvanbIbEoOVG1H2xqKZYpxmtwtobfVh1qww/H6+sMRTY9plRDqm+qkAvnb49932cx43279Ru7O28Z/v0lZpCXS7HUrRgkhzufh6MM/S+HyTk6urEzRZeGimELr7w729jbOBpmCV7kOePaWtSoq2MfkWeJxn9ERUX6ntVILne+NCnvVdcc+m8W2RmMY0pnG64j8HvGUSvSq87QAAAABJRU5ErkJggg==",Da="/assets/newAdded-CcMvoMMP.png",ka="/assets/newProject-CpnAEvfz.png",Ia=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:h,setSelectedUsers:l,allUsers:u})=>{a.useState([]);const[y,F]=a.useState([]),[D,A]=a.useState("Orta"),[m,S]=a.useState("Başlanmadyk"),[b,I]=a.useState("");a.useState("");const[x,w]=a.useState(null),[c,r]=a.useState(null),[i,k]=a.useState(t),R=T=>{A(T.target.value)},p=T=>{S(T.target.value)};a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(O=>{F(O.data.data)})})()},[]);const Y=()=>{const T={userId:t.length&&t[t.length-1].id,name:b,status:m,priority:D,startDate:U(x).format("YYYY-MM-DD"),endDate:U(c).format("YYYY-MM-DD")};b!==""&&m!=""&&D!==""&&x!==null&&c!==null?(s(t),I(""),h(O=>[...O,T])):g.error("Dogry maglumatyňyzy giriziň!")};return a.useEffect(()=>{t.length&&k(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Be,{}),e.jsx(oe,{open:t!==void 0>0&&o,onClose:()=>{A(""),S(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{A(""),S(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:T=>{w(T||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:T=>{r(T||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:T=>I(T.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:D,onChange:R,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:p,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:Y,children:"Ýatda sakla"})})]})]})})]})},Fa=({open:o,handleClose:t})=>{const[s,h]=a.useState(!1),[l,u]=a.useState("Orta"),[y,F]=a.useState("Başlanmadyk"),[D,A]=a.useState([]),[m,S]=a.useState([]);a.useState("");const[b,I]=a.useState(""),[x,w]=a.useState([]),[c,r]=a.useState(x?x.endDate:""),[i,k]=a.useState(x?x.startDate:"");B(W=>W.users.status);const R=B(W=>W.users.data),p=se(),Y=W=>{u(W.target.value)},T=W=>{F(W.target.value)};a.useEffect(()=>{const W=x.reduce((j,v)=>{const C=new Date(v.startDate),J=new Date(v.endDate);return(!j.earliestStart||C<j.earliestStart)&&(j.earliestStart=C),(!j.latestEnd||J>j.latestEnd)&&(j.latestEnd=J),j},{earliestStart:null,latestEnd:null});k(W.earliestStart),r(W.latestEnd)},[x]);const O=W=>{W.length?(h(!0),S(W)):A(W)},_=W=>{W?(A(j=>j.filter(v=>v.id!==W)),S(j=>j.filter(v=>v.id!==W))):A(newValues),h(!1)};a.useEffect(()=>{p(Me())},[p]);const z=W=>{I(W.target.value)},$=(W,j)=>{j.length<D.length?(x.filter(v=>!j.some(C=>C.id===v.id)),A(j),w(x.filter(v=>j.some(C=>C.id!==v.id))),S(m.filter(v=>j.some(C=>C.id!==v.id)))):(j||j[0].id)&&(O(j),A(()=>j.map(v=>({id:v.id?v.id:v.userId,name:v.name,surname:v.surname}))))},Q=()=>{const W={name:b,status:y,priority:l,startDate:i,endDate:c,tasks:x};b!=""&&l!=""&&i!==""&&c!=""&&x.length!=0?(p(Vt(W)),t(),A([]),w([]),I("")):g.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:z,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,value:D,fullWidth:!0,isOptionEqualToValue:(W,j)=>W.id===j.id,options:R,getOptionLabel:W=>`${ee(W.name)} ${ee(W.surname==null?"":W.surname)}`,onChange:$,renderInput:W=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...W,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...W.InputProps,endAdornment:e.jsx(e.Fragment,{children:W.InputProps.endAdornment})}}),popupIcon:e.jsx(Je,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,value:U(i).isValid()?U(i):null,onChange:W=>{k(W?W?U(W).format("YYYY-MM-DD"):U(i):U(i))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,value:U(c).isValid()?U(c):null,onChange:W=>{r(W?W?U(W).format("YYYY-MM-DD"):U(c):U(c))},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:Y,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:T,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:Q,children:"Ýatda sakla"})})]})]})}),e.jsx(Ia,{user:m,setSelectedUsers:S,openUserModal:s,handleCloseUserModal:_,setWorkers:w,allUsers:R})]})};function ln(){const[o,t]=a.useState(!1),s=B(b=>b.project.data),h=se(),l=()=>t(!0),u=()=>t(!1);a.useEffect(()=>{h(st())},[h]);const y=s.filter(b=>b.status==="Tamamlanan"),F=s.filter(b=>b.status==="Dowam edýän"),D=new Date;D.setDate(D.getDate()-7);const A=s.filter(b=>new Date(b.createdat)>=D),m=s.filter(b=>new Date(b.createdat)>=D).reduce((b,I)=>b+I.completion,0),S=[{id:1,img:Aa,title:"Tamamlanan",value:y.length,percentage:null,width:3},{id:2,img:Sa,title:"Dowam edýän",value:F.length,percentage:`${Math.ceil(m)}%`,width:3},{id:3,img:Da,title:"Täze goşulan",value:A.length,percentage:null,width:3},{id:4,img:ka,title:"Täze proýekt",value:null,percentage:null,width:3}];return e.jsxs(_e,{container:!0,spacing:2,children:[S.map((b,I)=>e.jsx(_e,{item:!0,xs:12,sm:12,md:b.width,children:e.jsxs(nt,{sx:{height:"85px",borderRadius:"12px",display:"flex",justifyContent:"space-around",alignItems:"center",border:"0.5px solid lightgray"},children:[e.jsxs(n,{direction:"row",width:"70%",sx:{...b.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},justifyContent:"center",onClick:b.id==4?l:null,children:[e.jsx(n,{width:60,height:60,borderRadius:"100%",backgroundColor:"#F0F7FF",alignItems:"center",justifyContent:"center",children:e.jsx("img",{src:b.img,alt:"",style:{width:40,height:40}})}),e.jsxs(n,{children:[e.jsx(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,children:b.value}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,children:b.title})]})]}),e.jsxs(n,{mr:2,sx:{...b.percentage==null&&{display:"none"}},children:[e.jsx(ao,{sx:{color:"#00B69B"}}),e.jsx(d,{color:"#00B69B",children:b.percentage})]})]})},I)),e.jsx(Fa,{open:o,handleClose:u})]})}const Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANySURBVHgB7ZldThsxEMdnnDyiEk7QjfiQ+lRyA3qCqidglws0PUHCCYB3kmxvwA3KDchbpbaI7QmaPvSJYHcGxatJSdbexkYRyk9I8ZrZXc96xn9/AGzYsBIIgblJ09YrgI8GMQXEhOuMMWNEHN9rffomzwsISFAH7rLs+AHgnBreWmIyMeTEfp6fQyCCOXCbpl2j1JmPbcOYtD0afYYAKAjA1zRNKGR69pq+SkHOvGtovbM3HCL1yAeus/9/QDznUIMABHGggdi3YcMNVVp39i8vr9t5PuG6vcHgiuuEE60tpboQgDAOALy1ZeqJT7bhEq7TWmf2mpw5hgAEcYAafWjL/LWX2TUBxuIygQA8SWJKxh7Fbx/WENS6v5vnp7LuSQ+sa+OZRW176gDAKawpi9rm1IHbLLuxMU5J2DnI8zFE5HuaHqFSXx4bR+q9Oxh0quydSawBfpbGjUYCz4g25rfLxukAddFEPDCI+FRBcZ7YMjXuzmXvdIDCp7BlDDT0VSHfIXt/GcrDYCLKryEyON/LE5e904GH+RDaWWbH+vHj5MTw7yo2RvQAit5fhjsHtC5KY6WW9oAdo6t0xMeGQmi7tEdcvQeaYhZpniOJEdvlu6fTwmXvMxeSXyGByKDIs7bH6s3pAM8i5VAaah6/iLv5ZzvDh/GajdJwVgpK6/EvDvc1E5jxcoCGtlJQps1mApFA8XF8VJjxXQ+UgkKL8gQiIVWYRoxwIQQiHjFiCEkVNmL0q8IvhEQ80lCaQCSkCqOHBjBeDkg1pgX8NkTCROsBocY0IrUhElKFaU1Q+Nzj5YBUY4w4oZP5ZabTOEkMEZPY7qUyf0KG0D/7PK1YamzEx+ks2FtahPe+kBFaEEONaRqRiMsCPPF2QBnzy5ZjqPF0fgRyrsQs3g5ohxrbLY+qbZkqmzmB9FRhpulriA413h8O+/TTr3pGlQ0Nm4mZlU2MEOI9GluOocbymb4qzPiHkNalAwrxOMJI9L4sKXXteY+/A3QsdC3CiPf3exCIx0X+TAP4DIHPFnzv9c6BGZx8Z7MXdWmHIaGEvmDnoCbcg1sAhxQuPVoHH9n6unuztc/IvmVZziEEEaBFzMXBaNStc0/tAw56QRpjB/t/Gs/U7gELKycd1vV55xrFEVMdWLBoDXBFp5Z5O/Ku94YNL5W/nhNKkLkE8qkAAAAASUVORK5CYII=",dn=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:h,setSelectedUsers:l})=>{const[u,y]=a.useState(t.user&&t.user.id||""),[F,D]=a.useState([]),[A,m]=a.useState(t.task?t.task.priority:"Pes"),[S,b]=a.useState(t.task?t.task.status:"Başlanmadyk"),[I,x]=a.useState("");a.useState("");const[w,c]=a.useState(t.task&&t.task.startDate||""),[r,i]=a.useState(t.task&&t.task.endDate||""),k=B(C=>C.users.data),[R,p]=a.useState([t&&t.user]),[Y,T]=a.useState(0),{id:O}=at(),_=JSON.parse(localStorage.getItem("CRM_USER")),z=se(),$=C=>{y(C.target.value)},Q=C=>{m(C.target.value)},W=C=>{b(C.target.value)},j=(C,J)=>{T(J)};a.useEffect(()=>{t&&(x(t.task&&t.task.name||""),m(t.task?t.task.priority:"Pes"),b(t.task?t.task.status:"Başlanmadyk"),c(t.task&&t.task.startDate||""),p(t&&t.user||[]),i(t.task&&t.task.endDate||""),T(t.task&&t.task.completionTask||0),y(t.user&&t.user.id||""))},[t]),a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(J=>{D(J.data.data)})})()},[]);const v=()=>{const C={taskId:t.task&&t.task.id,completionTask:Y,userId:u||t.user&&t.user.id,name:I,status:S,priority:A,startDate:U(w).format("YYYY-MM-DD"),endDate:U(r).format("YYYY-MM-DD")};I!==""&&S!=""&&A!==""&&w!==null&&r!==null?(z(Kt({body:C,projectID:O})),s()):g.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:t!==void 0>0&&o,onClose:()=>{m(""),b(""),s()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,..._.role=="USER"?{height:430}:{height:500},bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t.user&&t.user.name," ",t.user&&t.user.surname]}),e.jsx(H,{onClick:()=>{m(""),b(""),s()},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(t.task&&t.task.startDate).isValid()?U(t.task&&t.task.startDate):null,onChange:C=>{c(C||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(t.task&&t.task.endDate).isValid()?U(t.task&&t.task.endDate):null,onChange:C=>{i(C||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt...",autoComplete:"off",value:I,fullWidth:!0,onChange:C=>x(C.target.value),sx:{borderRadius:"8px",height:56}}),_.role==="USER"?"":e.jsxs(le,{children:[e.jsx(ce,{id:"age-label",children:"Işgärler"}),e.jsx(de,{labelId:"age-label",value:u,label:"Işgärler",onChange:$,children:k.map(C=>e.jsxs(V,{value:C.id,children:[C.name," ",C.surname]},C.id))})]}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,onChange:Q,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,onChange:W,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsxs(n,{direction:"row",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",width:"40%",children:"Işiň näçe % edildi"}),e.jsx(ro,{color:Y==0?"error":"success",value:Y,onChange:j,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,marks:!0,max:100})]}),e.jsx(n,{alignItems:"end",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:v,children:"Ýatda sakla"})})]})]})})})},va=({open:o,handleClose:t,details:s})=>{a.useState(!1);const[h,l]=a.useState(s?s.priority:"Pes"),[u,y]=a.useState(s?s.status:"Başlanmadyk"),F=JSON.parse(localStorage.getItem("CRM_USER")),[D,A]=a.useState((s==null?void 0:s.name)||""),[m,S]=a.useState(s?s.startdate&&N(s.enddate).format("YYYY-MM-DD"):null),[b,I]=a.useState(s?s.startdate&&N(s.startdate).format("YYYY-MM-DD"):null);B(p=>p.users.status);const x=B(p=>p.users.data);a.useEffect(()=>{s&&(A(s.name||""),l(s.priority||""),y(s.status||""),I(s.startdate||""),S(s.enddate||""))},[s]);const w=se();a.useState([]);const c=p=>{l(p.target.value)},r=p=>{y(p.target.value)};a.useEffect(()=>{w(Me())},[w]);const i=p=>{A(p.target.value)},k=(p,Y)=>{},R=()=>{const p={userId:F.id,projectId:s&&s.project_id,archived:!1,name:D,status:u,priority:h,startDate:U(b).format("YYYY-MM-DD"),endDate:U(m).format("YYYY-MM-DD")};D!=""&&h!=""&&b!==null&&m!=null?(w(Gt(p)),t()):g.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:D,fullWidth:!0,onChange:i,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,defaultValue:s&&s.users,fullWidth:!0,options:x,getOptionLabel:p=>`${ee(p.name)} ${ee(p.surname==null?"":p.surname)}`,disabled:!0,onChange:k,renderInput:p=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...p,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...p.InputProps,endAdornment:e.jsx(e.Fragment,{children:p.InputProps.endAdornment})}}),popupIcon:e.jsx(Je,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.startdate).isValid()?U(s&&s.startdate):null,onChange:p=>{I(p?p?U(p).format("YYYY-MM-DD"):U(s&&s.startdate):U(s&&s.startdate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.enddate).isValid()?U(s&&s.enddate):null,onChange:p=>{S(p&&p?U(p).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:c,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,onChange:r,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:R,children:"Ýatda sakla"})})]})]})})})};function cn({data:o,value:t}){return e.jsx(io,{title:t,TransitionComponent:Ie,TransitionProps:{timeout:600},sx:{fontSize:25},placement:"right",arrow:!0,children:o})}U.extend(Yn);U.extend(Tn);U.locale("tk");const Ma=()=>{const[o,t]=a.useState(null),[s,h]=a.useState(null),[l,u]=a.useState(""),[y,F]=a.useState(!1),[D,A]=a.useState(""),[m,S]=a.useState(),b=B(P=>P.project.status),I=B(P=>P.project.error),x=B(P=>P.project.data);a.useState(x);const w=B(P=>P.users.data),c=B(P=>P.users.status),[r,i]=a.useState(!1),k=()=>i(!0),R=()=>i(!1),[p,Y]=a.useState(!1),T=we(),O=se(),_=()=>F(!0),z=()=>F(!1);x.filter(P=>{const xe=U(P.startdate),ge=U(P.enddate);if(!xe.isValid()||!ge.isValid())return!1;const Ce=o?U(o,"YYYY-MM-DD"):null,Re=s?U(s,"YYYY-MM-DD"):null;return(!Ce||xe.isSameOrAfter(Ce))&&(!Re||ge.isSameOrBefore(Re))});const $=b==="succeeded"?x.filter(P=>{const xe=U(P.startdate),ge=U(P.enddate);if(!xe.isValid()||!ge.isValid())return!1;const Ce=o?U(o,"YYYY-MM-DD"):null,Re=s?U(s,"YYYY-MM-DD"):null,ve=(!Ce||xe.isSameOrAfter(Ce))&&(!Re||ge.isSameOrBefore(Re)),Te=P.name.toLowerCase().includes(l.toLowerCase()),Ve=P.id!==9;return ve&&Te&&Ve}):[],Q=P=>{A(P.target.value),z()},W=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{O(Me())},[O]),a.useEffect(()=>{D!==""&&O(it(D.id))},[O,D]),a.useEffect(()=>{O(st())},[O]);const j=()=>{h(null),t(null),u(""),A(""),O(st())},v={p:"0 10px",textAlign:"center",fontFamily:"DM Sans"},C={p:"0 10px",textAlign:"center",fontFamily:"DM Sans",width:"350px"},J={fontSize:"14px",textAlign:"center",fontFamily:"DM Sans",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},ne=P=>{if(P){const xe={projectId:P,responsibleUserId:W.id};O(Xt(xe))}},Fe=()=>{Y(!0)},Ye=()=>{Y(!1)},Z=Gs({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}}),ae={modal:{position:"absolute",top:"25%",left:"30%",transform:"translate(-50%, -50%)",width:700,height:400,bgcolor:"background.paper",border:"0.5px solid gray",boxShadow:24,p:"8px 25px",borderRadius:"10px"}};return e.jsx(K,{mt:1.5,width:"100%",backgroundColor:"#fff",children:e.jsxs(n,{width:"100%",height:"90%",borderRadius:"12px",p:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignContent:"center",justifyContent:"space-between",p:"10px 10px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"80%",alignContent:"center",justifyContent:"center",children:e.jsx(d,{fontFamily:"DM Sans",fontWeight:600,fontSize:18,children:"Proýektleriň mazmuny"})}),e.jsxs(n,{height:"100%",direction:"row",spacing:4,alignItems:"center",justifyContent:"center",children:[e.jsx(G,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray"},onClick:j,children:"Arassala"}),e.jsxs(G,{sx:{textTransform:"revert",color:"#474747",fontSize:16,fontFamily:"DM Sans",backgroundColor:"#F0F7FF",borderRadius:"20px",width:110,height:45,border:"1px solid lightgray",gap:"10px"},onClick:_,children:[e.jsx(lo,{}),"Filter"]}),e.jsx(oe,{disableAutoFocus:!0,open:y,onClose:z,closeAfterTransition:!0,children:e.jsx(Ie,{in:y,children:e.jsxs(K,{sx:ae.modal,children:[e.jsx(n,{alignItems:"end",fullWidth:!0,children:e.jsx(H,{onClick:z,children:e.jsx(he,{sx:{width:28,height:28,color:"#474747"}})})}),e.jsxs(n,{direction:"row",flexWrap:"wrap",children:[e.jsxs(n,{direction:"row",width:"100%",children:[e.jsx(L,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{width:"100%",color:"#000",borderRadius:"40px",mr:"20px",mt:2},onChange:P=>u(P.target.value),value:l,placeholder:"Proýektleriň ady boýunça gözle",InputProps:{sx:{backgroundColor:"#F0F7FF",height:"45px",color:"#000",fontWeight:"500",borderRadius:"40px",padding:"none","& ::placeholder":{color:"#000"}}}}),e.jsx(n,{width:"100%",mt:2,children:e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{id:"age-label",shrink:p||!!D,sx:{position:"absolute",top:p||D?0:"50%",left:14,transform:"translateY(-50%)",padding:0,paddingRight:1,margin:0,fontSize:"16px",transition:"all 0.2s ease-in-out",color:"#8b8f94",width:"100%",fontFamily:"DM Sans"},children:"Işgärler"}),e.jsx(de,{labelId:"age-label",value:D,label:"Işgärler   ",onChange:Q,onFocus:Fe,onBlur:Ye,sx:{borderRadius:"20px",backgroundColor:"#F0F7FF",width:"100%",height:45,padding:0,"& .MuiSelect-select":{padding:"10px 14px",display:"flex",alignItems:"center"}},children:c=="succeeded"&&w.map(P=>e.jsxs(V,{value:P,children:[P.name," ",P.surname]},P.id))})]})})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:vs,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",width:"100%",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(dan)"}),e.jsx(ie,{value:U(o,"YYYY-MM-DD").isValid()?U(o,"YYYY-MM-DD"):null,onChange:P=>{t(P?U(P).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",mb:"5px",children:"Sene aralygy(çenli)"}),e.jsx(As,{theme:Z,children:e.jsx(ie,{value:U(s,"YYYY-MM-DD").isValid()?U(s,"YYYY-MM-DD"):null,onChange:P=>{h(P?U(P).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F0F7FF",width:"100%",height:45,border:"1px solid #ccc"}}}}})})]})]})})})})]})]})})})]})]}),e.jsxs(n,{children:[b==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):b==="failed"?g.error(I):b==="succeeded"?e.jsx(n,{children:$.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(ot,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Jo.map(P=>e.jsx(X,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:P.title},P.id))})}),e.jsx(Qe,{sx:{cursor:"pointer"},children:$.map((P,xe)=>e.jsxs(jt,{children:[e.jsx(cn,{value:P.name,data:e.jsx(X,{sx:C,onClick:()=>T(`/projects/${P.project_id?P.project_id:P.id}`),children:e.jsx(d,{sx:J,children:P.name})})}),e.jsxs(X,{onClick:()=>T(`/projects/${P.project_id?P.project_id:P.id}`),sx:v,children:[P.users?P.users[0]?P.users[0].name:"":D.name+" "+D.surname,P.users&&P.users[1]?` , ${P.users[1].name}`:""," ",P.users&&P.users[2]?` , ${P.users[2].name}`:""]}),e.jsxs(X,{onClick:()=>T(`/projects/${P.project_id?P.project_id:P.id}`),sx:v,children:[N(P.startdate).format("DD.MM.YYYY")," -"," ",N(P.enddate).format("DD.MM.YYYY")]}),e.jsx(X,{onClick:()=>T(`/projects/${P.project_id?P.project_id:P.id}`),sx:v,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${P.completion}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.ceil(P.completion)}%`})]})}),e.jsx(X,{onClick:()=>T(`/projects/${P.project_id?P.project_id:P.id}`),sx:{...v},children:P.priority=="Pes"?e.jsx(d,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",border:"0.5px solid gray",children:"Pes"}):P.priority=="Orta"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Orta"}):e.jsx(d,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"0.5px solid #9A93FF",children:"Ýokary"})}),e.jsx(X,{onClick:()=>T(`/projects/${P.project_id?P.project_id:P.id}`),sx:v,children:P.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",border:"0.5px solid #E79124",children:"Dowam edýän"}):P.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"0.5px solid #29D697",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",borderRadius:"50px",border:"0.5px solid #FF6A54",color:"#FF6A54",children:P.status})}),e.jsx(X,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>{k(),S(P)},children:e.jsx(Ge,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>ne(P.project_id?P.project_id:P.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]})})]},xe))})]})})}):"",e.jsx(va,{open:r,handleClose:R,details:m})]})]})})},Ra=({setProjectName:o})=>{const[t,s]=a.useState(""),[h,l]=a.useState(!1),[u,y]=a.useState([]);at();const F=B(x=>x.projectDetail.status),D=B(x=>x.projectDetail.error),A=B(x=>x.projectDetail.data);a.useState([A]);const m=se(),S=JSON.parse(localStorage.getItem("CRM_USER")),b=we();a.useEffect(()=>{m(it(S.id))},[m]),F==="succeeded"&&o(A);const I={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500};return e.jsxs(n,{children:[F==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):F==="failed"?g.error(D):F==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:A.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(ot,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:nn.map(x=>e.jsx(X,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:x.title},x.id))})}),e.jsx(Qe,{children:A.map(x=>e.jsxs(jt,{sx:{cursor:"pointer"},children:[e.jsx(X,{onClick:()=>b(`/projects/${x.project_id?x.project_id:x.id}`),sx:{...I,width:"35%"},children:x.name}),e.jsxs(X,{onClick:()=>b(`/projects/${x.project_id?x.project_id:x.id}`),sx:{textAlign:"center"},children:[N(x.startDate).format("DD.MM.YYYY")," -"," ",N(x.endDate).format("DD.MM.YYYY")]}),e.jsx(X,{onClick:()=>b(`/projects/${x.project_id?x.project_id:x.id}`),sx:I,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(x.completion)}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${Math.floor(x.completion)}%`})]})}),e.jsx(X,{onClick:()=>b(`/projects/${x.project_id?x.project_id:x.id}`),sx:{textAlign:"center",width:"15%"},children:x.priority=="Pes"?e.jsx(d,{backgroundColor:"#d4f4fc",borderRadius:"50px",border:"1px solid blue",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):x.priority=="Orta"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",border:"1px solid #29D697",color:"#29D697",children:"Orta"}):e.jsx(d,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",border:"1px solid #9A93FF",children:"Ýokary"})}),e.jsx(X,{onClick:()=>b(`/projects/${x.project_id?x.project_id:x.id}`),sx:{textAlign:"center",width:"15%"},children:x.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",border:"1px solid #E79124",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):x.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",border:"1px solid #29D697 ",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",border:"1px solid #FF6A54 ",children:x.status})})]}))})]})})}):"",e.jsx(dn,{user:t,setSelectedUsers:s,openUserModal:h,handleCloseUserModal:()=>l(!1),setWorkers:y})]})},Ya=()=>{const[o,t]=a.useState("");B(h=>h.users.data),a.useState(!1),we();const s=h=>{t(h)};return e.jsx(K,{height:"90vh",p:"0 15px",width:"100%",backgroundColor:"#F8F9FA",overflow:"auto",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:2,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsx(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:e.jsx(n,{width:"100%",children:e.jsx(d,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektler"})})}),e.jsx(Ra,{setProjectName:s})]})})},Ta=()=>{const o=JSON.parse(localStorage.getItem("CRM_USER"));return e.jsx(K,{height:"100vh",p:"10px",width:"100%",backgroundColor:"#fff",overflow:"auto",children:o.role==="ADMIN"?e.jsxs(e.Fragment,{children:[e.jsx(ln,{}),e.jsx(Ma,{})]}):e.jsx(Ya,{})})},Ea=({selectedDay:o,setDateNote:t})=>e.jsx(fe,{dateAdapter:me,children:e.jsx(ie,{defaultValue:U(o,"DD/MM/YYYY").isValid()?U(o,"DD/MM/YYYY"):null,onChange:s=>{t(s?s.format("YYYY-MM-DD"):null)},format:"DD/MM/YYYY",slotProps:{textField:{InputProps:{sx:{backgroundColor:"#f6e9e2",borderRadius:"40px",color:"#ff730f !important",padding:"0 16px",height:45,width:190,"&:hover":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #FF9E58"},"& .MuiSvgIcon-root":{color:"#ff730f",opacity:.7},"& .MuiInputBase-input":{color:"#ff730f",fontFamily:"DM Sans"}}}}}})}),Wa=()=>{a.useState();const[o,t]=a.useState(""),[s,h]=a.useState("+993"),[l,u]=a.useState(""),[y,F]=a.useState(""),[D,A]=a.useState(""),[m,S]=a.useState("");a.useState("");const[b,I]=a.useState(!1),[x,w]=a.useState(""),[c,r]=a.useState("TKM"),[i,k]=a.useState(""),[R,p]=a.useState(""),[Y,T]=a.useState(U()),[O,_]=a.useState([]),z=j=>{w(j.target.value)},$=j=>{r(j.target.value)};se();const Q=we();a.useEffect(()=>{(async()=>{await E.get("/position/get").then(v=>{_(v.data)})})()},[]);const W=async j=>{j.preventDefault();try{if(o.trim().length<=0||m.trim().length<=0)g.error("Dogry maglumatyňyzy giriziň!");else{I(!0);const v=await E.post("/user/registration",{login:l,pass:m,surname:ee(y),name:ee(D),mail:o,phoneNumber:s,birthday:Y,whereStudy:i,whereLive:R,languages:c,role:"USER",positionId:x}).then(C=>C.data?(setTimeout(()=>Q("/login"),2e3),g.success("Üstünlikli registrasiýa!"),t(""),h("+993"),u(""),F(""),A(""),S(""),I(!1),k(""),w(""),r(""),p(""),T(U())):"")}}catch(v){g.error(v.message==="Network Error"?"Internet baglanyşygy ýok":v.response.data),I(!1)}};return e.jsxs(n,{width:"100%",height:600,justifyContent:"center",borderRadius:"20px",mt:-5,children:[e.jsx(d,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:W,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Ady",type:"text",value:D,name:"password",onChange:j=>A(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:y,onChange:j=>F(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:l,onChange:j=>u(j.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{id:"simple-select-label",children:"Wezipe"}),e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:x,onChange:z,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:O.map(j=>e.jsx(V,{value:j.id,children:j.name},j.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(Se,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ie,{label:"Doglan senesi",value:Y,format:"DD.MM.YYYY",onChange:j=>T(j),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(L,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:o,onChange:j=>t(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:i,name:"password",onChange:j=>k(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:R,onChange:j=>p(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:s,onChange:j=>h(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{id:"simple-select-label",children:"Dili"}),e.jsxs(de,{labelId:"simple-select-label",id:"simple-select",value:c,onChange:$,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(V,{value:"ENG",children:"ENG"}),e.jsx(V,{value:"RUS",children:"RUS"}),e.jsx(V,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:m,onChange:j=>S(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:j=>S(j.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsx(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:e.jsx(G,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:b?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Hasaba almak"})})]})]})},un=()=>{a.useState("");const[o,t]=a.useState(!1),s=()=>t(!0),h=()=>t(!1);a.useState(""),a.useState("+993"),a.useState(""),a.useState(""),a.useState(""),a.useState(""),a.useState(!1);const l=B(r=>r.getWorkTime.status),u=B(r=>r.getWorkTime.error),y=B(r=>r.getWorkTime.data),[F,D]=a.useState(""),[A,m]=a.useState(U()),S=se(),b=we();JSON.parse(localStorage.getItem("CRM_USER")),a.useEffect(()=>{S(Jt(U(A).format("YYYY-MM-DD")))},[A,S]);const I=l==="succeeded"?y.users&&y.users.filter(r=>r.id!==9&&r.name.toLowerCase().includes(F.toLowerCase())):[],x={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},w={p:1,textAlign:"center",fontFamily:"DM Sans"},c=()=>e.jsx(d,{color:"tomato",fontSize:14,children:"-"});return N().set({year:2024,month:8,date:28,hour:9,minute:0,second:0,millisecond:0}).toISOString(),e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 30px 8px 0",children:[e.jsx(d,{p:"0px 5px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Işgärler"}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(L,{id:"outlined-basic",variant:"outlined",autoComplete:"off",sx:{color:"#000",minWidth:"150px",borderRadius:"40px",mr:"20px"},onChange:r=>D(r.target.value),value:F,placeholder:"Ady boýunça gözle",InputProps:{sx:{height:"45px",color:"#000",fontWeight:"600",borderRadius:"40px",padding:"none"}}}),e.jsx(Ea,{selectedDay:A,setDateNote:m}),e.jsxs(G,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:s,children:[e.jsx(Xs,{}),"Işgär goşmak"]})]})]}),e.jsxs(n,{backgroundColor:"#fff",minHeight:"78vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",children:[e.jsx(Be,{}),e.jsx(oe,{open:o,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:x,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:h,children:"X"})}),e.jsx(Wa,{})]})})]}),e.jsx(n,{children:l==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):l==="failed"?g.error(u):l==="succeeded"?e.jsx(n,{children:I===void 0?e.jsx(d,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(ot,{sx:{height:"77vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Oo.map(r=>e.jsx(X,{sx:{color:"#222222",fontWeight:500,fontSize:18,textAlign:"center"},children:r.title},r.id))})}),e.jsx(Qe,{children:I.map((r,i)=>{var k,R,p,Y,T,O,_,z,$,Q;return e.jsxs(jt,{onClick:()=>b(`/employees/${r.id}?date=${A}`),style:{cursor:"pointer"},children:[e.jsx(X,{sx:w,children:i+1}),e.jsx(X,{sx:{...w,textAlign:"start"},children:r.name}),e.jsx(X,{sx:w,children:r.surname}),e.jsx(X,{sx:w,children:r.employeeRegistrationTimes.length>0&&((k=r.employeeRegistrationTimes[0])!=null&&k.comeTime)?U(r.employeeRegistrationTimes[0].comeTime).format("HH:mm"):e.jsx(c,{})}),e.jsx(X,{sx:w,children:r.employeeRegistrationTimes&&r.employeeRegistrationTimes.length>0&&r.employeeRegistrationTimes[r.employeeRegistrationTimes.length-1]?r.employeeRegistrationTimes[r.employeeRegistrationTimes.length-1].leaveTime===null?"Bellik edilmedi":U(r.employeeRegistrationTimes[r.employeeRegistrationTimes.length-1].leaveTime).format("HH:mm"):e.jsx(c,{})}),e.jsx(X,{sx:{...w,color:"tomato"},children:new Date((R=r.employeeRegistrationTimes[0])!=null&&R.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getHours()>=9&&(new Date((p=r.employeeRegistrationTimes[0])!=null&&p.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0||new Date((Y=r.employeeRegistrationTimes[0])!=null&&Y.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getMinutes()>0)?e.jsxs(e.Fragment,{children:[new Date((T=r.employeeRegistrationTimes[0])!=null&&T.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0&&new Date((O=r.employeeRegistrationTimes[0])!=null&&O.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getHours()-9+"(sag)",new Date((_=r.employeeRegistrationTimes[0])!=null&&_.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getMinutes()>0&&e.jsxs(e.Fragment,{children:[new Date((z=r.employeeRegistrationTimes[0])!=null&&z.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getHours()-9>0&&":",new Date(($=r.employeeRegistrationTimes[0])!=null&&$.comeTime?r.employeeRegistrationTimes[0].comeTime:"").getMinutes(),"(min)"]})]}):""}),e.jsx(X,{sx:{maxWidth:"230px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:r.employeeRegistrationTimes.length>0&&((Q=r.employeeRegistrationTimes[0])!=null&&Q.note)?r.employeeRegistrationTimes[0].note:""},i)]},r.id)})})]})})}):""})]})]})},Ua="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHcSURBVHgB7ZiBccIwDEV/mYARNAIjZIN2g3oENsAbQCeADWCDZAO6AWxAO0EbX8IhC9sJSexwXN6djhCHWJHlLwVg4sV5w2NkpVF9XJR2xpOwLO1S2h+zE27OjgaVdoTtGLcNRoRQRYk7ZKJ4EN/nGIk9bOc0cyYX55OjYDunxPgSdhSTwyO0dYybSPJNkyEhc9jRI891ml2TIyELNvExcJ18kAwRmME98ZVf+PlBJdZXPhCBGfrxxY7fkQiCXS1CcJ08IBE8t0ISwqUmtJmicG6Y2JzjMqORGF7Olo5xXmWa0iAKfPmkxrXVyagQ/A0BHxvNQUOoIeBjSasIRzYEPIq82hhbB+5DqHLWVKUtBoy4bAi0GJcys3Lcw9WJX6OuMAAyiiTGd3C/BhDsNPDZqXaU0APe8ruah41jYhm1AlWt3sHvbOflb5Nv2jOpcVTqKNWOnuCOaKdXiDb5RrAFvkBzRJTDUYWOyKX07VzC40uVI1y5WrODe1P0hUcxQ0807vNshe6sYD/wIGgMIxmfGCj/XBDcO9HYvp5s4fmt2alr3D9gFBT8jnL9zGvzyQshMqq0bzRXD2lFCuc4hEoqjCZeGhzLmm726P+DXTD5RrhVCPO6eq4/Jyaenn/GPB3kZCDDsgAAAABJRU5ErkJggg==",za="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHXSURBVHgB7ZfxccIgFId/eg7gCIxgN0g3aCeoI+gEkgnsBrYTtBvYTmCdwGxQN7C8Ey6AJHlgmvzDd/fuTA4en4QHCZDJZDL/ysS7nqvYqhAYh0rFWsW5qcFKxWXkWNlCU09wjvFxHGbgQdP+g35ZqNggclIkwtP+qxP2RaFzhsaSdsNpS5JPXBctQf/yoOIF90M59qhnrtJjBWkTPKp4RC1JvOH6WFJZ6RyGSo9xbOrQJmgnqKx7EmmS1GfbkfuGLkE7kV0kEnGSG7hri3I9oEOO4AgCtaS9VqSKHaPvDq7ct851ZvRlC0InfFbxbt1bqvhAeKuge3vdxkB9CzDlYgVtqdK6ftIiArdyhXWvhCvLIkWQkHAlF6glKQ5w980S3v7GhXuShLh41wJXSfO7rS2bVEG/Kg2iob1pWyKSlEfMqUpTUClV7xAj2FaVX6g33Qr1lhRT9Swkwoe2OYsbD/WIvBedSzDGZc2gwP1VKdFc9a10CYpAojXStgwJV1KAKeknMVNNa+UE99EscT9LL+dJj8VaOhLNL6wF+mMB5gsrZx+kLcM8mgL9IVW8djWaBWR8zKfoULS+SJBM09QPEbQehS00CUhSA4nhP94rPW6FTCaTGY4/Fb/NMOfMGLwAAAAASUVORK5CYII=",Pa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgB7ZjLccIwFEVPPgVQgkogHWiZXShBy+xCB9BBSAW4g6QD6IB0AKkAOiDSYE+ejWRb+EdmODNvBluydO13n2wEN5rxEDg/svFq4zk93nFlbGwcRSxtKK6ECXlxVyd0Sligi62NGQMy5k/MPj1e4xdqGIiVEDJNzxlOonxCFT0j07wqtBn8Qnv156gw+ajQrmzM8Xt0Rk9CfWkuomwkDOTPsjQXUYT9aegIl9a9mGxc4xqDX6i7QUUHfIlJ5hHXub69FJImvybGoPD7Myuk1pBp1sSj6LiQFmLQBZejCReSpgGay9PswxDhzzvq4YRli/WHjUNFf9eeVPSbc+7FnY2nGuN7BztGxrLGuIpzfxrZ4Z56jOiGQ9W5R+rxIn4nNn6onjgpaXc3/MbpbSVvfmfjm0g0+YpriiG/dGWx5sJFPCHOVyE0+Q8QKUzTALkkaOJRAWHuKRoaIv9AxabXees9IGxOS4WXEP8WcRPP8PtsSYsrQvGrWtW4xj3xLR34zIcRE2wq+mr8Pmv8ni1DTmgCfZSNT/w+m9IhivL0hnzWagGUYcj7RzLFXwDuSSp6Qm4emfScpscCKEMVBLjKDBXAhAGo2jzqzWchDGFxiyGFZTgBxQ3MNQPtC5Z98htOotacV/KNf8Mv2zwspa7JlfkAAAAASUVORK5CYII=",Ba="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgB7VgxdtNAEP0CDuAjiBPEdO5QOsrkBIQbyCVVyAUs5QQ4JwA6uojOpXMCdATRQWX+JxJPXtYSO7JFwvN/b63dWY31NbMzOyvgiP8cUcjN8/n89WazOWP3Js/zj2PoPkMY8iiKJrwmbEEErbo7LZimqf5sunVzFN02fVrjFAHo0S1p1dKrBz+5lH94ye4EI4Gk5ySZu/I/CJJbTHJfMT4qknxOjlVb6FuDcVuJ7a41ftnqf0EYdume4N5TzZIq0EPwN/hGd3yjpBkzEjdNP8uyBAHYpUu51mayS+8JwlDoh8QLhKOw6AYR5Juf8gEv2D1HIKy6oXkQdPkaRlh0Owkymk8Y1bc4LKZdk30WnJBkgn+I0CAZHX0WXCvD44CghzJ0uLkvD37jwi5wQDAPVl3zj97FXjCy5ZIzz1ThWpz3XuhK+RIGBBNUGVaXTr5K55Lz2vBLFR0cv2+yAMcmkiYL9kEWJrEP2C48YhgQvAZVDmnLYrvicGtnkEzW85AzwxQkdfW7xHZ6kKwpOCvsCUOi2F2DMZuqcFnyvG7XGAgzQW38JPCG3U+NjK7VaWEiC9cnt8GWNBNUlCoqWUYp3bTX4hR7hDUPZrW1lrg/ErRJ7W39CSaCIldfL5yp9ZB60QeTi0nsyiMuFRiOrG3NEgaYCC4Wi3d1Lrxmu1HFo7F7+NY5Vy+jNtpW13q4XJn23aeXwQA87mrmoZ5J5Dot7l+n/ZHPJKUreOoKVqvV99ls9oPEXmE8VHzeWyb9z+5E1+e3GHuqSP4Ca/ej0RFHPBT8BA8hA+XxDhf8AAAAAElFTkSuQmCC",Na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANkSURBVHgB7VexUhsxEN1zUrh0OrocXbpAZ2hiuqSK/wCno8OmSwV8gc0X4FQpAx2pclSQKk5HqhxdyqNLGsh7zMqWZcn24WhC4TejkXS70j1pd6WVyBJL/F8kZZTb7XYDVardrNfr5RIZcxEEsXaSJPto1qzP+d3d3VZskk+nCcErBbFPaK55xClVtERDJSRQcl9knFyBcmo6kG9DryYRESRYqVS6MvI3kjmESVe73W4T3Uw/k1zUHfSaGLvSApmm6aP9DsT6Vv8UhBtso95FdSCR4N1Bms5q9xEIfUeF/ULbNY3uKJggqD7VMP3b29tDVweECxA/sj7tSyT4djC12oPQMQLiPdOmuWPtoo/gMCrhazehgdxFGQUL0ZQIqMgCwAKGZsYuvpUI8BHMrZ8+lymAvGt1v0sE+AgWVjt4CPP6E8tfsZtRzsMJgupb19rlEZLKJLlU72ZD7jDWnez1QfxwYHUnnF9vGbO7OcgdSCSEgiSz2mPOz3PSuWW2JCJCBE9MA6ZccxKCqMmBCy9B9adMu2MJgSMjjiUiggmrJqnmGCmYyWgAUbYG2TejCxlEvU5gnhRVF/qp+napgHoSEtTr9StMuoNmVcufy8vLjDLUvyC/gfz1/SqTBN06v5/L5CI/0k3QXWGN0oZuAyWB/kBmYGrK79nFdXv1nU6nj2rbGpJbQXNsUrIpoD6TkeD7ZuabBCRoSpNVD5AXrjtyJg27zjC6gh1M53QDEGb0b/v+A3lfPOYPmtgApviqpiZW0K/BNJ+NHO2zzc1NLrRhDasaohj7Hovagd4VygnGf8C3Z7qA4SLU/E3Kofd7boLz+NvFxUWmP15F94V+5q69AbkzZ76CRFGOMOZa/dMQZf3D9s2538WuKUORa67GMpGKufk4a+i8HU5cmqBO1BdPUCx6D2Pen6KJh86XGdlME9ugaRx/q8FELZiq6h4x82Jvb49Jh7k6c9cqpQgS9DeHZJXHycbGBoneoNDHinnmws7RGkNz0rzu2VjKxDash33qyvAj3uV84PNNM/CMZTDs89C2PucIqFVX98EErZ+1NDdMp6gNQPp+V3nleXSDvrwwQQMlyh15KeXA46j14JukLPSYaeo190rC6RmJHdgR68M/J+hC/S2VEVGaOjeZ0RJLPHb8BR8GmX2wDLX0AAAAAElFTkSuQmCC",Oa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPcSURBVHgB7Vg7UhtBEG3JThx5b+DlBEBGkRifAPkEWjJnWhE5Q1wASSdgFTpChI5YIsgQJ9ByAit0BH5P20uNxPR+VC5XuUqvajS70709b3pmenokssUWW/zfaMmGiOM4QLWH0mm1Wp9RhyiBihcvLy8z1BnK9Wg0msqGaExQifVAKnYJ6fNC3wOnjchAOEE9AdlMGqDdRBnk6K05ygCvj+i0j7KjnYu+9/U5QdlHOeE7v0G5gY1IGqC2B2F4qF6jN07giVTbQyWdXFxcLMn0+/0Rqh70vjh6EXTO8BiiHc2jfp1+a3nw9PT0UslN6JWiU8UVST8/P58XDdAZSD7FZ0Ubvll6FHamtEWbNbqWd1UK9ByqbzB+jk7i+/v7347sCJ19h2zsbgTqHB4efsBjdHBwcIv3rGi/u7v7AVkL38SQBWj7WdZ/u4IcpyXmqEFg4FPROlkXwKOc5hUvFsBSGKBKaZvrWjYhqGuLxjl9fUN+zLXn25loI7lbyI90568AHvzKAUB+6ZNXEmy3213JF/S5ERqO+APy15YNbgZ9jMQzANqWPBTFlg1zF2MnzpVg4v0QnlE5197Cp4NBBpBzCrnzU8NOJHlg31Gvr+C97yNdF6FjwATk5hpCp8VjWGGnOJVSqUMQ6GgH++L3ToAOH7j+3PDigwb1LmOi5EffOkj+RvtMpQ5BfPCJxODymU/O8MIa5B6rji7ozmCP61kM3QzL6UnP8zewNskeRvwoNl7PWKlGMQNhic7cklsEOYULseEmCVXIqhTgjCfH5graJR/9kn+HxnGQntmRaoQ1dCq9jdn6aMktgpluFAvZWudlCLUuWw7mmvfuYijziOrpbs3Exi6PPCnHXkHQ0OUgAwT1udQlCPB06Gl8MqHBN5IaYNwsk1tHpkWQ8W+ZssObE6PD4h5yDZ2y9cUYyKPutkxu3Vu8BHkmIqEcwyizmRnT33Ud5kkwPtTsOPXZ0SOzqwlH4pFHKvc6gTDDTJHPMeUy0qFixF2xUZzTqbwl95rOiSefrCSo6RDvGCR35ZFnkiedHd8AlEDXyhexKZipl6Vz5QSVBL00Zmrlu0Mw1Rcjn9N8UnzJBG0xDdOrQiIlqHWrw2GeoKI3psyu3RFr3hi4+Zx6j9nOtLjpaTvDyaXmiJPhcBhV9V3rVqeGuGk663dbZxm4d48B21zv6Z36ofBcHXJEo38W3Lut5KGDU5xqPOyhRGhr8Z6h6Xwi+UY51gx8oXfqad0+N/nrI8Q0kcjyzqLNVX99MBqMGRl8af1fJbhGtqMpf4iyK6uJwZPeQ+itWVNiW2yxRU38ATxkKvkv+ktbAAAAAElFTkSuQmCC",La="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPKSURBVHgB7Vg9VtwwEB5v0sdlupgTxHRAtdxgOQFQpsJLlQ5vlwrvnoDlBCxdOkzFdpATxDkB5AKQ7zPjrHAk/+7Ly8vje09PsiXNfB5pRiOLvOI/hyc9EUWRjypECbQQDyh3LNPp9EF6oDNBEBuhOvI8b1g17unpKUV1DqJz6YDWBEFsCFJnsrJWU2QgO2lLdNBmMMglIHclxlJC6QxlD2UjSRKPhW2UXfSfk5iODfhhkHEiLdDYgsfHx2dQelAQg7LZ4+PjtMkeA6kI40nMz5V63vz09PRQGqARQbVcpI93tBiIZdICkBGY1ocMfty4bl4tQQg+0D1XkNvt6pn0eCUZKskxWUpXgqWvzpRcJj2gMm/lebm5hzeqPvhtjbyRrJZkYiOncZDhhmNDfU1Lz1AvysopA3MOMf5CSXLrxC4ClV4MIUfazGzhobAGSmyQI0JuC/ZxTHkeZC1QpSUd7Qgy3olhPQc5M+Rca8ih5TJ9l49RK78Axl1q01ddVlQtsWmR1NIfy8vlj42+CGEpxvsTHcO+qDR/jpIYulKLjsolLgg+2PYeLLOv9bxELgfiXCyrZdwvW1H35g99/CgOOAlC6AfWsMK3cp+5JAjWly4ZmHuuTZILLEPutd6QtgTXhMxo+5b+2njqJIiv/8kalnwn1YpDcSN0zCngSw2qLJhpHZQ7dE+mbDNM2EKJerkZpjKLjt9xUxyo8uJiUh4GoCA1OxlONBf0NZQwFC0KxWZK5ghTQ+MxFQeqLLgw2qNyJ4MtSBSKAw3M91rMpMCVAx4YbacFK8/i8XhMRUOpODM1lTqSP7cCU7IJws3UMocf9F0fL5FDjhwUqs9ifn2xjIPBgEu2Vx6j2chUrwDmnkqh2OWlsaGjezZD4ES4gJCRCqtNjxrIO4GcOFfeIHGtjYMIxBSQqcCk6tysA+cW5CgTsid1c5pm1KFu/CKH2+yYUZt5IHPLu7p5jU4SCuLy6mMRVgJpCCPzyQOzbpVaco0JKsl5Kaxc2NIoGzQ5DZRcq6tnq7NYM5SZPobw7KRuDi9csrqDzGyZTxXeSEssl8uv29vb9Or3VLy1tcV317ax9FhUn/WRv0H2pCU6ZTN6Kc/YZrqPgL5fHsMAbnosr6rSAX3+zTi9Ur3+1iDX+TbY6++W/qe5MonkQl+exZtNPXbtBJUkz+LCWTKtg1y4541tZ3EbtHaSMuAgy52dHX7oUJ6Xu4h1E5zFX6QnehMkbm5uUng27xV5OIHlFiD3SdaAuj8LjQGLcal5O/P1/P73QM9ucwS+4m/gFxzL99Cfde1MAAAAAElFTkSuQmCC",Ha="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI3SURBVHgB7Zf/cYIwFMcfnAMwAp2g7QZ2gzpBdQNxAXEBYYPaCXSDXieobsAITiD9fjFcY44fIVL9o3zvcjExyfuQvPcIIoMGDRr0v+Xpjfl8HqBKUEK5jzKUKE3TY9kxMgZMPc+byh2V5/kBVVq2feP/QO6vC4aRzQw8VYRqL/3qCae1lJZNsQLkQoB8gW/0AglfH9vAUb7UQ+3k7LRUgPZ3FEVvcqW4Btb61OAyZasb4Ol0OnDXNEhqg6dfiqMwd841tK6MNmhLugJSONLMhMTTxi6Qi8ViibmJCUcbTfMaAQ3IvSsk4bBGrHXt0X5ug7MC1CF1XyEkDL+3zeUYA+5L7dxRLGQVxQqSC07g5BvURbDA0BQAAXxoZhpUb6Utxoy17o8kSabSQVY7qIsGsHursg2AV0YlgEIdjn0oY23cqiucEyC1Xq9jHVLOSbeAZGFKYp8Ohx2OxUHWR1yh3GiHKr8Vv1vGWstpByuislQoFTch19REdQasi0rUepAc0TdxiXpT1kfcFpX4n2loy9+EU+/tnW3UXwVYRqU0OL4CejDn8gEAxTy6VPMY9QymSS+Juo+obIr6trm+BRx3Liz70I5cUkYFZGgDWQvo+/6jCYedm8FQKo4iJNcQA5K2pCsgfUWDO6r350auFNfgRUF+oz5UtiplEySEK46GN2HpT7FoH0d1MgGrQj8w7nF/rQsG84g3Ug15K2UoF9d/zxyhIjeWG3+8w40yVLFNbhw0aNCgHvUDmNRJVHDtVaoAAAAASUVORK5CYII=",Qa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJLSURBVHgB7VjRcYJAEF2TFBArCKlA/YtfIRXEVCDpAG1ArQA/82esIHYQ/PPTdIAVhAo0b2WZ4MkBB6MmM7yZnQNu7+6xt3u7QFSjRo1MNKgCXNdto7nNUQun0+maSqIUQSE2azQa7YJDgt1u9wSiARnCmCDIWSD2iUuLzBCCZMeU5A2Zw6VfciHkK0f/TvTZFRzImAxgTBDWa8XXsMgLLOJn6cPiPYz5kFubTNfTTGqRfgu92PdAcIAmLwDa0Pfkei1j0hCkbf8RweFwOMIkY7oAsC44Tg9e4ICgsh0XgUS7H9+rPpg8NgLIhs6DOJAYNsSPO7RBgjeZ403GdAZg58bYuVFa3xX9cdQEq6JMJjkCfIj9x1Yer9UjowwqW1COJnZyWxF0uQ5VhNaCHFVYgMN/kpPguY9zslp28TM/Yxy/nI3GwVp9MiUoJB2eABP5aOeQBciGSR2u9dDfoePUuFZ1hVRcNDyzpSkHhXxQJmKZCdklRdbZkxALB2ljJa9zAuAiwy5CqijBubR9Ddn9wToY7OOAC9IgocNWSkoWltD/xvheWqc2SHhBz/MctPeQV4qspoOVDBCKLGZlkGNSE8zbxBr2drvV1pS5Wyzb986S2C5bSq4WFfgmgWxAxqeoNFuk+WZpgilkWRbxM3F6FktRZ73QhAxVJZgGIRCSJkiqos7FVVETrIr/W25xAscR8khnANaydH0qQZ8khVGUHbQDT4iD7+zr5M1qtQq63W4Tlw90ASDbcGn3lnxW5s/CqRCU+ftVo8ap8QNUl9vzmHALiwAAAABJRU5ErkJggg==",Ja="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACQCAYAAACoG+FoAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7FSURBVHgB7Z0xcBvXEYZ33x0Vj8biUIXsJNSMmMpmZaURS8ORHVlpRDK1QqZ17JFQRbELS4VlpQI9tNOatHpSqhxbtESXVBNWpjtTM2YyYzkjRpooHuHubfbdAeTd4UDgANzheLffDAng3TuCFH+u9u3bt4swRGqr343B0aMVIDWBil4BwAn/w0ATIOSJXf7Y9h9pm4gegNbr8NNPm9WZX+3CkEDIkH3BUgWVfUFEWhCItllJ6yzq2/D06XqWgs5EwLXP/1VB274EBBV+OQZCwaElI+bquRdvQcqkJmBjbdXR5y8RwmUQ0ZYTtsyk4RqAu149/4ttSIGBCziRcImeIOKOBtywQO+gUjsKaMu7BLADQm5goYw75I4qtI+R1pMuqHH+XU3y7+lMx5tZyAi4dOnciWswYAYq4NrnP8yjgvcBcaLtJBYtoVqxFaxpZW9Zuv4EhEMNAZ5xtZ5lORkxj7ef6Fvk6vkXlmBADETA7ONOoGV/yk8rsRMCokWg+yAUloCYZw6YdIu0Ux2EW9G3gGt/f3jZs7px7gILl99hGe0jS2Jpy4XLlpg0NYUcZ5V3yaVqv9a4ZwEbXxePPs/ugufrhhHhCg0CQn47dgLBwuVzJ6rQIz0J2HMZlLXKvu7pmC94HzRcsWxZhAn7+EKG9/jp2ZjLm+Q6M724FIkF3BDvvZaFmm91F22FyyAIbdAa5zTpd1g/x0IXvAWe+1pSEScScFvxcsgLNVwUqyt0Q8Ma34Sob9yDiFW3E9uJ17gMaI9cEPEK3WKxweOPaTbHX4UusLaMxozWuv1aXQm4nXg5ZLJsKba8slATEsKRq8e2rd5iq/tZ+EIyEXcl4MaCbSI8Sh+PKLoOgtAHtoUfGC2FBo2ILXu1tvqoYwpCRwEvfPGwFo02GMvLi7VFEIQB4GkpaokBTuNR5/1O9x64iPO2hi38NDTIfotn+gVhwNRduIkYzq0gx61Wf/fzhXb3tBVwY3v4HxDeYdvxFmzi8wopwJGJUY5QmBTMYHSCd+ycX7eLTLR1IdC2axAUr8kc07JgE9LDLOz446K3p7DPWCPPJpZYARvXgR3d6fBXh0UJlQlpY0JsClV0fVXxNBlDrIAbyTn7rxHWZIdNyAqlaJkIQlmLRpNxUYkWAX9059+t+bwuSLhMyBRlwZWQK2E0+dyzlsSxkIDNwo238ubDU+hjcR2ErDGuBCq1FBxDS12KWuGIBbYqEeu7gxpXQBCGgDKx4ciCLmqFQwKO+r5sfVfF+grDwo9KtFrh4Os9Ade++HG6JVFHrK8wZOKssCnTsHd9f9wNh81IrK8wfDwrjGolPGbvWWFPwLV7j8Z40lxwkmUpsb5CLiCAtdAAcly4sZjzLfAztxK5Z0dODwt5wVasxehi7uizinnScCFa3AcRr5Arom4EEFbMgydgBHw1eE3cByFvRN0I9o0veI+e/1t3HgUv2gpeAkHIEV6mGtHd4GFQ+q99XIHjhJLVvWPxgpAzTDSCP4ejYuwHK9C6Ehwjpb4BQcghiLgRGiCaUPsV0RuTiCT2K+QSBB3SJu/SvaJQ4angoEL4FgQhh2hSIQETwa8UL+9C2T2uoscgCDkELb929N5rhFM2P06EBp/BE7ChNLhq5Bg59XH+yUchZbyAvDBQjFRDFrgs+Q9+eSP8EHR9yh8hSBtHm8+4glpyrHvB5Ag7oRGc6Lq0VJFwHJzRLt1m0U5B5tCsVnCTxfwyCH1TOgG7jjsJim5gtDpihqB/bFxEPABKJ2CtrE8gHxifW0TcJyVarhkfFM8gULikp9ZfjdjqgzS6IjXKiN49YEpTxBd5+17Clz1QKgscLVsEJm30yM/+nGVLr5j3EkvcB+VyIQhCoTI0dWozrjSktPsn/j6i1lZE3COlEjAhDG3hto/12EJTPklEPAhKGUYbNiazSkQ8GETAQ0JEPBhEwENERNw/IuAhIyLuDxFwDhAR944IOCeIiHtDBJwjRMTJEQHnDBFxMkTAOURE3D0i4JwiIu4OEXCOERF3RgScc0TEByMCPgSIiNsjAj4kiIjjEQEfIjqJ2HVgHEqGCDhFlIaWZHlS+Afog4NErBFuQMko1Zm4rDFiIxfuh48y0Tz/dz8P/RLTpt28jynUUqZ+1mKBUwYh2xa96DivQ4kQAaeMbdGa6XYKQiqIgDPAVrioAK8ASDmpQSM+cEYoRatsLVZdcicV2gM7XOoS3eAFXemiD01EwBljobWVRSHBsiAuhHCoEQELh5pSuhAcL11TiMta2Vug6yAcXsolYIJVtEeu+4F+AkvEe+gplYC9Ev8B0frtBTjwr/Bl0jTFm1scHaCT+3fg92BCXwrZUtNX0iIgf5TShfDKrBLNaffZlFfoWlPcziw0xHySr5tK7vN1l54gqjvSIiA/lErAe30xgKYIvW3eRPf7Vd1plhTM8h+B9LrIAaWJQjjaWNxB9sVo9rrAGRCGRikscJ2tLtvaWUxmcDvi97qgG3UXx0csyXcYBoW3wCzeW8jWsusbiP3chA3PEekdFvHbIGROoQXsW16aTHIPEl6wFFzkZxcT3SciHgqFFbARUyLL26C5KEOVvOm5EbHpQQdCZhRSwCbaYMQEw0DRuya+DEImFFLAHCobZi+4Ud4ceReETCicgP2wVjK/d/DQbBlPCA+DIlrgXPigZKu+Th8L3VEoAbt+XHYIDbxj0HpWfOH0KZSA2fc9A/nB+MJDdmWKT6EEzDtt+TpSrvAsCKlSMAscTIUcPkQ6V99PESnWIg7zVeAOCcSFSJnCJPP4C7hYdiyFVxR0t7PWPC9smU72Cn7TzT0u+96a9HvgpVuGkFBaypQgGw03eEv5fi8H2anLQiSm5oPWaiY3EZASUfhsNGJRpb2p4DruJEG+/O+yUBgLbEqZujHjJmeXFNx1NHSFreAl8+if3oC7Xd2krHZnO+S0RsoUxgKbUqYmlxdyBIqAU6dYcWClNiBHkFLfgJAqxRIw6Vwde1ckx/DTplgbGahyJRiybBFwyhRKwBbSFhHkQzREq2Uq9T8sChdGsxBXIAdYlsrF91F0Cidgs6kAw179s/U1mycgpE5BNzK8cv7De3fCRcgAb/s8Wp0dOZxYIgopYK8IH9FnMBSyKTdl6rvpmLN/5NK3UCIKmwthW/iB48KZpBlqZtvZCJA0jidtBUCAyyMK9qwvi+yz9PIjYgoSmoWjjaXaPCl0Mg9a8BZvB9+EBFlhpt4Zi3eDSL+BiWpR4daIouvNV15dCswwucdUFMrIdckThU7maaRExrVlbUuj3tkstqZGHgAv2mx7r5JPnayzmdal8MSrL5axUmbhs9GMiG0LLqTnE9N1W+GVZszXZKaBdv4KWWByP0zEw5TDsk33o/Jhs5f3gK3OqeZA0weEgmF8YnJxw0UyRUf6Tq/0CgBq93qLcPgfz0Z4C1JGk/ME7Oe+L9NmScyhhd1SFbhGi9b4B17j1fsMAc3zH2/iI0hGuErhohfnVVbLdbMbCBlgsYNfugY1hKORhfW2zeuU73hszwKjhfxLpUL7Uo3NjlWvhpqm13k9/zoRTUKc34v8vxHpbxXwws4+stJsECNkDxEcC7+m/9ik6UFwtU0lOsdl+Q1cTDf5ZWgEpTDw8+8dKcLGUkG6Gg0VBXpSB4KHxvgqNsubwUmEWOqDiEa0zQ8QcgWBCmmTLfAD/p8Rt0OztJaDiUIuaVmzaL2u4Ii1Hpk3LjW9hHwS2Rj66blNVX3t+K4JpQWGpaaXkDuclrp3uF2dOb7bWJ3QrdA1qekl5A1sKZu7bj75Aia1HrqkdeLeEoKQJrxgmwq/dm+bR1/Avh+8G7g+6uSrVKlQYrzWwNHw7tMj6+bBE7DnBxN8HZogboSQF1rcB1wy/q95tp/Mo2AhNEcqjAs5wD91Em6X1nQfDHsCrr5xYh0ibgS4zhwIwhDRbrTvHkcfzr24F3QIpVOyG/FR+DXNiRUWhoVnfTFifUFfC74O5wMfsY0bIVZYyAXG+oYXb7xr7I6sB+eEBNxYzLVaYel5JmRMXLdVct3l6vnj28Gx1hMZnhUO5UeMaoQbIAhZ4kKk2yn7vudfvBqd1iJgf2s57Gcgwpk6oTTuEzLB0TRHkY5TUU02aXvsduHOw3t8VyUw9Bg1TJfx4KCQHcZ10C7dDh6qJdK3OfIwHTe/7aFOcuw/QmRBZ46cS1RCSAujLa3hZuhEOOIu6COX293TVsDGWSYNYVfC/HXU638DQUiDev1GdMuYrW81unALcuCx+uqbJxYIMBSVMP4w703/BQRhgNRdfLfF79X0UfW3LywddF/nuhAj1lX+vBkepHlTeQYEYQA0qhhF9xs2q2++cLnTvR0F7EUlXHsmEloDE6MTSyz0i7G8rVWMcNvXXGe6Lv5V+/zRBFruPba+E8Fx3vhYUyMjV6QauZAEs2Ajx/mktfihEa/12kF+b2g2JKCtiAF2lIZS1uYSkuOFyky0oaWEQzLxGhLVRvMiE/wGLe6E30zwlmx2CJ0wmxRenHcA4vXugh7wLbFjqtucjvmSd1DTh2KNhSB+51P8sE295E3j8yYVr6EnATepffnjAgJdirtGhIvKK7gsQi4z3uZE3WQ06vm4krUmVAb/G7naPGGRlL4EbKh9+cM8Atb46Vj0mlfdhnBFhFw+OgnX7LCRS9fMXgP0Qd8CNhiXApSzwJscF9rP8tpfrXr9K4TC4h0GVniWXPf37YqEE9DX4I7M9+IyRBmIgJv41li9H41SBDFWmS226WksYi4AjXDYZCfR+vBCDfS1TrtrSRiogJvUvnh4lX+QuYOEHPgWNviH3wLt/pODIlt8j8l6eyIuR75oHmrQlvUyknMSlPVL9l+n2Ik92bEdg3EXjK/71F7o1ddt+6UhJTy3wqpXOllkocCkKNy9t4AMqK39OA2unvatslBoPNG6X4NSC42T7um+HWRIbfXRGBxzK76Y1atimYuBVxxS0y2w1To7f+tpWds4MhVwFE/QzzunQesKv5zgv94JfhxjcZ/iQPIYCLlhv4IpbfPvZpst7KZXWzpjwUb5PxY7UQrHPcirAAAAAElFTkSuQmCC",Va=o=>e.jsx(nt,{...o,sx:{maxHeight:300,overflow:"scroll"}}),hn=({open:o,handleClose:t,userId:s})=>{const h=B(r=>r.users.data),[l,u]=a.useState([]),[y,F]=a.useState([]),[D,A]=a.useState(""),[m,S]=a.useState(""),b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},I=se();a.useEffect(()=>{I(Me())},[I]);const x=(r,i)=>{i.some(k=>k.id==="selectAll")?(u(h),F(h.map(k=>k.id))):(u(i),F(i.map(k=>k.id)))},w=[{id:"selectAll",name:"Ählisi",surname:""},...h],c=()=>{const r={title:m,description:D,usersId:y,userId:s};m&&D&&y.length?(I(rs(r)),t(),S(""),A(""),u([]),F([])):g.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:b,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(L,{label:"Tertip - düzgünnama ady",value:m,onChange:r=>S(r.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(De,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,value:l,fullWidth:!0,isOptionEqualToValue:(r,i)=>r.id===i.id,options:w,getOptionLabel:r=>`${ee(r.name)} ${ee(r.surname||"")}`,onChange:x,PaperComponent:Va,renderInput:r=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...r,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...r.InputProps,endAdornment:e.jsx(e.Fragment,{children:r.InputProps.endAdornment})}})}),e.jsx(L,{label:"Beýan",multiline:!0,minRows:15,maxRows:15,value:D,onChange:r=>A(r.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2,height:"100%"}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(G,{onClick:c,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},Ga=o=>e.jsx(nt,{...o,sx:{maxHeight:300,overflow:"scroll"}}),Rs=({openUpdate:o,handleClose:t,data:s,userId:h})=>{const l=B(R=>R.users.data),[u,y]=a.useState([s&&s]),[F,D]=a.useState([]),[A,m]=a.useState([]),[S,b]=a.useState(s&&s.description),[I,x]=a.useState(s&&s.title);a.useEffect(()=>{s&&y(s),s&&x(s.title),s&&b(s.description)},[s]);const w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",width:"95%",maxHeight:"95%",minHeight:700,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},c=se();a.useEffect(()=>{c(Me())},[c]);const r=(R,p)=>{p.some(Y=>Y.id==="selectAll")?(D(l),m(l.map(Y=>Y.id))):(D(p),m(p.map(Y=>Y.id)))},i=[{id:"selectAll",name:"Ählisi",surname:""},...l],k=()=>{const R={id:u.id,title:I,description:S,usersId:A.length?A:u.users.map(p=>p.id),userId:h};I&&S?(c(is(R)),t(),x(""),b(""),D([]),m([])):g.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:w,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:u.title}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"98%",p:1,minHeight:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(L,{label:"Tertip - düzgünnama ady",value:I,onChange:R=>x(R.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(De,{id:"combo-box-demo",multiple:!0,fullWidth:!0,defaultValue:s&&s.users,isOptionEqualToValue:(R,p)=>R.id===p.id,options:i,getOptionLabel:R=>`${ee(R.name)} ${ee(R.surname||"")}`,onChange:r,PaperComponent:Ga,renderInput:R=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%",height:"95px"}},...R,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...R.InputProps,endAdornment:e.jsx(e.Fragment,{children:R.InputProps.endAdornment})}})}),e.jsx(L,{label:"Beýan",value:S,onChange:R=>b(R.target.value),variant:"outlined",multiline:!0,minRows:13.7,maxRows:18,fullWidth:!0,sx:{mt:2,"& .MuiOutlinedInput-root":{resize:"vertical"}}}),e.jsx(n,{alignItems:"end",pt:2,mb:1,children:e.jsx(G,{onClick:k,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Ýatda sakla"})})]})]})})},Xa=()=>{const[o,t]=a.useState(!1),[s,h]=a.useState(!1),[l,u]=a.useState(),y=()=>t(!0),F=()=>t(!1),D=i=>{u(i),h(!0)},A=()=>h(!1),m=se(),S=B(i=>i.standarts.status),b=B(i=>i.standarts.error),I=B(i=>i.standarts.data),x=JSON.parse(localStorage.getItem("CRM_USER")),w=B(i=>i.users.data),c=I.filter(i=>i.users.length==w.length);I.filter(i=>(i.users&&i.users.length)!==w.length),a.useEffect(()=>{x.role==="ADMIN"?m(gt(x.id)):m(lt(x.id))},[m]);const r=i=>{const k={laborId:i,userId:x.id};m(ft(k))};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(Be,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(d,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama"}),x.role==="USER"?"":e.jsxs(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:y,children:[e.jsx(Je,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(hn,{open:o,userId:x.id,handleClose:F})]}),e.jsx(n,{children:S==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):S==="failed"?g.error(b):S==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:c.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(_e,{container:!0,item:!0,height:"100%",xs:12,md:6,lg:12,spacing:2,children:e.jsx(n,{width:"100%",children:c.map((i,k)=>e.jsx(_e,{item:!0,xs:12,mt:k==0?"":2,lg:12,sm:12,children:e.jsx(nt,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...i.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[i.title,i.users&&i.users.length===w.length?e.jsx(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...k==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):i.users.map((R,p)=>e.jsx(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:60,height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...p==0?{ml:3}:{ml:1}},variant:"outlined",children:R.name},p))]}),x.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>D(i),children:e.jsx(Ge,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>r(i.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})}),e.jsx(Rs,{data:l,openUpdate:s,handleClose:A,userId:x.id})]})]}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:i.description})]})})},k))})})})})}):""})]})},qa=({userData:o,userId:t,params:s,handleClose:h})=>{JSON.parse(localStorage.getItem("CRM_USER"));const l=o&&o.user,[u,y]=a.useState(!1),[F,D]=a.useState(l.mail),[A,m]=a.useState(l.phoneNumber);a.useState("");const[S,b]=a.useState(l.surname),[I,x]=a.useState(l.name);a.useState("");const[w,c]=a.useState(l.position?l.position.id:"ADMIN"),[r,i]=a.useState(l.languages?l.languages.split(","):[]),[k,R]=a.useState(l.whereStudy),[p,Y]=a.useState(l.whereLive),[T,O]=a.useState(U(l.birthday)),[_,z]=a.useState([]),$=v=>{c(v.target.value)},Q=se();we(),a.useEffect(()=>{(async()=>{await E.get("/position/get").then(C=>{z(C.data)})})()},[]),B(v=>v.imgAccount.updated);const W=async v=>{v.preventDefault();try{if(F.trim().length<=0||I.trim().length<=0||F.trim().length<=0||A.trim().length<=0||k.length<10)g.error("Dogry maglumatyňyzy giriziň!");else{y(!0);const C={userId:t,date:N(s).format("YYYY-MM-DD")},J=await E.put("/user/updata/info",{userId:l.id,surname:ee(S),name:ee(I),mail:F,phoneNumber:A,birthday:T.add(1,"day"),whereStudy:k,whereLive:p,languages:r.join(","),positionId:w}).then(ne=>{ne.data&&(g.success("Maglumat üýtgedildi!"),Q(Oe(C)),h(),y(!1))})}}catch(C){g.error(C.message==="Network Error"?"Internet baglanyşygy ýok":C.response.data),y(!1)}},j=v=>{const{name:C,checked:J}=v.target;i(ne=>J?[...ne,C]:ne.filter(Fe=>Fe!==C))};return e.jsx(n,{direction:"column",width:"95%",children:e.jsxs(n,{justifyContent:"space-between",width:"100%",children:[e.jsxs("form",{onSubmit:W,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ady"}),e.jsx(L,{id:"outlined-basic",type:"text",value:I,name:"password",onChange:v=>x(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Familiýa"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:S,onChange:v=>b(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsx(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wezipe"}),e.jsx(le,{fullWidth:!0,children:e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:w,onChange:$,sx:{height:"45px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:_.map(v=>e.jsx(V,{value:v.id,children:v.name},v.id))})})]})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"space-between",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Doglan senesi"}),e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(ie,{value:T,format:"DD.MM.YYYY",onChange:v=>O(v),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Poçta"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:F,onChange:v=>D(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Okan ýeri (doly ady)"}),e.jsx(L,{id:"outlined-basic",type:"text",value:k,error:k.length<10,name:"password",onChange:v=>R(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Ýaşaýan ýeri (doly ady)"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:p,onChange:v=>Y(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Telefon belgi"}),e.jsx(L,{id:"outlined-basic",type:"text",name:"password",value:A,onChange:v=>m(v.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"45px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"column",width:"100%",justifyContent:"flex-start",children:[e.jsx(d,{fontSize:13,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Dili"}),e.jsx(rn,{handleChange:j,selectedLanguages:r})]})]})]}),e.jsx(n,{alignItems:"center",pt:2,children:e.jsx(G,{onClick:W,disabled:l.name===F&&l.surname===S,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"50px",width:"250px",borderRadius:"50px",textTransform:"revert",fontSize:20,mb:3},children:u?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Ýatda sakla"})})]})})},Za=({id:o,handleCloseDocsModal:t,params:s})=>{const[h,l]=a.useState(null),[u,y]=a.useState(""),[F,D]=a.useState(""),A=se(),m=B(w=>w.uploadPDf.docType),S=B(w=>w.uploadPDf.status);a.useEffect(()=>{A(rt(o))},[A]);const b=w=>{const c=w.target.files[0];c&&g.success("Faýl saýlandy"),l(c)},I=w=>{D(w.target.value)},x=()=>{if(!u){g.warn("Faýl ady giriz!");return}if(!h){g.warn("Faýl saýlaň");return}if(!F){g.warn("Faýl görnüşini saýlaň");return}const w=new FormData;w.append("userId",o),w.append("title",u),w.append("documentTypeId",F),w.append("file",h);const c={body:w,userId:o,date:N(s).format("YYYY-MM-DD")};A(Lt(c)),l(null),t(),y("")};return e.jsxs(e.Fragment,{children:[e.jsx(Be,{}),e.jsxs(n,{width:"80%",spacing:"20px",height:"80%",position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",justifyContent:"space-between",spacing:1,height:"100%",children:[e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:w=>y(w.target.value),fullWidth:!0,value:u,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{id:"demo-simple-select-label",shrink:!0,sx:{transform:"translate(14px, 11px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"},height:"45px"},children:"Resminama görnüşi"}),e.jsx(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:F,label:"Resminama görnüşi",onChange:I,sx:{height:"45px",borderRadius:"30px"},children:S==="succeeded"&&m.map(w=>e.jsx(V,{value:w.id,children:w.name},w.id))})]}),e.jsx("input",{type:"file",onChange:b,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"}),h?e.jsx(n,{children:e.jsxs(d,{children:["Ady: ",h.name," - ",(h.size/1024).toFixed(2)," KB"]})}):e.jsx(d,{children:"Faýl saýlaň"})]}),e.jsx(G,{sx:{color:"#fff",background:"#9FC2A5",textTransform:"revert",width:"100%",height:"45px",borderRadius:"50px",fontSize:23,fontWeight:500,"&:hover":{background:"#9FC2A5"}},onClick:x,children:"Ýatda sakla"})]})]})},Ka=o=>e.jsx(nt,{...o,sx:{maxHeight:300,overflow:"scroll"}}),$a=({open:o,handleClose:t,userId:s,defaultUser:h})=>{const l=B(i=>i.users.data),[u,y]=a.useState([]),[F,D]=a.useState([]),[A,m]=a.useState(""),[S,b]=a.useState(""),I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"},x=se();a.useEffect(()=>{y([h])},[h]),a.useEffect(()=>{x(Me())},[x]);const w=(i,k)=>{k.some(R=>R.id==="selectAll")?(y(l),D(l.map(R=>R.id))):(y(k),D(k.map(R=>R.id)))},c=[{id:"selectAll",name:"Ählisi",surname:""},...l],r=()=>{const i={title:S,description:A,usersId:u[0].id,userId:u[0].id};S&&A&&F?(x(as(i)),t(),b(""),m("")):g.error("Maglumatlary giriziň!")};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:I,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:[e.jsx(L,{label:"Tertip - düzgünnama ady",value:S,onChange:i=>b(i.target.value),variant:"outlined",fullWidth:!0,sx:{mb:2,mt:1}}),e.jsx(De,{id:"combo-box-demo",multiple:!0,multiline:!0,rows:4,defaultValue:[h],value:[h],disabled:!0,fullWidth:!0,isOptionEqualToValue:(i,k)=>i.id===k.id,options:c,getOptionLabel:i=>`${ee(i.name)} ${ee(i.surname||"")}`,onChange:w,PaperComponent:Ka,renderInput:i=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...i,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...i.InputProps,endAdornment:e.jsx(e.Fragment,{children:i.InputProps.endAdornment})}})}),e.jsx(L,{label:"Beýan",multiline:!0,rows:4,value:A,onChange:i=>m(i.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2}}),e.jsx(n,{alignItems:"end",mt:2,mb:1,children:e.jsx(G,{onClick:r,sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},children:"Goşmak"})})]})]})})},_a=({userData:o})=>{const[t,s]=a.useState(!1),[h,l]=a.useState(!1),[u,y]=a.useState(),F=()=>s(!0),D=()=>s(!1),A=()=>l(!1),m=se(),S=B(i=>i.standarts.status),b=B(i=>i.standarts.error),I=B(i=>i.standarts.data),x=JSON.parse(localStorage.getItem("CRM_USER")),w=B(i=>i.users.data);I.filter(i=>(i.users&&i.users.length)===w.length);const c=I.filter(i=>(i.users&&i.users.length)!==w.length);a.useEffect(()=>{m(lt(o.id))},[m]);const r=i=>{const k={laborId:i,userId:x.id,id:o.id};m(os(k))};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(d,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500"}),x.role==="USER"?"":e.jsxs(G,{sx:{color:"#9A93FF",textTransform:"revert",background:"#e7e7fb","&:hover":{background:"#e7e7fb"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:F,children:[e.jsx(Je,{sx:{color:"#90BAEB",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx($a,{open:t,userId:x.id,handleClose:D,defaultUser:o})]}),e.jsx(n,{children:S==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):S==="failed"?g.error(b):S==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:I.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(_e,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:c.map((i,k)=>e.jsx(_e,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(nt,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center"},children:e.jsxs(n,{width:"95%",p:"15px 0",sx:{...i.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[i.title,i.users&&i.users.length===w.length?e.jsx(G,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...k==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):i.users.map((R,p)=>e.jsx(G,{sx:{color:"#00CCFF",textTransform:"revert",background:"#d9e8ff","&:hover":{background:"#e7e7fb"},gap:"10px",width:60,height:25,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...p==0?{ml:3}:{ml:1}},variant:"outlined",children:R.name},p))]}),x.role==="USER"||i.users.length>1?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>r(i.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})}),e.jsx(Rs,{data:u,openUpdate:h,handleClose:A,userId:x.id})]})]}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",children:i.description})]})})},k))})})}):""})]})},er=({open:o,handleClose:t,data:s})=>{const[h,l]=a.useState((s==null?void 0:s.documentTypeId)||""),[u,y]=a.useState(null),[F,D]=a.useState((s==null?void 0:s.title)||""),[A]=Fs(),m=A.get("date"),S=se();console.log(h),a.useEffect(()=>{S(rt(s.id))},[S]);const b=B(i=>i.uploadPDf.docType),I=B(i=>i.uploadPDf.status),x=i=>{l(i.target.value)};a.useEffect(()=>{s&&o&&(D(s.title||"Goşmaça"),l(s.documentTypeId||""))},[s,o]);const w=i=>{const k=i.target.files[0];k&&g.success("Faýl saýlandy"),y(k)},c=()=>{if(F==""){g.warn("Faýl ady giriz!");return}const i=new FormData;i.append("userId",s.userId),i.append("documentId",s.id),i.append("title",F),i.append("file",u),i.append("documentTypeId",s?h:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const k={title:F,userId:s.userId,documentId:s.id,documentTypeId:s?h:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},R={userId:s.userId,body:u?i:k,files:u||null,date:N(m).format("YYYY-MM-DD")};S(Xo(R)),y(null),D(""),t()},r={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:500,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:o,onClose:()=>{y(null),t()},children:e.jsxs(K,{sx:r,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{y(null),t()},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"column",alignItems:"center",spacing:2,children:[e.jsx(L,{label:"Resminama ady",id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:i=>D(i.target.value),fullWidth:!0,value:F,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{id:"demo-simple-select-label",sx:{transform:"translate(14px, 11px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"},height:"45px"},children:"Resminama görnüşi"}),e.jsx(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,label:"Resminama görnüşi",onChange:x,sx:{height:"45px",borderRadius:"30px"},children:I==="succeeded"&&b.map(i=>e.jsx(V,{value:i.id,children:i.name},i.id))})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:w,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),u?e.jsx(n,{children:e.jsxs(d,{children:["Saýlanan faýl:",u.name," - ",(u.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:c,children:"+ Goş"})})]})})]})})},tr=()=>{const[o,t]=a.useState(!1),[s,h]=a.useState(!1),[l,u]=a.useState(!1),[y,F]=a.useState(!1),[D,A]=a.useState(""),m=()=>t(!0),S=()=>t(!1),b=()=>h(!0),I=()=>h(!1),x=C=>{u(!0),A(C)},w=()=>u(!1),c=()=>F(!0),r=()=>F(!1),{id:i}=at(),[k]=Fs(),R=B(C=>C.getWorkDate.statusMonth),p=B(C=>C.getWorkDate.employeerTime);JSON.parse(localStorage.getItem("CRM_USER"));const Y=k.get("date");we();const[T,O]=a.useState(p.user&&p.user.status||!1),_=se(),z=[{img:Ua,title:"Jaň ",link:`tel:${p.user&&p.user.phoneNumber}`,target:"_blank"},{img:Pa,title:"Sms",link:"/chat",target:""},{img:za,title:"Poçta",target:"_blank",link:`mailto:${p.user&&p.user.mail}`}];a.useEffect(()=>{O(p.user&&p.user.status)},[p]),a.useEffect(()=>{const C={userId:i,date:N(Y).format("YYYY-MM-DD")};_(Oe(C))},[_]);const $=()=>{const C={userId:i,date:N(Y).format("YYYY-MM-DD")};_(zo({body:C,data:{userId:i,status:T!==!0}}))},Q=C=>{C&&(O(C.target.checked),$())},W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:550,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},j={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",bgcolor:"background.paper",border:"1px solid lightgray",gap:"10px",height:650,justifyContent:"center",borderRadius:"20px",display:"flex",alignItems:"center",flexDirection:"column"},v=(C,J)=>{const ne={userId:C,documentId:J,date:N(Y).format("YYYY-MM-DD")};_(Qt(ne))};return e.jsxs(n,{backgroundColor:"#fff",width:"40%",height:"82vh",borderRadius:"20px",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",position:"relative",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"30px",height:"55%",children:R==="loading..."?e.jsx(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:e.jsx(pe,{})}):R==="failed"?e.jsx(d,{textAlign:"center",height:"43%",mt:4,children:"Maglumat ýok"}):R==="succeeded"?p.length===0?e.jsx(d,{width:"100%",pt:5,textAlign:"center",fontSize:25,children:"Goşmaça resminama ýok"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{width:"40%",alignItems:"center",children:[e.jsxs(n,{alignItems:"center",children:[e.jsx(H,{sx:{height:96,width:96},children:p.user&&p.user.img===null?e.jsx(us,{alt:p.user&&p.user.name,src:p.user&&p.user.img,sx:{background:"#2F6FD0",height:96,width:96}}):e.jsx("img",{style:{width:"100%",height:"100%",borderRadius:"100px"},src:`http://192.168.1.46/images/${p.user&&p.user.img}`,alt:""})}),e.jsxs(d,{fontFamily:"DM Sans",fontWeight:"400",mt:1,fontSize:18,children:[p.user&&p.user.name," ",p.user&&p.user.surname]}),e.jsx(hs,{control:e.jsx(Ss,{checked:T,onChange:Q,color:"primary"}),label:`Işgär ${T?"Aktiw":"Aktiw däl"}`})]}),e.jsx(n,{mt:3,direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:z.map((C,J)=>e.jsxs(n,{sx:{...C.link=="tel:null"||C.link=="mailto:null"?{display:"none"}:{display:"block"}},width:50,alignItems:"center",children:[e.jsx(H,{sx:{width:50,height:50,borderRadius:"100%",border:"1px solid #000",alignItems:"center",justifyContent:"center"},children:e.jsx("a",{href:C.link,style:{width:25,height:25},target:C.target,rel:"noopener noreferrer",children:e.jsx("img",{src:C.img,style:{width:25,height:25},alt:""})})}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:14,color:"#727272",children:C.title})]},J))})]}),e.jsxs(n,{width:"60%",children:[e.jsxs(n,{alignItems:"end",position:"absolute",top:1,right:10,children:[e.jsx(H,{onClick:m,children:e.jsx(Ge,{sx:{color:"#727272",width:20,height:20}})}),e.jsx(oe,{open:o,onClose:S,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:W,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",mt:2,children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:S,children:"X"})}),e.jsx(qa,{userData:p,userId:p.user&&p.user.id,params:Y,handleClose:S})]})})]}),e.jsxs(n,{children:[p.user&&p.user.mail&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Ha,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:p.user&&p.user.mail})]}),p.user&&p.user.phoneNumber&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Na,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:p.user&&p.user.phoneNumber})]}),p.user&&p.user.languages&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Oa,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:p.user&&p.user.languages})]}),p.user&&p.user.whereStudy&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:Qa,style:{width:25,height:25},alt:"mail2"}),e.jsx(cn,{value:p.user&&p.user.whereStudy,data:e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:p.user&&p.user.whereStudy})})]})]}),e.jsxs(n,{children:[p.user&&p.user.birthday&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"16px",children:[e.jsx("img",{src:Ba,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:N(p.user&&p.user.birthday).format("DD/MM/YYYY")})]}),p.user&&p.user.whereLive&&e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,mt:"10px",children:[e.jsx("img",{src:La,style:{width:25,height:25},alt:"mail2"}),e.jsx(d,{mt:"7px",textAlign:"center",fontSize:16,color:"#727272",children:p.user&&p.user.whereLive})]}),e.jsx(G,{variant:"contained",sx:{background:"#2F6FD0",mt:2,textTransform:"revert",fontSize:16,"&:hover":{background:"#2F6FD0"}},onClick:c,children:"Düzgünnama Goşmak"})]})]})]}):null}),e.jsx(oe,{open:y,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:j,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze tertip - düzgünnama"}),e.jsx(H,{onClick:r,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(_a,{userData:p.user})]})}),e.jsx(ke,{}),e.jsx(n,{children:console.log(p)}),e.jsx(ke,{}),e.jsxs(n,{height:"45%",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:2,children:[e.jsx(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:18,children:"Resminamalar"}),e.jsx(H,{onClick:b,sx:{width:44,height:36,borderRadius:"10px"},children:e.jsx("img",{style:{width:44,height:36},src:Ja,alt:"add"})}),e.jsx(oe,{open:s,onClose:I,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(K,{sx:W,children:[e.jsx(n,{alignItems:"end",width:"100%",p:"0 20px",children:e.jsx(H,{sx:{fontWeight:600,fontSize:20},onClick:I,children:"X"})}),e.jsx(Za,{id:p.user&&p.user.id,params:Y,handleCloseDocsModal:I})]})})]}),p.documents&&p.documents.length==0?e.jsx(d,{color:"#727272",textAlign:"center",height:205,fontSize:18,fontFamily:"DM Sans",children:"Resminama ýok"}):e.jsxs(n,{height:"100%",className:"times2",overflow:"auto",children:[console.log(p.documents),p.documents&&p.documents.map((C,J)=>e.jsxs(n,{spacing:"18px",direction:"row",alignItems:"center",justifyContent:"space-between",mt:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(d,{color:"#727272",mr:2,fontFamily:"DM Sans",children:[J+1,"."]}),e.jsx(co,{sx:{color:"#727272",mr:2}}),e.jsx(ze,{to:`http://192.168.1.46/files/${C.pathPdf}`,target:"_blank",style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},children:e.jsx(d,{color:"#727272",fontFamily:"DM Sans",children:C.title})})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>x(C),children:e.jsx(Ge,{sx:{color:"#2F6FD0",width:20,height:20}})}),e.jsx(er,{open:l,handleClose:w,data:D}),e.jsx(H,{children:e.jsx(ze,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${C.pathPdf}`,children:e.jsx(bt,{sx:{color:"#2F6FD0"}})})}),e.jsx(H,{onClick:()=>v(p.user&&p.user.id,C.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})})]})]},C.id))]})]})]})},sr=({openUserModal:o,user:t,handleCloseUserModal:s,setWorkers:h,setSelectedUsers:l,allUsers:u})=>{a.useState([]);const[y,F]=a.useState([]),[D,A]=a.useState(""),[m,S]=a.useState("Başlanmadyk"),[b,I]=a.useState("");a.useState("");const[x,w]=a.useState(null),[c,r]=a.useState(null),[i,k]=a.useState(t),R=T=>{A(T.target.value)},p=T=>{S(T.target.value)};a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(O=>{F(O.data.data)})})()},[]);const Y=()=>{const T={userId:t.length&&t[t.length-1].id,name:b,status:m,priority:D,startDate:U(x).format("YYYY-MM-DD"),endDate:U(c).format("YYYY-MM-DD")};b!==""&&m!=""&&D!==""&&x!==null&&c!==null?(s(t),A(""),I(""),S(""),h(O=>[...O,T])):g.error("Dogry maglumatyňyzy giriziň!")};return a.useEffect(()=>{t.length&&k(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Be,{}),e.jsx(oe,{open:t!==void 0>0&&o,onClose:()=>{A(""),S(""),s(t!==void 0&&t[t.length-1].id)},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:400,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsxs(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:[t!==void 0&&t.length>0&&t[t.length-1].name," ",t!==void 0&&t.length>0&&t[t.length-1].surname]}),e.jsx(H,{onClick:()=>{A(""),S(""),s(t!==void 0&&t[t.length-1].id)},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:"15px",children:[e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:T=>{w(T||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:T=>{r(T||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:T=>I(T.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:D,onChange:R,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:p,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:Y,children:"Ýatda sakla"})})]})]})})]})},nr=({open:o,handleClose:t,details:s,userData:h})=>{a.useState(!1);const[l,u]=a.useState(s?s.priority:"Pes"),[y,F]=a.useState(s?s.status:"Başlanmadyk");JSON.parse(localStorage.getItem("CRM_USER"));const{id:D}=at(),[A,m]=a.useState((s==null?void 0:s.name)||""),[S,b]=a.useState(s?s.endDate&&N(s.endDate).format("YYYY-MM-DD"):null),[I,x]=a.useState(s?s.startDate&&N(s.startDate).format("YYYY-MM-DD"):null);B(Y=>Y.users.status);const w=B(Y=>Y.users.data);a.useEffect(()=>{s&&(m(s.name||""),u(s.priority||""),F(s.status||""),x(s.startDate||""),b(s.endDate||""))},[s]);const c=se();a.useState([]);const r=Y=>{u(Y.target.value)},i=Y=>{F(Y.target.value)};a.useEffect(()=>{c(Me())},[c]);const k=Y=>{m(Y.target.value)},R=(Y,T)=>{},p=()=>{const Y={userId:D,projectId:s&&s.id,archived:!1,name:A,status:y,priority:l,startDate:U(I).format("YYYY-MM-DD"),endDate:U(S).format("YYYY-MM-DD")};A!=""&&l!=""&&I!==null&&S!=null?(c(Zt(Y)),t()):g.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",sx:{textAlign:"center",fontFamily:"DM Sans",maxWidth:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},children:s&&s.name}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:A,fullWidth:!0,onChange:k,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,defaultValue:h,fullWidth:!0,options:w,getOptionLabel:Y=>`${ee(Y.name)} ${ee(Y.surname==null?"":Y.surname)}`,disabled:!0,onChange:R,renderInput:Y=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...Y,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...Y.InputProps,endAdornment:e.jsx(e.Fragment,{children:Y.InputProps.endAdornment})}}),popupIcon:e.jsx(Je,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.startDate).isValid()?U(s&&s.startDate):null,onChange:Y=>{x(Y?Y?U(Y).format("YYYY-MM-DD"):U(s&&s.startDate):U(s&&s.startDate))},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(s&&s.endDate).isValid()?U(s&&s.endDate):null,onChange:Y=>{b(Y&&Y?U(Y).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:r,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:i,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:p,children:"Ýatda sakla"})})]})]})})})},or=({setProjectName:o,userData:t})=>{const[s,h]=a.useState(""),[l,u]=a.useState(!1);a.useState([]);const{id:y}=at(),F=B(c=>c.projectDetail.status),D=B(c=>c.projectDetail.error),A=B(c=>c.projectDetail.data);a.useState([A]);const m=se(),S=JSON.parse(localStorage.getItem("CRM_USER")),b=we();a.useEffect(()=>{m(it(y))},[y,m]),F==="succeeded"&&o(y);const I={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},x=c=>{u(!0),h(c)},w=c=>{const r={projectId:c.id,userId:y,responsibleUserId:S.id};c&&y&&m(_t(r))};return e.jsxs(n,{children:[F==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):F==="failed"?g.error(D):F==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"540px"},children:A.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(ot,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:nn.map(c=>e.jsx(X,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center",zIndex:1e3},children:c.title},c.id))})}),e.jsx(Qe,{children:A.map(c=>e.jsxs(jt,{sx:{cursor:"pointer"},children:[e.jsx(X,{onClick:()=>b(`/projects/${c.project_id?c.project_id:c.id}`),sx:I,children:c.name}),e.jsxs(X,{onClick:()=>b(`/projects/${c.project_id?c.project_id:c.id}`),sx:I,children:[N(c.startDate).format("DD.MM.YYYY")," -"," ",N(c.endDate).format("DD.MM.YYYY")]}),e.jsx(X,{onClick:()=>b(`/projects/${c.project_id?c.project_id:c.id}`),sx:I,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${Math.floor(c.completion)}%`,height:"14px",backgroundColor:"#2F6FD0",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#2F6FD0"},children:`${Math.floor(c.completion)}%`})]})}),e.jsx(X,{onClick:()=>b(`/projects/${c.project_id?c.project_id:c.id}`),sx:{...I},children:c.priority=="Pes"?e.jsx(d,{backgroundColor:"#d4f4fc",borderRadius:"50px",color:"gray",width:"100%",textAlign:"center",children:"Pes"}):c.priority=="Orta"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(d,{backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(X,{onClick:()=>b(`/projects/${c.project_id?c.project_id:c.id}`),sx:I,children:c.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",width:"100%",textAlign:"center",children:"Dowam edýän"}):c.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",borderRadius:"50px",color:"#FF6A54",children:c.status})}),e.jsx(X,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>x(c),children:e.jsx(Ge,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>w(c),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]})})]}))})]})})}):"",e.jsx(nr,{open:l,handleClose:()=>u(!1),details:s,userData:t})]})},ar=({open:o,handleClose:t,userData:s})=>{const[h,l]=a.useState(!1),[u,y]=a.useState("Orta"),[F,D]=a.useState("Başlanmadyk"),[A,m]=a.useState([]),[S,b]=a.useState([]);a.useState("");const[I,x]=a.useState(""),[w,c]=a.useState(""),[r,i]=a.useState("");B(j=>j.users.status);const k=B(j=>j.users.data),R=se(),[p,Y]=a.useState([]),T=j=>{y(j.target.value)},O=j=>{D(j.target.value)},_=j=>{j.length?(l(!0),b(j)):m(j)},z=j=>{j?(m(v=>v.filter(C=>C.id!==j)),b(v=>v.filter(C=>C.id!==j))):m(newValues),l(!1)};a.useEffect(()=>{R(Me())},[R]);const $=j=>{x(j.target.value)},Q=(j,v)=>{v.length<A.length?(p.filter(C=>!v.some(J=>J.id===C.id)),m(v),Y(p.filter(C=>v.some(J=>J.id!==C.id))),b(S.filter(C=>v.some(J=>J.id!==C.id)))):(v||v[0].id)&&(_(v),m(()=>v.map(C=>({id:C.id?C.id:C.userId,name:C.name,surname:C.surname}))))},W=()=>{const v={body:{name:I,status:F,priority:u,startDate:U(r).format("YYYY-MM-DD"),endDate:U(w).format("YYYY-MM-DD"),tasks:[{userId:s[0].id,name:I,status:F,priority:u,startDate:U(r).format("YYYY-MM-DD"),endDate:U(w).format("YYYY-MM-DD")}]},userId:s[0].id};I!=""&&u!=""&&r!==""&&w!=""&&s.length!=0?(R(ts(v)),t(),m([]),Y([]),x("")):g.error("Dogry maglumatyňyzy giriziň!")};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:o,onClose:t,disableAutoFocus:!0,children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:470,bgcolor:"background.paper",boxShadow:24,zIndex:10,borderRadius:"10px"},children:[e.jsxs(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Täze proýekt"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsxs(n,{p:"20px 20px 30px ",spacing:2,children:[e.jsx(n,{spacing:2,direction:"row",children:e.jsx(L,{label:"Proýektiň Ady",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:I,fullWidth:!0,onChange:$,sx:{borderRadius:"8px",height:56}})}),e.jsx(De,{id:"combo-box-demo",multiple:!0,defaultValue:s,fullWidth:!0,options:k,getOptionLabel:j=>`${ee(j.name)} ${ee(j.surname==null?"":j.surname)}`,disabled:!0,onChange:Q,renderInput:j=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...j,label:"Ýerine ýetirýän",fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined",InputProps:{...j.InputProps,endAdornment:e.jsx(e.Fragment,{children:j.InputProps.endAdornment})}}),popupIcon:e.jsx(Je,{})}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:j=>{i(j||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:j=>{c(j||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,onChange:T,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:F,onChange:O,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:W,children:"Ýatda sakla"})})]})]})}),e.jsx(sr,{user:S,setSelectedUsers:b,openUserModal:h,handleCloseUserModal:z,setWorkers:Y,allUsers:k})]})},rr=({data:o})=>{const[t,s]=a.useState("");B(m=>m.users.data),a.useState(!1);const[h,l]=a.useState(!1),[u,y]=a.useState([o]);a.useEffect(()=>{y([o])},[o]);const F=()=>l(!0),D=()=>l(!1);we();const A=m=>{s(m)};return e.jsx(K,{height:"90vh",p:"0 15px",backgroundColor:"#F8F9FA",children:e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:"96%",borderRadius:"12px",p:"20px",mt:1,boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",justifyContent:"space-between",p:"0 20px",borderRadius:"12px",direction:"row",children:[e.jsx(n,{width:"100%",children:e.jsx(d,{p:"5px 10px",fontSize:"23px",fontFamily:"DM Sans",fontWeight:"600",textAlign:"center",width:"100%",children:"Proýektleri"})}),e.jsxs(G,{sx:{color:"#fff",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:F,children:[e.jsx(Je,{}),"Proýekt goşmak"]}),e.jsx(ar,{open:h,userData:u,handleClose:D})]}),e.jsx(or,{setProjectName:A,userData:u})]})})},ir=({projectId:o,allUsers:t,openUserModal:s,handleCloseUserModal:h})=>{const[l,u]=a.useState(),[y,F]=a.useState([]),[D,A]=a.useState(""),[m,S]=a.useState("Başlanmadyk"),[b,I]=a.useState("");a.useState("");const[x,w]=a.useState(null),[c,r]=a.useState(null),i=se(),k=T=>{A(T.target.value)},R=T=>{S(T.target.value)};a.useEffect(()=>{(async()=>{await E.get("/project/status/priority").then(O=>{F(O.data.data)})})()},[]);const p=T=>{u(T.target.value)},Y=()=>{const T={projectId:o,userId:l,name:b,status:m,priority:D,startDate:U(x).format("YYYY-MM-DD"),endDate:U(c).format("YYYY-MM-DD")};b!==""&&m!=""&&D!==""&&x!==null&&c!==null?(i(es({body:T,projectID:o})),h(),A(""),I(""),S(""),u()):g.error("Dogry maglumatyňyzy giriziň!")};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:s,onClose:()=>{A(""),I(""),S(""),u(),h()},disableAutoFocus:!0,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},children:e.jsxs(K,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,height:440,bgcolor:"background.paper",boxShadow:14,zIndex:1e3,borderRadius:"10px"},children:[e.jsx(n,{bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"flex-end",alignItems:"end",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:e.jsx(H,{onClick:()=>{A(""),I(""),S(""),u(),h()},children:e.jsx(he,{sx:{color:"#fff"}})})}),e.jsxs(n,{p:"15px 20px 30px ",spacing:"10px",children:[e.jsxs(le,{children:[e.jsx(ce,{id:"age-label",children:"Işgär"}),e.jsx(de,{labelId:"age-label",value:l,label:"Işgärler",onChange:p,children:t.map(T=>e.jsxs(V,{value:T.id,children:[T.name," ",T.surname]},T.id))})]}),e.jsx(n,{direction:"row",width:"100%",children:e.jsx(fe,{dateAdapter:me,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:e.jsxs(n,{pt:0,width:"100%",direction:"row",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Başlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:T=>{w(T||null)},format:"DD.MM.YYYY"})]}),e.jsxs(n,{pt:0,width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:500,textAlign:"start",color:"#474747",children:"Tamamlanýan wagty"}),e.jsx(ie,{fullWidth:!0,onChange:T=>{r(T||null)},format:"DD.MM.YYYY"})]})]})})})}),e.jsx(L,{label:"Etmeli işi",variant:"outlined",placeholder:"web saýt... ",autoComplete:"off",value:b,fullWidth:!0,onChange:T=>I(T.target.value),sx:{borderRadius:"8px",height:56}}),e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Wajyplygy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:D,onChange:k,label:"Wajyplygy",children:[e.jsx(V,{value:"Ýokary",children:"Ýokary"}),e.jsx(V,{value:"Orta",children:"Orta"}),e.jsx(V,{value:"Pes",children:"Pes"})]})]}),e.jsxs(le,{fullWidth:!0,variant:"outlined",children:[e.jsx(ce,{id:"demo-simple-select-label",children:"Statusy"}),e.jsxs(de,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:R,label:"Statusy",children:[e.jsx(V,{value:"Dowam edýän",children:"Dowam edýän"}),e.jsx(V,{value:"Başlanmadyk",children:"Başlanmadyk"}),e.jsx(V,{value:"Tamamlanan",children:"Tamamlanan"}),e.jsx(V,{value:"Ýatyryldy",children:"Ýatyryldy"})]})]})]}),e.jsx(n,{alignItems:"end",pt:"10px",children:e.jsx(G,{sx:{border:"1px solid #2F6FD0",width:115,height:40,textTransform:"revert",borderRadius:"20px",color:"#2F6FD0",backgroundColor:"#f0f7ff"},onClick:Y,children:"Ýatda sakla"})})]})]})})})},lr=({setProjectName:o})=>{const[t,s]=a.useState(""),[h,l]=a.useState(!1),[u,y]=a.useState([]),{id:F}=at(),D=B(c=>c.projectDetail.status),A=B(c=>c.projectDetail.error),m=B(c=>c.projectDetail.data);a.useState([m]);const S=se(),b=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{D==="succeeded"&&o(m[0].name)},[D,m,o]),a.useEffect(()=>{S(qt(F))},[S]);const I={p:2,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:500},x=c=>{l(!0),s(c)},w=c=>{const r={projectId:F,taskId:c.id,responsibleUserId:b.id};c&&F&&S($t({body:r,age:F}))};return e.jsxs(n,{children:[D==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):D==="failed"?g.error(A):D==="succeeded"?e.jsx(n,{sx:{overflow:"auto",height:"94%",minHeight:"340px"},children:m.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Proýekt ýok"}):e.jsx(ot,{children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#fff",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Vo.map(c=>e.jsx(X,{sx:{fontFamily:"DM Sans",color:"#222222",fontWeight:600,fontSize:16,textAlign:"center"},children:c.title},c.id))})}),e.jsx(Qe,{children:m.map(c=>c.tasks&&c.tasks.map(r=>e.jsxs(jt,{children:[e.jsx(X,{sx:I,children:r.name}),e.jsxs(X,{sx:I,children:[r.user&&r.user.name," ",r.user&&r.user.surname]}),e.jsxs(X,{sx:I,children:[N(r.startDate).format("DD.MM.YYYY")," -"," ",N(r.endDate).format("DD.MM.YYYY")]}),e.jsx(X,{sx:I,children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:.3,children:[e.jsx(n,{sx:{width:"80%",height:"14px",backgroundColor:"#DDDDDD",borderRadius:"100px",gap:"10px"},direction:"row",children:e.jsx(n,{style:{width:`${r.completionTask}%`,height:"14px",backgroundColor:"#00B69B",borderRadius:"100px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.jsx(n,{style:{fontSize:13,color:"#00B69B"},children:`${r.completionTask}%`})]})}),e.jsx(X,{sx:{...I},children:r.priority=="Pes"?e.jsx(d,{backgroundColor:"#F0F7FF",borderRadius:"50px",color:"gray",border:"1px solid lightblue",width:"100%",textAlign:"center",children:"Pes"}):r.priority=="Orta"?e.jsx(d,{border:"1px solid #29D697",backgroundColor:"#E9FAF4",borderRadius:"50px",color:"#29D697",children:"Orta"}):e.jsx(d,{border:"1px solid #9A93FF",backgroundColor:"#9A93FF26",borderRadius:"50px",color:"#9A93FF",children:"Ýokary"})}),e.jsx(X,{sx:I,children:r.status=="Dowam edýän"?e.jsx(d,{backgroundColor:"#FFF1E0",borderRadius:"50px",color:"#E79124",border:"1px solid #E79124",textAlign:"center",children:"Dowam edýän"}):r.status=="Tamamlanan"?e.jsx(d,{backgroundColor:"#E9FAF4",borderRadius:"50px",border:"1px solid #29D697",color:"#29D697",children:"Tamamlanan"}):e.jsx(d,{backgroundColor:"#FFF0ED",border:"1px solid #FF6A54",borderRadius:"50px",color:"#FF6A54",children:r.status})}),e.jsx(X,{sx:{width:"100px"},children:e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{sx:{...r.user&&r.user.id===b.id||b.role==="ADMIN"?{display:"flex"}:{display:"none"}},onClick:()=>x({task:r,user:r.user}),children:e.jsx(Ge,{sx:{color:"#0099ED",width:20,height:20}})}),b.role==="USER"?"":e.jsx(H,{onClick:()=>w(r),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})})]})})]},r.id)))})]})})}):"",e.jsx(dn,{user:t,setSelectedUsers:s,openUserModal:h,handleCloseUserModal:()=>l(!1),setWorkers:y})]})},dr=()=>{const[o,t]=a.useState(""),s=B(m=>m.users.data),[h,l]=a.useState(!1),u=JSON.parse(localStorage.getItem("CRM_USER")),y=we(),F=m=>{t(m)},D=()=>{l(!0)},A=()=>{l(!1)};return e.jsxs(K,{height:"100vh",p:1,width:"100%",backgroundColor:"#fff",overflow:"auto",children:[u.role==="USER"?"":e.jsx(ln,{}),e.jsxs(n,{backgroundColor:"#fff",width:"100%",minHeight:u.role==="USER"?"97%":"80%",borderRadius:"12px",p:"20px",mt:2,boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",children:[e.jsxs(n,{backgroundColor:"#F6FDFD",alignItems:"center",sx:{...u.role==="USER"?"":{justifyContent:"space-between"}},p:"10px 20px",borderRadius:"12px",direction:"row",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(ze,{to:"#",onClick:()=>y(-1),style:{textDecoration:"none",color:"#474747",display:"flex",height:"100%",alignItems:"center",gap:"10px",padding:"15px 0"},children:e.jsx(qs,{})}),e.jsx(d,{width:"100%",textAlign:"center",fontSize:"24px",fontFamily:"DM Sans",fontWeight:"500",children:o!==""&&o})]}),e.jsx(n,{alignItems:"center",justifyContent:"center",sx:{...u.role==="USER"?{display:"none"}:{display:"block"}},children:e.jsxs(G,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:190,height:45,borderRadius:"20px"},variant:"outlined",onClick:D,children:[e.jsx(Xs,{}),"Ýerine Ýetirýän"]})})]}),e.jsx(lr,{setProjectName:F}),u.role==="USER"?"":e.jsx(ir,{openUserModal:h,handleCloseUserModal:A,allUsers:s,projectId:o!==""?o.id:null})]})]})},cr=()=>{a.useState("");const{id:o}=at(),[t]=Fs(),s=we(),h=se(),l=B(r=>r.getWorkDate.statusMonth),u=B(r=>r.getWorkDate.errorMonth),y=B(r=>r.getWorkDate.employeerTime),F=t.get("date"),[D,A]=a.useState(null);a.useEffect(()=>{const r={userId:o,date:N(F).format("YYYY-MM-DD")};h(Oe(r))},[h]);const m=r=>{A(i=>i===r?null:r)},S={p:0,textAlign:"center",fontFamily:"DM Sans",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},b=l==="succeeded"&&y.employeerTime.reduce((r,i)=>{const k=new Date(i.comeTime).toISOString().split("T")[0];if(r[k]||(r[k]={totalMinutes:0,firstComeTime:i.comeTime,lastLeaveTime:i.leaveTime,note:i.note,workSessions:[]}),i.comeTime&&i.id){const R=new Date(i.comeTime);let Y=(new Date(i.leaveTime)-R)/(1e3*60);Y<0&&(Y=0),r[k].totalMinutes+=Y,r[k].workSessions.push({comeTime:i.comeTime,leaveTime:i.leaveTime,duration:Y,note:i.note}),r[k].firstComeTime>i.comeTime&&(r[k].firstComeTime=i.comeTime),(!r[k].lastLeaveTime||r[k].lastLeaveTime<i.leaveTime)&&(r[k].lastLeaveTime=i.leaveTime),!r[k].note&&i.note&&(r[k].note=i.note)}return r},{}),I=Object.keys(b).map(r=>{const{totalMinutes:i,firstComeTime:k,lastLeaveTime:R,note:p}=b[r],Y=Math.floor(i/60),T=i%60;return{date:r,totalHours:Y,totalMinutes:Math.ceil(T),firstComeTime:k,lastLeaveTime:R,workSessions:b[r].workSessions,note:p}});console.log(y);const w=l==="succeeded"&&(r=>{const i=r.reduce((Y,T)=>{const O=new Date(T.comeTime).toISOString().split("T")[0];return Y[O]||(Y[O]=[]),Y[O].push(new Date(T.comeTime)),Y},{});let k=0;Object.entries(i).forEach(([Y,T])=>{const O=T.sort((z,$)=>z-$)[0],_=new Date(O);if(_.setHours(9,0,0,0),O>_){const z=O-_,$=Math.floor(z/(1e3*60));k+=$}});const R=Math.floor(k/60),p=k%60;return{totalLateHours:R,totalLateMinutes:k,totalLateTimeFormatted:`${R} hours and ${p} minutes`}})(y.employeerTime);console.log("Total Late Time:",w);const c=Qo(y,w);return console.log(c),e.jsxs(K,{backgroundColor:"#fff",overflow:"auto",height:"100vh",children:[e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.jsxs(ze,{to:"#",onClick:()=>s(-1),style:{textDecoration:"none",color:"#474747",display:"flex",alignItems:"center",marginLeft:10},children:[e.jsx(qs,{}),e.jsx(d,{p:"5px 10px",fontSize:"20px",fontFamily:"Montserrat",fontWeight:"600",sx:{"&:hover":{textDecoration:"underline"}},children:"Işgärler / Profili"})]})}),e.jsxs(n,{pb:1,direction:"row",alignItems:"center",justifyContent:"space-around",children:[e.jsx(tr,{data:y}),e.jsx(n,{backgroundColor:"#fff",width:"57%",height:"82vh",borderRadius:"20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(n,{children:l==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):l==="failed"?g.error(u):l==="succeeded"?e.jsx(ot,{sx:{height:"82.5vh",overflowY:"scroll",borderRadius:"20px"},className:"times2",children:e.jsxs(Le,{sx:{justifyContent:"space-between",height:"100%"},children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",top:0,zIndex:100,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)"},children:Ho.map(r=>e.jsx(X,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center",p:1.4},children:r.title},r.id))})}),e.jsx(Qe,{children:I.map((r,i)=>e.jsxs(e.Fragment,{children:[e.jsxs(ye,{children:[e.jsxs(X,{sx:{...S,direction:"row",justifyContent:"space-between"},children:[e.jsx(H,{onClick:()=>m(r.date),children:D===r.date?e.jsx(uo,{}):e.jsx(ho,{})}),N(r.date).format("DD.MM.YYYY")]}),e.jsx(X,{sx:S,children:N(r.firstComeTime).format("HH:mm")}),e.jsx(X,{sx:S,children:r.lastLeaveTime==null?e.jsx(d,{color:"tomato",children:"-"}):N(r.lastLeaveTime).format("HH:mm")}),e.jsx(X,{sx:S,children:`${r.totalHours}:${r.totalMinutes}`}),e.jsx(X,{sx:{...S,color:"tomato"},children:new Date(r.firstComeTime).getHours()>=9&&(new Date(r.firstComeTime).getHours()-9>0||new Date(r.firstComeTime).getMinutes()>0)?e.jsxs(e.Fragment,{children:[new Date(r.firstComeTime).getHours()-9>0&&new Date(r.firstComeTime).getHours()-9+"(sag)",new Date(r.firstComeTime).getMinutes()>0&&e.jsxs(e.Fragment,{children:[new Date(r.firstComeTime).getHours()-9>0&&":",new Date(r.firstComeTime).getMinutes(),"(min)"]})]}):""}),e.jsx(X,{sx:S,children:r.note})]},r.date),e.jsx(ye,{children:e.jsx(X,{colSpan:7,sx:{paddingBottom:0,paddingTop:0},children:e.jsx(po,{in:D===r.date,timeout:"auto",unmountOnExit:!0,children:e.jsxs(K,{margin:1,children:[e.jsx(d,{variant:"h6",children:"Işlän wagtlary:"}),e.jsxs(Le,{size:"small",children:[e.jsx(He,{children:e.jsxs(ye,{children:[e.jsx(X,{children:"Gelen wagty"}),e.jsx(X,{children:"Giden wagty"}),e.jsx(X,{children:"Işlän sagady"}),e.jsx(X,{children:"Belligi"})]})}),e.jsx(Qe,{children:r.workSessions.map((k,R)=>e.jsxs(ye,{children:[e.jsx(X,{children:k.comeTime?N(k.comeTime).format("HH:mm"):"-"}),e.jsx(X,{children:k.leaveTime?N(k.leaveTime).format("HH:mm"):"-"}),e.jsx(X,{children:k.leaveTime?`${Math.floor(k.duration/60)}(sag):${Math.ceil(k.duration%60)}(min)`:"-"}),e.jsx(X,{children:k.note?k.note:""})]},R))})]})]})})})})]}))}),e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",fontFamily:"DM Sans",position:"sticky",bottom:0,zIndex:100,boxShadow:"0px -2px 10px 0px rgba(199,199,199,1)",height:35,p:0},children:c.map(r=>e.jsx(X,{sx:{color:"#222222",fontWeight:500,fontSize:14,textAlign:"center",boxShadow:"0px -6px 9px 0px rgba(199,199,199,1)",p:.6},children:r.title}))})]})}):""})})]}),e.jsx(rr,{data:y.user})]})},pn="/assets/pattern-7eLabnOn.png",ur=({openModal:o,events:t,setStartDate:s,setEndDate:h,holidays:l})=>{N.locale("tk"),N.updateLocale("tk",{weekdays:tn.slice(0,7)}),N.updateLocale("tk",{months:sn}),JSON.parse(localStorage.getItem("CRM_USER"));const[u,y]=a.useState(N()),[F,D]=a.useState(null);a.useState(""),a.useState(!1);const[A,m]=a.useState("month"),S=()=>{let p,Y;if(A==="month")p=u.clone().startOf("month").startOf("isoWeek"),Y=u.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(A==="week")p=u.clone().startOf("isoWeek"),Y=u.clone().endOf("isoWeek").subtract(1,"day");else return[];const T=p.clone().subtract(1,"day"),O=[];for(;T.isBefore(Y,"day");)O.push(Array(7).fill(0).map(()=>T.add(1,"day").clone()));return O.length===5&&O[4][6].isBefore(Y,"day")&&O.push(Array(7).fill(0).map(()=>T.add(1,"day").clone())),{calendar:O,firstDay:p.format("YYYY MM DD"),lastDay:Y.format("YYYY MM DD"),endDay:Y,startDay:p}};a.useEffect(()=>{const{startDay:p,endDay:Y}=S();s(p.format("YYYY-MM-DD")),h(Y.format("YYYY-MM-DD"))},[u,A,s,h]);const b=p=>p.day()===0,I=p=>{D(p),b(p)||o(p.format("YYYY-MM-DD"))},x=p=>l&&l.some(Y=>N(Y.date).isSame(p,"day")),w=p=>t.some(Y=>N(Y.comeTime).isSame(p,"day")),c=p=>t.filter(Y=>N(Y.comeTime).isSame(p,"day")),r=()=>{if(A==="day")return renderDayView();{const p=S();return e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{children:N.weekdays().map((Y,T)=>e.jsx(X,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...T===0?{borderTopLeftRadius:"12px"}:"",...N.weekdays().length-1===T?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:Y},T))})}),e.jsx(Qe,{children:p.calendar.map((Y,T)=>e.jsx(ye,{children:Y.map((O,_)=>e.jsxs(X,{onClick:()=>{I(O)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:b(O)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:O.month()===u.month()?"#474747":"#959494",...O.month()===u.month()?"":{backgroundImage:`url(${pn})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...N().isSame(O,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%",zIndex:100}},children:O.format("D")}),w(O)&&t.filter(z=>N(z.comeTime).isSame(O,"day")).map((z,$)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:z.color?"#e5dffb":"white",color:O?z.color:"blue",borderLeft:`6px solid ${z.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(d,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:ee(z.note)}),c(O).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:z.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",c(O).length-1]})]},$)),x(O)&&l.filter(z=>N(z.date).isSame(O,"day")).map((z,$)=>e.jsx(n,{style:{fontSize:"14px",backgroundColor:z.color?"transparent":"white",color:O?z.color:"blue",border:`3px solid ${z.color}`,height:"100%",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"flex-end",alignItems:"end",spacing:1,children:e.jsx(d,{width:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"start",pt:2,children:z.name})},$))]},_))},T))})]})}},i=()=>{y(u.clone().subtract(1,"month"))},k=()=>{y(u.clone().add(1,"month"))},R=()=>{y(N())};return e.jsxs(n,{p:"10px 15px 5px 15px",children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(G,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",minHeight:"40px"},onClick:R,children:"Şu gün"}),e.jsxs(n,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656"},onClick:i,children:e.jsx(Zs,{sx:{width:18,height:20}})}),e.jsx(d,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:u.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656"},onClick:k,children:e.jsx(Ks,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(G,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...A==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"}}:{background:"#fff"}},onClick:()=>m("week"),children:"Hepde"}),e.jsx(G,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...A=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#809c85"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>m("month"),children:"Aý"})]})]})]}),r()]})},hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFMSURBVHgBzZUxTgMxEEX/2Bu0QkLKEZYKIVHkCOEGUIDELeihCAJEyRFSUqTIFcIJki6CBucESU/sYTdRCmKTmYQt8prVjvfPt72eMUGgM+w2bZ63UmMecJ3TG7dJn0HAHh61CdxPjgWclw+3SW8gYCg4/APZwPvZX2MecwcBgoKnjx6n4vcnV6JeXMEC5kkUAjso0BkYmiJ2mKikmo8QWJVsdwOm6EcTmS8oUBkw4qPKwde3RQbk1mPEPNNpFQRjomScMN3ZIFnNZOpbQaqaNVW8mAeUrFezpoorxG66gpnfy4wFltOaYl9Qb1F18TTy/MLDIsAPpItmK4OX8VvhbTYsz2azeq8anfnG5d3Z9UjSqk6Rp6y7Sr6cFRV8QK8ara4XgY+jCHMBBUoDRFtRNrsBFKgMLDdu6XdrGM29fUDdPI577efPfmsbzQ/mEmtiWItDBwAAAABJRU5ErkJggg==",pr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH2SURBVHgB7ZlNTsJAFIDfVHCNC3TrEeAIbiTEhV7BE0hPQDlB4QSegYVRcYGeQI/gzgRi5ADQ57zYmmaYAr5Oh4mZLyHpzwTmy5u+94YCeDyePAKYxPcfp+KgdisPW/LTgBL0zpvseRA1YJAKvELJyZsiAA5BMARHBAiWhBDBJVgknsxao8d5v+g+azmplF3TmyABAWKKAhpSBG46zYE6hrecLJEJQLp0pUiki4izEqpARpIka1F3UqJIAFfJIOyeROp45yT+KkA4JcERILTZaTiZY/6ck33ih3kPVvgcXhy/7TSeKUBUEonR02dfBBCLupjGd7PWtvFlBAjjEiSAmETpaWObSFkBwriEJgUWipgQIIxLhJ1mhAhqVV0TMSVAGGk7VEgkli2CEJCvrpnIGdRpD2BGgKhEgtgkkh3nx28S2JYtK60TRUsLDEUgo/JiVyDyS1kBwkrFLhIxIUBYaztUEVMCRGUPto7sYZfFBEwJEFYlCBIBwzi9s9sVL+EKXsIVuNlpAbnWQe1tbMOLhICdtpxVgEkyVq+xJHBZu4afaNhFiAXgYU+9zJIIu0fvuKq15TZ0DDaQk0fAF1wetOm31dvsip1+2RU4gE+xrvAvJLT/7Mm8/wUW3wSVfb+hj8Qe6wAHrcTe6gATrYT1OuDxeIzyDSk9ACXAXvuiAAAAAElFTkSuQmCC",xn=({open:o,handleClose:t,startDate:s,endDate:h})=>{const[l,u]=a.useState(""),[y,F]=a.useState(""),[D,A]=a.useState("#05dac5"),m=se();B(w=>w.holidays.data.data),B(w=>w.holidays.status),B(w=>w.holidays.error);const[S,b]=a.useState([{color:"#05dac5",id:1},{color:"#4CAF50",id:2},{color:"#FF9E58",id:3},{color:"#1E88E5",id:4}]),I=w=>{A(w)},x=()=>{const w={name:l,date:U(y).format("YYYY-MM-DD"),color:D,startDate:s,endDate:h};l!==""&&y!==""?(m(ds(w)),t()):g.error("Maglumatlary giriz!")};return a.useEffect(()=>{m($e())},[m]),e.jsx(oe,{open:o,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsx(Ie,{in:o,children:e.jsxs(K,{sx:{position:"absolute",top:"35%",left:"35%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},children:[e.jsx(n,{alignItems:"end",p:"0",children:e.jsx(H,{onClick:t,sx:{p:0},children:e.jsx(he,{sx:{width:28,height:28,color:"gray",p:0}})})}),e.jsxs(n,{children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(d,{fontWeight:600,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Baýramçylyk ady"}),e.jsx(L,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:l,autoComplete:"off",name:"username",onChange:w=>u(w.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"50px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsx(n,{direction:"row",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:vs,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",spacing:"16px",children:[e.jsxs(n,{width:"50%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",fontFamily:"Montserrat",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{onChange:w=>{F(w?U(w).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsx(n,{pt:3,width:"50%",direction:"row",justifyContent:"space-between",spacing:"9px",children:S.map(w=>e.jsx(n,{onClick:()=>I(w.color),style:{backgroundColor:w.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:D===w.color?e.jsx(tt,{}):""},w.color))})]})})})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(G,{variant:"outlined",sx:{mt:2,textTransform:"revert",fontSize:16},onClick:x,children:"Ýatda sakla"})})]})})})},gn=({open:o,handleClose:t,startDate:s,endDate:h,holidayData:l})=>{const[u,y]=a.useState(l&&l.name),[F,D]=a.useState(""),[A,m]=a.useState("#05dac5"),S=se();B(c=>c.holidays.data.data),B(c=>c.holidays.status),B(c=>c.holidays.error);const[b,I]=a.useState([{color:"#05dac5",id:1},{color:"#4CAF50",id:2},{color:"#FF9E58",id:3},{color:"#1E88E5",id:4}]);a.useEffect(()=>{l&&y(l.name),l&&m(l.color),l&&D(l.date)},[l]);const x=c=>{m(c)},w=()=>{const c={id:l&&l.id,name:u,date:U(F).format("YYYY-MM-DD"),color:A,startDate:s,endDate:h};u!==""&&F!==""?(S(cs(c)),t()):g.error("Maglumatlary giriz!")};return a.useEffect(()=>{S($e())},[S]),e.jsx(oe,{open:o,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsx(Ie,{in:o,children:e.jsxs(K,{sx:{position:"absolute",top:"35%",left:"35%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},children:[e.jsx(n,{alignItems:"end",p:"0",children:e.jsx(H,{onClick:t,sx:{p:0},children:e.jsx(he,{sx:{width:28,height:28,color:"gray",p:0}})})}),e.jsxs(n,{children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(d,{fontWeight:600,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Baýramçylyk ady"}),e.jsx(L,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:u,autoComplete:"off",name:"username",onChange:c=>y(c.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"50px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsx(n,{direction:"row",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:vs,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center",width:"100%"},children:e.jsxs(n,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",spacing:"16px",children:[e.jsxs(n,{width:"50%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",fontFamily:"Montserrat",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{value:U(l&&l.date,"YYYY-MM-DD").isValid()?U(l&&l.date,"YYYY-MM-DD"):null,onChange:c=>{D(c?U(c).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsx(n,{pt:3,width:"50%",direction:"row",justifyContent:"space-between",spacing:"9px",children:b.map(c=>e.jsx(n,{onClick:()=>x(c.color),style:{backgroundColor:c.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:A===c.color?e.jsx(tt,{}):""},c.color))})]})})})})]}),e.jsx(n,{alignItems:"end",children:e.jsx(G,{variant:"outlined",sx:{mt:2,textTransform:"revert",fontSize:16},onClick:w,children:"Ýatda sakla"})})]})})})},Is=()=>{const[o,t]=a.useState(!1),[s,h]=a.useState(()=>JSON.parse(localStorage.getItem("holidayShown"))),[l,u]=a.useState(!1),[y,F]=a.useState(!1),[D,A]=a.useState([]),[m,S]=a.useState("#7551E9"),[b,I]=a.useState(null),[x,w]=a.useState({}),[c,r]=a.useState(""),[i,k]=a.useState(""),[R,p]=a.useState(""),[Y,T]=a.useState([]),[O,_]=a.useState(),[z,$]=a.useState(),[Q,W]=a.useState(),[j,v]=a.useState(),C=se(),J=JSON.parse(localStorage.getItem("CRM_USER")),ne=B(M=>M.getWorkDate.data),Fe=B(M=>M.getWorkDate.statusMonth),Ye=B(M=>M.holidays.data.data),Z=B(M=>M.holidays.status);B(M=>M.holidays.error),a.useEffect(()=>{const M={startDate:U(i).format("YYYY-MM-DD"),endDate:U(R).format("YYYY-MM-DD")};i!==""&&R!==""&&C($e(M))},[i,R,C]);const ae=B(M=>M.getWorkDate.employeerTime.employeerTime),P=B(M=>M.getWorkDate.adminNotes),xe=B(M=>M.getWorkDate.adminNote),ge=B(M=>M.getWorkDate.statusAdminNote),Ce=B(M=>M.getWorkDate.status);N.locale("tk"),a.useEffect(()=>{A([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]);const Re=M=>{const ue={userId:J.id,date:M};N().isSame(M,"day")&&C(At(ue))},ve=ne.filter(M=>M.leaveTime===null);a.useEffect(()=>{const M={userId:J.id,date:N(i).add(13,"days").format("YYYY-MM-DD")};i!==""&&C(Oe(M))},[i,C]),a.useEffect(()=>{const M={startDate:i,endDate:R,userId:J.id};(M.startDate||M.endDate!=="")&&(C(Ft(M)),C(zt(J.id)))},[i,R,C]);const Te=Fe==="succeeded"&&ae.reduce((M,ue)=>{if(ue.note!==null){const re=N(ue.comeTime).format("YYYY-MM-DD");M[re]||(M[re]=[]),M[re].push(ue)}return M},{});ge==="succeeded"&&P.reduce((M,ue)=>{if(ue.note!==null){const re=N(ue.date,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD");M[re]||(M[re]=[]),M[re].push(ue)}return M},{});const Ve=M=>{S(M)},et=()=>{F(!1),t(!1),T([])},je=M=>{I(M),t(!0),Re(M)},dt=()=>{const M={userId:J.id,comeStatus:!0,userGetTime:{id:J.id,date:b}};C(St(M))},ct=()=>{const M={userId:J.id,leaveStatus:!0,userGetTime:{id:J.id,date:b}};C(Dt(M))},Xe=Fe==="succeeded"?ae.filter(M=>M.note!==null):[],ms=()=>{const M={id:ne[ne.length-1].id,note:c,color:m,userGetTime:{id:J.id,date:b}};c!==""&&C(kt(M)),r("")},Ee=()=>{const M={id:z.id,note:c,color:m,userGetTime:{id:J.id,date:b}};c!==""?C(It(M)):g.error("Maglumatlary giriziň!"),r("")},Ne=M=>{M.preventDefault(),b&&(w({text:c,color:m}),ms(),t(!1))},js=()=>{Ee(),w({text:c,color:m}),F(!1)},qe=M=>{r(M.note),$(M),F(!0),_(M.id)},ut=M=>{const ue={id:M,userId:J.id,date:N(i).add(13,"days").format("YYYY-MM-DD")};ue.id&&ue.userId&&C(Pt(ue))},Ze=M=>{const ue={id:M,startDate:U(i).format("YYYY-MM-DD"),endDate:U(R).format("YYYY-MM-DD")};ue.id&&C(mt(ue))},ht=M=>{W(M),v(!0)};return e.jsx(K,{backgroundColor:"#fff",children:e.jsxs(n,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsxs(n,{direction:"column",width:"28%",height:"88vh",children:[e.jsx(n,{backgroundColor:"#fff",spacing:2,width:"90%",borderRadius:"20px",m:"0px 20px ",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",mb:"14px",sx:{display:"flex",minHeight:"200px",maxHeight:"35%"},className:"notes",overflow:"auto",children:e.jsxs(n,{maxHeight:"100%",children:[e.jsx(n,{direction:"row",children:e.jsx(d,{textAlign:"start",fontWeight:600,color:"#DC6262",fontSize:15,mb:"10px",p:"18px 20px 0 14px",children:"Admindan bellik"})}),e.jsx(xn,{open:l,handleClose:()=>u(!1),startDate:i,endDate:R}),e.jsx(gn,{open:j,handleClose:()=>v(!1),holidayData:Q,startDate:i,endDate:R}),e.jsx(n,{children:ge==="loading..."?e.jsxs(n,{direction:"column",height:"10%",alignItems:"center",sx:{gap:"10px",mt:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):ge==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"33%",mt:4,children:"Ýalňyşlyk!"}):ge==="succeeded"?P.length==0&&xe.length==0?e.jsx(d,{pt:4,textAlign:"center",children:"Bellik ýok"}):P.map(M=>e.jsxs(n,{children:[e.jsx(ke,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"3px",borderRadius:"5px"},direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:hr,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:ee(M.title)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(M.date).format("DD.MM.YYYY HH:mm")})]})]})]},M.id)):""}),e.jsx(n,{children:xe.map(M=>e.jsxs(n,{children:[e.jsx(ke,{sx:{width:"100%"}}),e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"5px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx("img",{src:pr,alt:""})}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:ee(M.content)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(M.createdAt).format("DD.MM.YYYY HH:mm")})]})]},M.id)]},M.id))})]})}),e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"90%",sx:{height:"100%"},borderRadius:"20px",alignItems:"center",m:"0px 20px ",p:"20px 10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",overflow:"auto",children:[e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(G,{variant:"outlined",sx:{fontWeight:600,color:"#474747",textTransform:"revert",fontSize:14,width:"100%",height:"45px",...s==!0?{bgcolor:"#2F6FD0",color:"#fff","&:hover":{bgcolor:"#2F6FD0",color:"#fff"}}:{bgcolor:"#fff",color:"#474747","&:hover":{bgcolor:"#fff",color:"#474747"}}},onClick:()=>{h(!0),localStorage.setItem("holidayShown",JSON.stringify(!0))},children:"Ýetişik bellikleri"}),e.jsx(G,{variant:"outlined",sx:{fontWeight:600,color:"#474747",textTransform:"revert",fontSize:14,width:"90%",height:"45px","&:hover":{bgcolor:"#fff",color:"#474747"},...s==!1?{bgcolor:"#2F6FD0",color:"#fff","&:hover":{bgcolor:"#2F6FD0",color:"#fff"}}:{bgcolor:"#fff",color:"#474747"}},onClick:()=>{h(!1),localStorage.setItem("holidayShown",JSON.stringify(!1))},children:"Baýramçylyklar"})]}),e.jsx(ke,{sx:{width:"100%"}}),s==!0?Fe==="loading..."||ge==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):Fe==="failed"||ge==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):Fe==="succeeded"||ge==="succeeded"?Xe.length===0||Xe===void 0?e.jsx(d,{pt:4,children:"Bellik ýok"}):e.jsx(Ie,{in:s==!0,style:{transformOrigin:"0 0 0"},timeout:500,children:e.jsx(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:e.jsx(n,{children:Object.keys(Te).map((M,ue)=>e.jsxs(ps,{children:[e.jsx(xs,{expandIcon:e.jsx(gs,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:N(M).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:Te[M].length})]})}),e.jsx(fs,{sx:{p:0},children:Te[M].map(re=>e.jsxs(n,{children:[e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:re.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:ee(re.note)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(re.comeTime).format("DD.MM.YYYY HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...N().isSame(re.comeTime,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>qe(re),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>ut(re.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]}),e.jsx(ke,{sx:{width:"100%"}})]},re.id))})]},ue))})})}):"":e.jsxs(n,{width:"100%",children:[e.jsxs(G,{variant:"outlined",sx:{...J.role=="USER"&&{display:"none"},width:"100%",textTransform:"revert",mt:1,border:"0.5px solid green",color:"green","&:hover":{border:"0.5px solid green"}},onClick:()=>u(!0),children:[e.jsx(Je,{sx:{color:"green",width:25,height:25,mr:2}}),"Baýramçylyk güni goşmak"]}),e.jsx(n,{children:Z==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):Z==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):Z==="succeeded"?Ye.length?Ye.map(M=>e.jsx(Ie,{in:s==!1,children:e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsxs(n,{direction:"row",gap:"15px",alignItems:"center",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:M.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:M.name}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(M.date).format("DD.MM.YYYY")})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...N().isSame(M.comeTime,"day")&&J.role!=="USER"?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>ht(M),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>Ze(M.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]})})):e.jsx(d,{pt:4,textAlign:"center",children:"Baýramçylyk ýok"}):""})]}),N(b).isAfter(N(),"day")?"":e.jsx(oe,{closeAfterTransition:!0,open:o,onClose:et,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:o,style:{transformOrigin:"1 0 0"},timeout:500,children:e.jsxs(K,{sx:No,height:"605px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{...N().isSame(b,"day")?{marginBottom:"0px"}:{marginBottom:"85px"}},children:[e.jsx(d,{textAlign:"end",fontFamily:"Montserrat",fontSize:32,width:"70%",color:"#474747",fontWeight:500,children:N(b).format("DD.MM.YYYY")}),e.jsx(H,{onClick:et,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})]}),e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"center",spacing:"20px",pt:"10px",pb:"10px",sx:{...N().isSame(b,"day")?{display:"flex"}:{display:"none"}},children:[e.jsx(G,{disabled:ve.length>0,sx:{...ve.length==0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,border:"1px solid #D5D5D5",borderRadius:"50px",height:55,"&:hover":{background:"#78a880"}},onClick:dt,children:"Geldim"}),e.jsx(G,{disabled:ve.length==0,sx:{...ve.length>0?{backgroundColor:"#9FC2A5",color:"#fff"}:{backgroundColor:"#F5F6FA",color:"#474747"},textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,"&:hover":{background:"#78a880"}},onClick:ct,children:"Gitdim"})]}),Ce==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(pe,{}),"Loading..."]}):Ce==="failed"?e.jsx(d,{textAlign:"center",sx:{...N().isSame(b,"day")?{height:"28%"}:{height:"36%"}},mt:4,fontSize:35,children:"Maglumat ýok"}):Ce==="succeeded"?ne.length===0?e.jsx(d,{mt:4,textAlign:"center",sx:{...N().isSame(b,"day")?{height:"35%"}:{height:"36%"}},fontSize:35,children:"Maglumat ýok"}):e.jsxs(n,{sx:{...N().isSame(b,"day")?{minHeight:"42%",maxHeight:"28%"}:{height:"70%"}},className:"times",overflow:"scroll",children:[e.jsxs(n,{spacing:"10px",direction:"row",justifyContent:"space-between",p:"0 10px 20px 30px",width:"100%",position:"sticky",top:"0",backgroundColor:"#fff",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,textAlign:"center",children:"Gelen wagty"}),e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Giden wagty"}),e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",textAlign:"center",fontSize:15,children:"Işlän sagady"})]}),e.jsx(n,{direction:"column",width:"100%",spacing:"10px",children:ne.map((M,ue)=>e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.jsx(d,{fontFamily:"Montserrat",color:"#000",textAlign:"center",fontSize:15,children:ue+1}),e.jsxs(n,{width:"100%",spacing:"5px",direction:"row",alignItems:"center",justifyContent:"space-between",border:"1px solid #d5d5d5",p:"0 40px",borderRadius:"50px",backgroundColor:"#F8F9FA",children:[e.jsx(n,{height:25,color:"#A6A6A6",fontSize:15,fontWeight:400,justifyContent:"flex-start",alignItems:"center",direction:"row",children:e.jsx(d,{fontFamily:"Montserrat",color:"#A6A6A6",textAlign:"center",fontSize:15,children:N(M.comeTime).format("HH:mm")})}),e.jsx(n,{height:35,color:"#A6A6A6",fontSize:15,fontWeight:400,alignItems:"start",justifyContent:"center",children:M.leaveTime!=null?N(M.leaveTime).format("HH:mm"):""}),e.jsx(n,{height:25,fontSize:15,fontWeight:400,alignItems:"start",color:"#A6A6A6",justifyContent:"center",children:M.comeTime&&M.leaveTime?N.duration(N(M.leaveTime).diff(N(M.comeTime))).hours()+":"+N.duration(N(M.leaveTime).diff(N(M.comeTime))).minutes():""})]})]}))},Is)]}):"",e.jsx(n,{direction:"column",sx:{...N().isSame(b,"day")?{display:"flex"}:{display:"none"}},children:e.jsxs("form",{onSubmit:Ne,children:[e.jsxs(n,{spacing:"10px",width:"100%",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(L,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:c,autoComplete:"off",name:"eventText",onChange:M=>r(M.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(n,{direction:"row",justifyContent:"space-between",spacing:"9px",children:D.map(M=>e.jsx(n,{onClick:()=>Ve(M.color),style:{backgroundColor:M.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:m===M.color?e.jsx(tt,{}):""},M.color))}),e.jsx(G,{sx:{backgroundColor:"#F5F6FA",color:"#474747",textTransform:"revert",fontFamily:"Montserrat",fontSize:18,fontWeight:600,width:185,borderRadius:"50px",border:"1px solid #D5D5D5",height:55,mt:-.5,"&:hover":{background:"#78a880",color:"#F5F6FA"}},type:"submit",children:"Goşmak"})]})]})," "]})]})})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:y,onClose:et,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:y,children:e.jsxs(K,{sx:ks,height:"565px",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(H,{onClick:et,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})}),e.jsx(d,{textAlign:"center",fontFamily:"Montserrat",fontSize:32,color:"#474747",fontWeight:500,children:z!==void 0?N(z.comeTime).format("DD.MM.YYYY"):""}),e.jsx(H,{onClick:js,children:e.jsx(tt,{sx:{width:38,height:38,color:"#9FC2A5"}})})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"10px",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,mb:"9px",children:"Bellik"}),e.jsx(L,{id:"outlined-basic",label:"Text",type:"text",variant:"outlined",value:c,autoComplete:"off",name:"username",onChange:M=>r(M.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px",background:"#F5F6FA"},width:"100%"},InputLabelProps:{sx:{color:"#757575"}}})]}),e.jsxs(n,{spacing:"10px",width:"100%",pt:"8px",children:[e.jsx(d,{fontWeight:500,fontFamily:"Montserrat",color:"#474747",fontSize:15,children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:D.map(M=>e.jsx(n,{onClick:()=>Ve(M.color),style:{backgroundColor:M.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:m===M.color?e.jsx(tt,{}):""},M.color))})]})]})})})]})]}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(ur,{openModal:je,color:m,events:Xe,setEvents:w,setStartDate:M=>k(M),setEndDate:M=>p(M),holidays:Ye})})]})})},xr=()=>{const o=JSON.parse(localStorage.getItem("CRM_USER")),t=we();return a.useEffect(()=>{o.role==="ADMIN"&&t("/employees")},[o]),e.jsx(K,{height:"100vh",width:"100%",className:"notes",backgroundColor:"#f5f6fa",overflow:"auto",children:o.role==="USER"?e.jsx(Is,{}):o.role==="MODERATOR"?e.jsx(Is,{}):o.role==="ADMIN"?e.jsx(un,{}):""})},Ys="http://192.168.1.46",gr=async o=>{const t=await fetch(`${Ys}/api/chat/chats/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},Os=async o=>{const t=await fetch(`${Ys}/api/chat/users/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},Ke=_s(`${Ys}:5022`),fr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},mr=()=>{const[o,t]=a.useState({name:"",surname:"",img:""}),[s,h]=a.useState(""),[l,u]=a.useState(),[y,F]=a.useState(null),[D,A]=a.useState(!1),[m,S]=a.useState(null),b=Number(l),[I,x]=a.useState(""),w=a.useRef(null),[c,r]=a.useState([]),[i,k]=a.useState([]),[R,p]=a.useState(null),[Y,T]=a.useState(null),[O,_]=a.useState(null),[z,$]=a.useState(null),[Q,W]=a.useState([]),j=a.useRef(null),v=c.length?c.filter(Z=>Z.name&&Z.name.toLowerCase().includes(I.toLowerCase())):c;a.useEffect(()=>{const Z=JSON.parse(localStorage.getItem("CRM_USER"));u(Z.id)},[l]),a.useEffect(()=>{(async()=>{const ae=await gr(l);r(ae)})()},[]),a.useEffect(()=>((async()=>{const ae=await Os(l);k(ae.users),r(ae.chats),w.current&&w.current.focus()})(),Ke.emit("register",l),Ke.on("message",ae=>{const{senderId:P,receiverId:xe,text:ge}=ae;W(Ce=>[...Ce,{senderId:Number(l),receiverId:xe,text:ge}])}),()=>Ke.off("message")),[l]),a.useEffect(()=>{j.current&&(j.current.scrollIntoView({behavior:"smooth"}),w.current&&w.current.focus())},[Q]);const C=async(Z,ae)=>{Ke.emit("createchat",{senderId:Z,receiverId:ae});const P=await Os(l);k(P.users),r(P.chats)},J=Z=>{Z.preventDefault(),s&&y&&(Ke.emit("message",{senderId:l,recipientId:y,message:s,chatId:R,oppositeChatId:z,oppositeSenderId:Y,oppositeReceiverId:O}),h(""))},ne=(Z,ae)=>(Ke.emit("getchat",{chatId:ae,senderId:Z}),Ke.on("getchat",P=>{const{chatHistory:xe}=P;W(xe)}),w.current&&w.current.focus(),()=>Ke.off("getchat")),Fe=(Z,ae,P,xe,ge,Ce,Re,ve,Te,Ve)=>{F(Z),t({name:ae,surname:P,img:xe}),p(ge),T(Ce),_(Re),$(ve),S(Te),ne(Ve,ge)},Ye=(Z,ae,P)=>{F(Z),t(ae),C(P,Z),A(!1)};return e.jsx(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{width:"30%",height:"100%",borderRadius:"10px",backgroundColor:"#f0f0f0",children:e.jsxs(n,{spacing:1,justifyContent:"center",children:[e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"center",spacin:2,width:"100%",sx:{p:{lg:"15px 5px 0 10px",xs:"0 5px 0 5px"},gap:"5px"},children:[e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Gözle...",fullWidth:!0,onChange:Z=>x(Z.target.value),value:I,sx:{},InputProps:{startAdornment:e.jsx("img",{src:an,style:{width:"24px",height:"24px",marginRight:10},alt:""}),sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"600",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"}),e.jsx(H,{onClick:()=>A(!0),sx:{width:"45px",height:"45px",border:"0.5px solid #cdcdcd",color:"#fff",background:"#2F6FD0","&:hover":{background:"#2F6FD0"}},children:"+"})]}),c.length==0?"Does not have chats":v.map((Z,ae)=>e.jsxs(n,{onClick:()=>Fe(Z.id,Z.name,Z.surname,Z.img,Z.chatId,Z.oppositeSenderId,Z.oppositeReceiverId,Z.oppositeChatId,Z.receiverId,Z.senderId),direction:"row",spacing:2,p:"8px",sx:{...ae==0?{borderTop:"1px solid #CDCDCD"}:"",borderBottom:"1px solid #CDCDCD","&:hover":{backgroundColor:"#F5F5F5"}},children:[Z.img?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${Z.img}`,alt:""}):e.jsx(us,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(n,{sx:{cursor:"pointer"},height:45,width:"90%",justifyContent:"center",children:[e.jsxs(d,{fontFamily:"Montserrat",color:"#4399FF",fontWeight:600,children:[Z.name," ",Z.surname]}),e.jsx(d,{color:"#959595"})]})]},ae))]})}),e.jsx("div",{className:"chat-messages",style:{position:"relative",background:"#fff",height:"100%"},children:o.name==""?e.jsx(d,{fontFamily:"Montserrat",color:"#cdcdcd",mt:6,fontSize:30,textAlign:"center",fontWeight:600,children:"Söhbetdeşlik saýlaň"}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,boxShadow:" 0px 12px 7px -14px rgba(71,71,71,1)",p:1,children:[o.img!=null?e.jsx("img",{style:{width:45,height:45,borderRadius:"100px"},src:`http://192.168.1.46/images/${o.img}`,alt:""}):e.jsx(us,{sx:{width:45,height:45,background:"#2F6FD0"}}),e.jsxs(d,{fontSize:18,fontWeight:500,color:"#4399FF",children:[o.name," ",o.surname]})]}),e.jsxs("ul",{style:{height:"500px !important"},children:[Q.map((Z,ae)=>e.jsx("li",{style:{textAlign:Z.senderId===b?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:Z.senderId===b?"#D0E7FF":"#D4F8E8",position:"relative",alignItems:"center"},children:[e.jsx("b",{className:"chat-messages__div-b",children:Z.senderId===b?"":o.name}),e.jsxs(n,{width:"100%",spacing:2,direction:"row",alignItems:"end",justifyContent:"space-between",children:[e.jsxs("span",{className:"chat-messages__div-span",children:[Z.text," "]}),e.jsx("span",{style:{color:"gray",fontSize:11,marginBottom:"-4px"},children:N(Z.createdAt).format("HH:mm")})]})]})},ae)),e.jsx("div",{ref:j})]}),e.jsx(n,{className:"chat-input",style:{position:"absolute",bottom:10,right:"2%",width:"95%",alignItems:"center"},children:e.jsxs("form",{onSubmit:J,children:[e.jsx("input",{ref:w,type:"text",placeholder:"Tekst...",value:s,onChange:Z=>h(Z.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})})]}),e.jsx(oe,{open:D,onClose:()=>A(!1),children:e.jsxs(K,{sx:fr,children:[e.jsx(d,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:i.map(Z=>e.jsx("li",{onClick:()=>Ye(Z.id,Z.name,l),children:Z.name},Z.id))})})]})})]})})},jr=({open:o,handleClose:t,data:s})=>{const[h,l]=a.useState(null),[u,y]=a.useState(s&&s.name),F=JSON.parse(localStorage.getItem("CRM_USER")),[D,A]=a.useState(F);a.useEffect(()=>{y(s&&s.name),A(F)},[s]);const m=se(),S=x=>{const w=x.target.files[0];w&&g.success("Faýl saýlandy"),l(w),y(w.name)},b=()=>{if(u==""){g.warn("Faýl ady giriz!");return}if(!h){g.warn("Faýl saýlaň");return}const x=new FormData;x.append("userId",D.id),x.append("title",u),x.append("file",h),x.append("documentTypeId",s.id);const w={userId:D.id,body:x};m(Nt(w)),l(null),y(""),t()},I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:460,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:o,onClose:t,children:e.jsxs(K,{sx:I,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Goşmaça resminama"}),e.jsx(H,{onClick:t,children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"95%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:x=>y(x.target.value),fullWidth:!0,value:u,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"80%",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:S,id:"file",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file",className:"file-input-label"})]}),h?e.jsx(n,{children:e.jsxs(d,{children:["Ady: ",h.name," - ",(h.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:b,children:"+ Goş"})})]})})]})})},br=({open:o,handleClose:t,data:s})=>{const[h,l]=a.useState(null),[u,y]=a.useState(o&&s.pdfDocuments&&s.pdfDocuments[0].title),[F,D]=a.useState(o&&s.title),A=JSON.parse(localStorage.getItem("CRM_USER")),[m,S]=a.useState(A);a.useEffect(()=>{o&&s.pdfDocuments&&y(s.pdfDocuments[0].title),o&&D(s.title),S(A)},[o,s]);const b=se(),I=c=>{const r=c.target.files[0];r&&g.success("Faýl saýlandy"),l(r)},x=()=>{if(u==""){g.warn("Faýl ady giriz!");return}const c=new FormData;c.append("userId",m.id),c.append("documentId",s.id),c.append("title",u),c.append("file",h),c.append("documentTypeId",s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9");const r={title:u,userId:m.id,documentId:s.id,documentTypeId:s?s.docTypeId?s.docTypeId:s.documentType&&s.documentType.id:"17e6fed6-a4bc-4d1d-98f1-d014fedb99f9"},i={userId:m.id,body:h?c:r,files:h||null};b(Ot(i)),l(null),y(""),t()},w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35%",bgcolor:"background.paper",border:"0px solid lightgray",gap:"10px",maxHeight:550,height:430,borderRadius:"10px",display:"flex",alignItems:"center",flexDirection:"column"};return e.jsx(oe,{open:o,onClose:()=>{l(null),t()},children:e.jsxs(K,{sx:w,children:[e.jsxs(n,{width:"100%",bgcolor:"#2F6FD0",p:"15px 20px",direction:"row",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",sx:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[e.jsx(d,{color:"#fff",fontSize:24,fontWeight:400,fontFamily:"DM Sans",children:"Resminama üýtgetmek"}),e.jsx(H,{onClick:()=>{l(null),t()},children:e.jsx(he,{sx:{color:"#fff"}})})]}),e.jsx(n,{width:"95%",p:1,height:"100%",overflow:"auto",className:"times",justifyContent:"space-between",children:e.jsxs(n,{width:"100%",spacing:"20px",height:450,position:"relative",alignItems:"start",children:[e.jsxs(n,{width:"100%",spacing:1,height:"95%",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Ady"}),e.jsx(L,{id:"input-with-icon-textfield",placeholder:"Resminama ady",onChange:c=>y(c.target.value),fullWidth:!0,value:u==!1?F:u,sx:{width:"100%"},InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#fff",height:"45px",color:"#000",fontWeight:"400",outline:"none",boxShadow:"none"},inputProps:{sx:{"&::placeholder":{color:"#d5dd5",fontWeight:400,fontSize:16}}}},variant:"outlined"})]}),e.jsxs(n,{direction:"row",alignItems:"center",height:"100%",spacing:2,children:[e.jsx(d,{fontSize:20,fontFamily:"DM Sans",children:"Faýl"}),e.jsx("input",{type:"file",onChange:I,id:"file2",accept:".docx,.xlsx,.pdf",className:"file-input"}),e.jsx("label",{htmlFor:"file2",className:"file-input-label"})]}),h?e.jsx(n,{children:e.jsxs(d,{children:["Saýlanan faýl:",h.name," - ",(h.size/1024).toFixed(2)," KB"]})}):""]}),e.jsx(n,{width:"100%",alignItems:"end",children:e.jsx(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#e7e7fb",border:"1px solid #2F6FD0 ","&:hover":{background:"#e7e7fb"},gap:"10px",width:"30%",height:45,fontSize:20,borderRadius:"20px"},onClick:x,children:"+ Goş"})})]})})]})})},yr=()=>{const[o,t]=a.useState(""),[s,h]=a.useState(""),[l,u]=a.useState(!1),[y,F]=a.useState(!1),D=JSON.parse(localStorage.getItem("CRM_USER")),[A,m]=a.useState(D),[S,b]=a.useState(!1);a.useEffect(()=>{m(D)},[]);const I=B(z=>z.uploadPDf.data);B(z=>z.uploadPDf.docType);const x=B(z=>z.uploadPDf.status),w=B(z=>z.uploadPDf.error),c=B(z=>z.uploadPDf.uploadProgress),r=se();a.useEffect(()=>{r(rt(A.id)),r(Bt(A.id))},[r]);const i=()=>{b(!S)},k=z=>{const $={userId:A.id,documentId:z[0].id};r(Ht($))},R=z=>{t(z),u(!0)},p=()=>u(!1),Y=z=>{h(z.documentType&&z.documentType.id),t(z),F(!0)},T=()=>{F(!1)},O=I.filter($=>$.name!=="Goşmaça"),_=I.filter(z=>z.name==="Goşmaça");return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",children:[e.jsx(d,{p:"5px 20px",fontSize:"30px",fontWeight:"500",fontFamily:"Montserrat",children:"Resminama"}),e.jsx(Be,{}),e.jsx(n,{direction:"row",backgroundColor:"#fff",spacing:"60px",minHeight:"80vh",borderRadius:"10px",m:"0px 20px ",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",padding:"0px 0 30px",justifyContent:"space-between",children:e.jsx(n,{width:"100%",justifyContent:"flex-start",alignItems:"center",children:x==="loading..."?e.jsxs(n,{direction:"column",height:"100%",width:"40%",alignItems:"center",sx:{gap:"10px",mt:"20px"},children:[e.jsx(pe,{}),e.jsxs(d,{children:[c,"% Loading..."]})]}):x==="failed"?e.jsxs(d,{textAlign:"center",height:"43%",mt:4,children:["Maglumat ýok: ",w]}):x==="succeeded"?e.jsxs(n,{width:"95%",mt:2,children:[e.jsxs(n,{width:"100%",children:[e.jsx(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pb:1,width:"100%",children:"Esasy"}),e.jsx(ke,{}),O.map((z,$)=>e.jsxs(n,{direction:"row",sx:{borderBottom:"1px solid lightgray"},alignItems:"center",justifyContent:"space-between",backgroundColor:"#fff",children:[e.jsxs(n,{width:"80%",height:45,alignItems:"center",direction:"row",pl:2.5,minHeight:"45px",children:[e.jsx(Us,{sx:{...z.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},width:36,height:36}}),e.jsxs(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:z.name==="Goşmaça"?20:18,pl:5,color:"#474747",width:"100%",children:[z.name," ",z.pdfDocuments.length?`( ${z.pdfDocuments&&z.pdfDocuments.map(Q=>Q.title)})`:""]},$)]}),z.name==="Goşmaça"?e.jsxs(ps,{expanded:S,onChange:i,sx:{width:"100%",backgroundColor:"#fff",boxShadow:"none"},children:[e.jsx(xs,{expandIcon:e.jsx(gs,{}),"aria-controls":"panel1a-content",id:"panel1a-header"}),e.jsx(fs,{children:z.pdfDocuments.map((Q,W)=>e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(d,{children:Q.title}),e.jsxs(n,{direction:"row",spacing:1,children:[e.jsx(H,{children:e.jsx(ze,{style:{textDecoration:"none",color:"#474747"},target:"_blank",to:`http://192.168.1.46/files/${Q.pathPdf}`,children:e.jsx(bt,{sx:{color:"#9FA1C2"}})})}),e.jsx(H,{onClick:()=>k([Q]),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})})]})]},W))})]}):e.jsxs(n,{direction:"row",children:[z.pdfDocuments&&z.pdfDocuments.length?e.jsxs(e.Fragment,{children:[e.jsx(H,{onClick:()=>Y(z),children:e.jsx(Ge,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(ze,{style:{textDecoration:"none",color:"#474747",display:"flex",justifyContent:"space-between",width:"100%"},target:"_blank",to:`http://192.168.1.46/files/${z.pdfDocuments[0].pathPdf}`,children:e.jsx(bt,{sx:{color:"#9FA1C2"}})})})]}):"",z.pdfDocuments.length?e.jsx(H,{sx:{width:38,height:38},onClick:()=>k(z.pdfDocuments),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})}):e.jsx(H,{sx:{width:38,height:38,position:"relative",overflow:"hidden"},onClick:()=>R(z),children:e.jsx(zs,{sx:{...z.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},cursor:"pointer",width:28,height:28}})})]})]},$)),_.map((z,$)=>e.jsxs(n,{direction:"row",position:"relative",alignItems:"center",children:[e.jsxs(ps,{expanded:S,onChange:i,sx:{width:"97%",backgroundColor:"#fff",boxShadow:"none"},children:[e.jsx(xs,{expandIcon:e.jsx(gs,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{alignItems:"center"},children:e.jsxs(n,{alignItems:"center",justifyContent:"space-between",direction:"row",children:[e.jsx(Us,{sx:{color:"brown",width:36,height:36,ml:.7}}),e.jsxs(d,{fontFamily:"DM Sans",fontWeight:"400",fontSize:20,pl:5,color:"#474747",width:"100%",children:[" ",z.name," "]}),e.jsx(n,{border:"1px solid #2F6FD0",backgroundColor:"#2F6FD0",borderRadius:"100%",width:45,alignItems:"center",justifyContent:"center",height:25,color:"#fff",children:z.pdfDocuments.length})]})}),e.jsx(fs,{children:z.pdfDocuments.map((Q,W)=>e.jsxs(e.Fragment,{children:[e.jsx(ke,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(d,{children:Q.title}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(H,{onClick:()=>Y(Q),children:e.jsx(Ge,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{children:e.jsx(ze,{style:{textDecoration:"none",color:"#474747",display:"flex",alignItems:"center"},target:"_blank",to:`http://192.168.1.46/files/${Q.pathPdf}`,children:e.jsx(bt,{sx:{color:"#9FA1C2"}})})}),e.jsx(H,{onClick:()=>k([Q]),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:"Delete"})})]})]},W),e.jsx(ke,{})]}))})]},$),e.jsx(H,{sx:{width:38,height:38,position:"absolute",top:10,right:0,overflow:"hidden"},onClick:()=>R(z),children:e.jsx(zs,{sx:{...z.name==="Goşmaça"?{color:"brown"}:{color:"#2F6FD0"},cursor:"pointer",width:28,height:28}})})]}))]}),e.jsx(jr,{open:l,data:o,handleClose:p}),e.jsx(br,{open:y,handleClose:T,data:o,docId:s})]}):null})})]})},wr=({openModal:o})=>{a.useState();const[t,s]=a.useState(""),[h,l]=a.useState("+993"),[u,y]=a.useState(""),[F,D]=a.useState(""),[A,m]=a.useState(""),[S,b]=a.useState("");a.useState("");const[I,x]=a.useState(!1),[w,c]=a.useState(""),[r,i]=a.useState("TKM"),[k,R]=a.useState(""),[p,Y]=a.useState(""),[T,O]=a.useState(U()),[_,z]=a.useState([]),$=C=>{c(C.target.value)},Q=C=>{i(C.target.value)},W=()=>{o(!0)};se();const j=we();a.useEffect(()=>{(async()=>{await E.get("/position/get").then(J=>{z(J.data)})})()},[]);const v=async C=>{C.preventDefault();try{if(t.trim().length<=0||S.trim().length<=0)g.error("Dogry maglumatyňyzy giriziň!");else{x(!0);const J=await E.post("/user/registration",{login:u,pass:S,surname:ee(F),name:ee(A),mail:t,phoneNumber:h,birthday:T,whereStudy:k,whereLive:p,languages:r,role:"USER",positionId:w}).then(ne=>ne.data?(setTimeout(()=>j("/login"),2e3),g.success("Üstünlikli registrasiýa!"),s(""),l("+993"),y(""),D(""),m(""),b(""),x(!1),R(""),c(""),i(""),Y(""),O(U()),o(!1)):"")}}catch(J){g.error(J.message==="Network Error"?"Internet baglanyşygy ýok":J.response.data),x(!1)}};return e.jsx(n,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(n,{width:{lg:"65%",md:"80%",sm:"97",xs:"97%"},height:650,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(d,{mb:"10px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:3,children:"Hasaba alyş"}),e.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",width:"100%",gap:"10px",alignItems:"center",justifyContent:"center"},children:[e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Ady",type:"text",value:A,name:"password",onChange:C=>m(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Familiýasy",type:"text",name:"password",value:F,onChange:C=>D(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Login",type:"text",variant:"outlined",autoComplete:"off",name:"username",value:u,onChange:C=>y(C.target.value),sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},fontFamily:"Montserrat",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{id:"simple-select-label",children:"Wezipe"}),e.jsx(de,{labelId:"simple-select-label",id:"simple-select",value:w,onChange:$,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:_.map(C=>e.jsx(V,{value:C.id,children:C.name},C.id))})]})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,alignItems:"center",children:[e.jsx(fe,{dateAdapter:me,sx:{width:"100%",pt:0},children:e.jsx(Se,{sx:{width:"100%",pt:"4px"},components:["DatePicker","DatePicker"],children:e.jsx(ie,{label:"Doglan senesi",value:T,format:"DD.MM.YYYY",onChange:C=>O(C),sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px",width:"100%",paddingTop:0},"& .MuiPaper-root":{borderRadius:"100px"}}})})}),e.jsx(L,{id:"outlined-basic",label:"Poçta",type:"text",name:"password",value:t,onChange:C=>s(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Okan ýeri",type:"text",value:k,name:"password",onChange:C=>R(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Ýaşaýan ýeri",type:"text",name:"password",value:p,onChange:C=>Y(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"90%",fontFamily:"Montserrat"}})]}),e.jsxs(n,{direction:"row",justifyContent:"space-between",width:"90%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Telefon belgiňiz",type:"text",name:"password",value:h,onChange:C=>l(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{borderRadius:"100px",height:"60px"},width:"100%",fontFamily:"Montserrat"}}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{id:"simple-select-label",children:"Dili"}),e.jsxs(de,{labelId:"simple-select-label",id:"simple-select",value:r,onChange:Q,label:"Select Item",sx:{height:"60px",borderRadius:"100px",width:{lg:"100%",md:"70%",sm:"90%",xs:"90%"}},children:[e.jsx(V,{value:"ENG",children:"ENG"}),e.jsx(V,{value:"RUS",children:"RUS"}),e.jsx(V,{value:"TKM",children:"TKM"})]})]})]}),e.jsx(n,{direction:"column",width:"90%",spacing:2,children:e.jsxs(n,{direction:"row",width:"100%",spacing:2,children:[e.jsx(L,{id:"outlined-basic",label:"Parol",type:"text",name:"password",value:S,onChange:C=>b(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}}),e.jsx(L,{id:"outlined-basic",label:"Paroly gaytala",type:"text",name:"password",onChange:C=>b(C.target.value),variant:"outlined",autoComplete:"off",sx:{"& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"70%",md:"70%",sm:"90%",xs:"90%"},fontFamily:"Montserrat"}})]})}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"flex-end",spacing:2,width:"90%",mt:2,children:[e.jsx(n,{direction:"row",spacing:2,children:e.jsx(G,{onClick:W,style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},children:"Siziň hasabyňyz barmy? Şu ýere giriň"})}),e.jsx(G,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:I?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Hasaba gir"})]})]})]})})},Cr="/assets/Logo-DZQxkVEy.png",Ar="/assets/login (2)-C6oMrZMN.png",Sr="/assets/login (1)-CZfUSTBP.png",Dr=()=>{a.useState();const[o,t]=a.useState(""),[s,h]=a.useState(""),[l,u]=a.useState(""),[y,F]=a.useState(!1),[D,A]=a.useState(!1),[m,S]=a.useState(!1),b=()=>{A(i=>!i)},I=i=>{i.preventDefault()};a.useEffect(()=>{u("")},[o,s]);const x=se(),w=we(),c=async i=>{i.preventDefault();try{if(o.trim().length<=0||s.trim().length<=0)g.error("Dogry maglumatyňyzy giriziň!");else{F(!0);const k=await E.post("/user/login",{login:o,pass:s});if(k.data.status===404)g.error(k.data.message=="Неправелный пароль"?"Login ýada Açar söz nädogry!":k.data.message),F(!1);else{const R=k.data;x(ko(R)),localStorage.setItem("CRM_USER",JSON.stringify(R)),setTimeout(()=>w("/"),500),g.success("Üstünlikli giriş!"),F(!1)}}}catch(k){k.message==="Network Error"?g.error("Internet baglanyşygy ýok"):k.response.status?g.error("Login ýada Açar söz nädogry!"):k.response.data.message,x(Io(k.message||"Login failed")),F(!1)}},r=()=>{S(!m)};return e.jsxs(K,{children:[e.jsx(Be,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"column",xs:"column"},children:[e.jsxs(n,{width:"40%",maxHeight:"100vh",backgroundColor:"#3763f5",sx:{display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:[e.jsxs(n,{left:"30px",top:"30px",position:"absolute",width:250,direction:"row",alignItems:"center",children:[e.jsx("img",{src:Cr,style:{width:"85px",height:"95px"},alt:""}),e.jsx(d,{textAlign:"center",color:"#fff",fontWeight:"500",fontSize:20,ml:-3,fontFamily:"Montserrat",children:"ÄLEM TILSIMAT"})]}),e.jsx("img",{src:Ar,style:{width:"100%",height:"49.4vh"},alt:""}),e.jsx(d,{textAlign:"center",color:"#fff",fontWeight:"600",fontSize:65,position:"absolute",top:"45%",left:"3%",fontFamily:"Montserrat",children:"CRM"}),e.jsx("img",{src:Sr,style:{width:"100%",height:"49.5vh"},alt:""})]}),m===!1?e.jsx(n,{direction:"column",alignItems:"center",height:"100vh",justifyContent:"center",width:{lg:"60%",md:"60%",sm:"100%",xs:"100%"},children:e.jsxs(n,{width:{lg:"60%",md:"80%",sm:"97",xs:"97%"},height:500,boxShadow:"0px 0px 22px 3px rgba(168,168,168,1)",justifyContent:"center",borderRadius:"20px",children:[e.jsx(d,{mb:"30px",color:"#474747",fontSize:"30px",fontFamily:"Montserrat",fontWeight:"600",textAlign:"start",ml:7.4,children:"Giriş"}),e.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",width:"100%",gap:"40px",alignItems:"center",justifyContent:"center"},children:[e.jsx(L,{id:"outlined-basic",label:"Ady",type:"text",variant:"outlined",autoComplete:"off",name:"username",onChange:i=>t(i.target.value),sx:{fontFamily:"Montserrat","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"}},InputLabelProps:{sx:{color:"#757575"}}}),e.jsx(L,{name:"password",label:"Açar söz",fullWidth:!0,variant:"outlined",type:D?"text":"password",onChange:i=>h(i.target.value),InputProps:{endAdornment:e.jsx(xo,{position:"end",children:e.jsx(H,{"aria-label":"toggle password visibility",onClick:b,onMouseDown:I,edge:"end",children:D?e.jsx(go,{}):e.jsx(fo,{})})})},InputLabelProps:{sx:{color:"#757575"}},sx:{width:{lg:"80%",md:"70%",sm:"90%",xs:"90%"},transition:"all ease-in-out 0.2s","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"100px"},backgroundColor:"#fff",height:"60px",color:"#000",outline:"none",boxShadow:"none"}}),e.jsxs(n,{direction:{lg:"row",md:"row",sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",spacing:2,children:[e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(ze,{to:"/",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textAlign:"center"},children:"Paroly dikeltmek"}),e.jsx(G,{to:"/register",style:{color:"#00159D",fontSize:15,fontFamily:"Montserrat",fontWeight:600,textDecoration:"none",textTransform:"revert"},onClick:r,children:"Hasaba alyş"})]}),e.jsx(G,{type:"submit",sx:{backgroundColor:"blue",color:"#fff","&:hover":{background:"black"},fontFamily:"Montserrat",height:"55px",width:{lg:"160px",md:"160px",sm:"100%",xs:"100%"},borderRadius:"100px"},children:y?e.jsx(n,{alignItems:"center",children:e.jsx(pe,{sx:{color:"#fff"}})}):"Dowam et"})]})]})]})}):e.jsx(wr,{openModal:r})]})]})},Ts="http://192.168.1.46",kr=async o=>{const t=await fetch(`${Ts}/api/chat/chats/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch chat users");return await t.json()},Ls=async o=>{const t=await fetch(`${Ts}/api/chat/users/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch users chat");return await t.json()},pt=_s(`${Ts}:5022`),Ir={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Fr=()=>{const[o,t]=a.useState(""),[s,h]=a.useState(""),[l,u]=a.useState(sessionStorage.getItem("userId")),[y,F]=a.useState(null),[D,A]=a.useState(!1);a.useState(null);const m=Number(sessionStorage.getItem("userId")),[S,b]=a.useState([]),[I,x]=a.useState([]),[w,c]=a.useState(null),[r,i]=a.useState(null),[k,R]=a.useState(null),[p,Y]=a.useState(null),[T,O]=a.useState([]),_=a.useRef(null);a.useEffect(()=>{(async()=>{const j=await kr(m);b(j)})()},[]),console.log(I),a.useEffect(()=>((async()=>{const j=await Ls(m);x(j.users),b(j.chats)})(),pt.emit("register",l),pt.on("message",j=>{const{senderId:v,receiverId:C,text:J}=j;O(ne=>[...ne,{senderId:Number(v),receiverId:C,text:J}])}),()=>pt.off("message")),[l]),a.useEffect(()=>{_.current&&_.current.scrollIntoView({behavior:"smooth"})},[T]);const z=async(W,j)=>{pt.emit("createchat",{senderId:W,receiverId:j});const v=await Ls(m);x(v.users),b(v.chats)},$=W=>{W.preventDefault(),s&&y&&(pt.emit("message",{senderId:l,recipientId:y,message:s,chatId:w,oppositeChatId:p,oppositeSenderId:r,oppositeReceiverId:k}),h(""))},Q=(W,j,v)=>{F(W),t(j),z(v,W),A(!1)};return e.jsx(K,{height:"100vh",width:"100%",backgroundColor:"#f2f9fc",overflow:"auto",p:"10px",children:e.jsxs("div",{className:"chat-container",children:[e.jsx(H,{className:"iconIoAdd",onClick:()=>A(!0),children:"+"}),e.jsx("div",{className:"chat-header",children:e.jsxs("h2",{children:["Chat",e.jsx("span",{children:": "+o})]})}),e.jsxs("div",{className:"chat-body",children:[e.jsx(n,{}),e.jsxs("div",{className:"chat-messages",children:[e.jsx("h3",{children:"Messages"}),e.jsxs("ul",{children:[T.map((W,j)=>e.jsx("li",{style:{textAlign:W.senderId===m?"right":"left"},children:e.jsxs("div",{className:"chat-messages__div",style:{backgroundColor:W.senderId===m?"#D0E7FF":"#D4F8E8"},children:[e.jsx("b",{className:"chat-messages__div-b",children:W.senderId===m?"":o}),e.jsx("span",{className:"chat-messages__div-span",children:W.text})]})},j)),e.jsx("div",{ref:_})]}),e.jsx("div",{className:"chat-input",children:e.jsxs("form",{onSubmit:$,children:[e.jsx("input",{type:"text",placeholder:"Type a message",value:s,onChange:W=>h(W.target.value)}),e.jsx("button",{type:"submit",children:"Send"})]})})]})]}),e.jsx(oe,{open:D,onClose:()=>A(!1),children:e.jsxs(K,{sx:Ir,children:[e.jsx(d,{variant:"h6",component:"h2",children:"Ulanyjy saýlaň"}),e.jsx("div",{className:"chat-users",children:e.jsx("ul",{children:I.map(W=>e.jsx("li",{onClick:()=>Q(W.id,W.name,sessionStorage.getItem("userId")),children:W.name},W.id))})})]})})]})})},vr=()=>{const[o,t]=a.useState(!1),[s,h]=a.useState([]),[l,u]=a.useState({}),[y,F]=a.useState({}),[D,A]=a.useState(U()),m=se(),S=JSON.parse(localStorage.getItem("CRM_USER")),b=we();a.useEffect(()=>{(async()=>{try{t(!0);const i=await E.get("/user/status");h(i.data.messagge)}catch(i){console.error("Error fetching user status:",i)}finally{t(!1)}})()},[]),a.useEffect(()=>{const r=s.reduce((k,R)=>(k[R.id]=R.status,k),{}),i=s.reduce((k,R)=>(k[R.id]=R.role==="MODERATOR",k),{});u(r),F(i)},[s]);const I=a.useCallback(r=>{const i=!l[r];m(wt({userId:r,status:i})),u(R=>({...R,[r]:i}))},[l,m]),x=a.useCallback((r,i)=>{const k={editorId:S.id,userId:r,newRole:i};m(Ct(k)),F(R=>({...R,[r]:i==="MODERATOR"}))},[S.id,m]),w=s.filter(r=>r.role!=="ADMIN"&&r.status===!1),c={p:1,textAlign:"center",fontFamily:"DM Sans"};return e.jsxs(n,{backgroundColor:"#fff",width:"80%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"10px 24px 17px",m:"15px 0 10px 15px",children:[e.jsx(d,{textAlign:"center",fontFamily:"DM Sans",mb:2,fontSize:20,children:"Ulanyjylar"}),e.jsx(n,{height:"100%",children:o?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px"},children:[e.jsx(pe,{}),"Loading..."]}):e.jsx(n,{children:s.length===0?e.jsx(d,{textAlign:"center",fontSize:20,children:"Ulanyjy tapylmady!"}):e.jsx(ot,{sx:{height:"78vh",overflowY:"auto",borderRadius:"20px"},children:e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{sx:{backgroundColor:"#F6FDFD",position:"sticky",top:0,zIndex:100,boxShadow:"0px 12px 7px -14px rgba(71,71,71,1)"},children:Lo.map(r=>e.jsx(X,{sx:{color:"#222222",fontWeight:500,fontFamily:"DM Sans",fontSize:18,textAlign:"center"},children:r.title},r.id))})}),e.jsx(Qe,{children:w.map((r,i)=>e.jsxs(ye,{onClick:()=>b(`/employees/${r.id}?date=${D}`),style:{cursor:"pointer"},children:[e.jsx(X,{sx:c,children:i+1}),e.jsx(X,{sx:c,children:r.name}),e.jsx(X,{sx:c,children:r.surname||"-"}),e.jsx(X,{sx:c,children:e.jsx(hs,{control:e.jsx(Ss,{checked:l[r.id]||!1,onChange:()=>I(r.id),color:"primary"}),label:""})}),e.jsx(X,{sx:c,children:e.jsx(hs,{control:e.jsx(Ss,{checked:y[r.id]||!1,onChange:()=>x(r.id,y[r.id]?"USER":"MODERATOR"),color:"primary"}),label:""})})]},r.id))})]})})})})]})},Mr={position:"absolute",top:"30%",left:"40%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px"},Rr=({open:o,handleClose:t,userData:s})=>{const[h,l]=a.useState(""),[u,y]=a.useState({field1:"",field2:""}),F=se();a.useEffect(()=>{s!==null&&l(s)},[s]);const D=m=>{const{name:S,value:b}=m.target;y({...u,[S]:b})},A=()=>{const m={editorId:Ds.id,userId:h.id,newLogin:u.field1,newPassword:u.field2};Ds&&h!==""&&u.field1!==""&&u.field2!==""&&(F(ls(m)),t(),y({field1:"",field2:""}))};return e.jsx(e.Fragment,{children:e.jsx(oe,{open:o,onClose:t,children:e.jsx(Ie,{in:o,children:e.jsxs(K,{sx:Mr,children:[e.jsxs(d,{variant:"h6",textAlign:"center",mb:2,children:[h.name," ",h.surname]}),e.jsxs(n,{spacing:2,children:[e.jsx(L,{label:"Täze Login",name:"field1",value:u.field1,onChange:D,fullWidth:!0}),e.jsx(L,{label:"Täze Açar söz",name:"field2",value:u.field2,onChange:D,fullWidth:!0}),e.jsxs(n,{direction:"row",spacing:2,justifyContent:"flex-end",children:[e.jsx(G,{onClick:t,variant:"outlined",children:"Yza"}),e.jsx(G,{onClick:A,variant:"contained",children:"Çalyşmak"})]})]})]})})})})},Yr=()=>{const[o,t]=a.useState(null),[s,h]=a.useState(!1),l=B(r=>r.workTime.data),u=B(r=>r.workTime.status),y=B(r=>r.users.data);B(r=>r.holidays.data.data),B(r=>r.holidays.status),B(r=>r.holidays.error);const[F,D]=a.useState(!1),[A,m]=a.useState(null),[S,b]=a.useState(null),I=se(),x=JSON.parse(localStorage.getItem("CRM_USER"));a.useEffect(()=>{I(Me()),I(ss())},[I]);const w=(r,i)=>{t(i)};a.useEffect(()=>{u==="succeeded"&&l.length>0&&(m(l[0].startTime),b(l[0].endTime))},[u,l]);const c=()=>{const r={userId:x.id,startTime:A,endTime:S};A!==null&&S!==null?I(ns(r)):g.error("Wagtlary giriz!")};return a.useEffect(()=>{I($e())},[I]),e.jsx(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",children:e.jsxs(n,{p:1,direction:"row",alignItems:"center",height:"100%",children:[e.jsxs(n,{backgroundColor:"#fff",width:"40%",height:"100%",borderRadius:"20px",pb:"10px",boxShadow:"0px 0px 8px -5px rgba(0,0,0,0.75)",p:"30px 24px 17px",children:[e.jsxs(G,{variant:"contained",sx:{...x.role=="USER"&&{display:"none"},textTransform:"revert",height:"45px",mb:3,fontSize:17,border:"0.5px solid #2F6FD0","&:hover":{border:"0.5px solid #2F6FD0"}},onClick:()=>D(!0),children:[e.jsx(Je,{sx:{color:"#fff",width:25,height:25}}),"Baýramçylyk güni goşmak"]}),e.jsx(xn,{open:F,handleClose:()=>D(!1)}),e.jsx(d,{textAlign:"center",fontFamily:"DM Sans",mb:2,fontSize:20,children:"Iş wagtyny sazlamak"}),u==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):u==="failed"?g.error("Ýalnyşlyk"):u==="succeeded"?e.jsxs(n,{children:[e.jsx(fe,{dateAdapter:me,children:e.jsxs(n,{direction:"row",spacing:1,children:[e.jsx(Ps,{label:"Başlanýan wagty",format:"HH:mm",value:A?U(A,"HH:mm"):null,onChange:r=>{m(r?r.format("HH:mm"):null)},renderInput:r=>e.jsx(L,{...r}),ampm:!1}),e.jsx(Ps,{ampm:!1,value:S?U(S,"HH:mm"):null,onChange:r=>{b(r?r.format("HH:mm"):null)},label:"Tamamlanýan wagty",renderInput:r=>e.jsx(L,{...r}),format:"HH:mm"})]})}),e.jsx(G,{variant:"contained",onClick:c,style:{marginTop:"10px",textTransform:"revert",fontSize:17,background:"#2F6FD0",height:43},children:"Ýatda sakla"})]}):"",e.jsx(d,{textAlign:"center",fontFamily:"DM Sans",mb:2,mt:3,fontSize:20,children:"Ulanyjy login we parol çalyşmak"}),e.jsx(De,{rows:4,value:o,fullWidth:!0,options:y,getOptionLabel:r=>`${ee(r.name)} ${ee(r.surname||"")}`,onChange:w,renderInput:r=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{width:"100%"}},...r,label:"Adyny ýazyň ýa-da saýlaň",fullWidth:!0,autoComplete:"off",placeholder:"Ady ýa-da Familiýasy",variant:"outlined",InputProps:{...r.InputProps,endAdornment:e.jsx(e.Fragment,{children:r.InputProps.endAdornment})}})}),e.jsx(G,{variant:"contained",sx:{...x.role=="USER"&&{display:"none"},textTransform:"revert",mt:2,fontSize:17,border:"0.5px solid #2F6FD0","&:hover":{border:"0.5px solid #2F6FD0"}},onClick:()=>{o!==null?h(!0):g.error("Ulanyjy saýlaň!")},children:"Çalyşmak"})]}),e.jsx(Rr,{open:s,handleClose:()=>h(!1),userData:o}),e.jsx(vr,{}),e.jsx(Be,{})]})})},Tr=({openModal:o,events:t,setStartDate:s,setEndDate:h,holidays:l})=>{N.locale("tk"),N.updateLocale("tk",{weekdays:tn.slice(0,7)}),N.updateLocale("tk",{months:sn});const u=JSON.parse(localStorage.getItem("CRM_USER")),[y,F]=a.useState(N()),[D,A]=a.useState(null);a.useState("");const[m,S]=a.useState(!1),[b,I]=a.useState(null),[x,w]=a.useState("month");U.locale("tk");const c=()=>{let Q,W;if(x==="month")Q=y.clone().startOf("month").startOf("isoWeek"),W=y.clone().endOf("month").endOf("isoWeek").subtract(1,"day");else if(x==="week")Q=y.clone().startOf("isoWeek"),W=y.clone().endOf("isoWeek").subtract(1,"day");else return[];const j=Q.clone().subtract(1,"day"),v=[];for(;j.isBefore(W,"day");)v.push(Array(7).fill(0).map(()=>j.add(1,"day").clone()));return v.length===5&&v[4][6].isBefore(W,"day")&&v.push(Array(7).fill(0).map(()=>j.add(1,"day").clone())),{calendar:v,firstDay:Q.format("YYYY MM DD"),lastDay:W.format("YYYY MM DD"),endDay:W,startDay:Q}};a.useEffect(()=>{const{startDay:Q,endDay:W}=c();s(Q.format("YYYY-MM-DD")),h(W.format("YYYY-MM-DD"))},[y,x,s,h]);const r=Q=>Q.day()===0,i=Q=>{A(Q),r(Q)||o(Q.format("YYYY-MM-DD"))},k=Q=>t.some(W=>N(W.date).isSame(Q,"day")),R=Q=>t.filter(W=>N(W.date).isSame(Q,"day")),p=()=>{I(null),S(!m)},Y=Q=>{I(U(Q)),F(y.clone().month(Q.month()).date(Q.date()).year(Q.year()))},T=Q=>l&&l.some(W=>N(W.date).isSame(Q,"day")),O=()=>{if(x==="day")return renderDayView();{const Q=c();return e.jsxs(Le,{children:[e.jsx(He,{children:e.jsx(ye,{children:N.weekdays().map((W,j)=>e.jsx(X,{sx:{backgroundColor:"#F5F6FA",height:"25px",p:1,...j===0?{borderTopLeftRadius:"12px"}:"",...N.weekdays().length-1===j?{borderTopRightRadius:"12px"}:"",fontWeight:500,color:"#202224",fontSize:14},align:"center",children:W},j))})}),e.jsx(Qe,{children:Q.calendar.map((W,j)=>e.jsx(ye,{children:W.map((v,C)=>e.jsxs(X,{onClick:()=>{i(v)},sx:{cursor:"pointer",border:"1px solid #ddd",width:"90px",padding:0,backgroundColor:r(v)?"#ADD8E6   ":"#fff",height:"85px",fontSize:"16px",fontWeight:500,color:v.month()===y.month()?"#474747":"#959494",...v.month()===y.month()?"":{backgroundImage:`url(${pn})`,backgroundSize:"cover",backgroundPosition:"center"},position:"relative","&:hover":{backgroundColor:"#f5f6fa",color:"#000"}},children:[e.jsx(n,{height:"30px",width:"30px",alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:"10px",right:"10px",...N().isSame(v,"day")&&{background:"#2F6FD0",color:"#fff",borderRadius:"100%"}},children:v.format("D")}),k(v)&&t.filter(J=>N(J.date).isSame(v,"day")).map((J,ne)=>e.jsxs(n,{style:{fontSize:"14px",backgroundColor:J.color?"#e5dffb":"white",color:v?J.color:"blue",borderLeft:`6px solid ${J.color}`,height:25,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:[e.jsx(d,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:u.role==="USER"?ee(J.note):ee(J.title)}),R(v).length!==1&&e.jsxs(n,{width:20,height:20,backgroundColor:J.color,color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",fontSize:12,children:["+ ",R(v).length-1]})]},ne)),T(v)&&l.filter(J=>N(J.date).isSame(v,"day")).map((J,ne)=>e.jsx(n,{style:{fontSize:"14px",backgroundColor:J.color?"#e5dffb":"white",color:v?J.color:"blue",borderRight:`6px solid ${J.color}`,height:"55%",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:" flex",position:"absolute",bottom:0,alignItems:"center",justifyContent:"center"},width:"100%",direction:"row",justifyContent:"space-evenly",spacing:1,children:e.jsx(d,{width:"70%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",children:J.name})},ne))]},C))},j))})]})}},_=()=>{F(y.clone().subtract(1,"month"))},z=()=>{F(y.clone().add(1,"month"))},$=()=>{F(N())};return e.jsxs(n,{p:"10px 15px 5px 15px",children:[e.jsxs(n,{mb:"4px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(G,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",height:"40px"},onClick:$,children:"Şu gün"}),e.jsx(G,{sx:{color:"#565656",fontSize:14,textTransform:"revert",fontWeight:600,textAlign:"start",border:"0.6px solid #D5D5D5",borderRadius:"15px",width:"68px",minHeight:"40px",...m?{backgroundColor:"tomato",color:"#fff","&:hover":{backgroundColor:"tomato"}}:{backgroundColor:"#fff"}},onClick:p,children:m?"X":"Sene"}),e.jsx(Ie,{in:m,children:e.jsx(n,{width:"50%",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",children:e.jsx(ie,{value:b,onChange:Y,format:"DD/MM/YYYY",openTo:"year",views:["year","month","day"],slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"75%",border:"1px solid #ccc"}}}},renderInput:Q=>e.jsx("input",{...Q})})})})})]}),e.jsxs(n,{direction:"row",width:"66%",alignItems:"center",justifyContent:"space-between",ml:-13,children:[e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{sx:{color:"#565656"},onClick:_,children:e.jsx(Zs,{sx:{width:18,height:20}})}),e.jsx(d,{width:205,align:"center",color:"#474747",pt:1.2,fontWeight:500,fontSize:24,gutterBottom:!0,children:y.format("MMMM YYYY")}),e.jsx(H,{sx:{color:"#565656"},onClick:z,children:e.jsx(Ks,{sx:{width:18,height:20}})})]}),e.jsxs(n,{width:136,direction:"row",border:"0.6px solid #D5D5D5",borderRadius:"15px",children:[e.jsx(G,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",border:"0",borderTopRightRadius:"0 ",borderBottomRightRadius:"0 ",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",...x==="week"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"}}:{background:"#fff"}},onClick:()=>w("week"),children:"Hepde"}),e.jsx(G,{sx:{width:"68px",height:"40px",color:"#202224",fontWeight:500,textTransform:"revert",borderRadius:"0",borderTopRightRadius:"15px",borderBottomRightRadius:"15px ",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",...x=="month"?{background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},borderRadius:"0px"}:{background:"#fff"}},onClick:()=>w("month"),children:"Aý"})]})]})]}),O()]})},Er="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFhSURBVHgB7ZeNTcNADIUdxAAdIWzQDUg3KBMQJkk7ATAB3QCxQdiAEdiAbnA8S257SXOtnbOqSO2TrIsuce6T7fsjumlCKrQfhhBmaJakV1sUxS95CQBL2F+wqdb+/0753StsRg6SiHZ0TzqV0n7DNkqflo4BntG8oV0gVT9kURTiDxopBoj+w6ktd++06ciSRGATdb2bizYnEr0IsFbnHCoeSKw6BxF/4wIgTvXQFBuCwHMjfY0bgAWCiyp0143GBcACIX3zIZAsACtEAuTzFEBI1FzWFJUFZwHbSle8t6zxftVzKWG1WOkCkQBJASTlslj1QEwALO3eoQJBnh/Qbq2+rsv2GAB3iLGaBIS1JqqQsZ1TNC0pmk1aiJYB6DDPc8UA+0ONNh0vsC/yEQ/+FJ8nVJEQB8tJ26TJF+YjipAyNO7eIbuil2rtuJ10yB6wpgtr8BrIEUEzpzz5XgOvQv8C+jI7OK+spwAAAABJRU5ErkJggg==",Wr=()=>{const[o,t]=a.useState(!1),[s,h]=a.useState(!1),[l,u]=a.useState(!1),[y,F]=a.useState(!1),[D,A]=a.useState([]),[m,S]=a.useState("#7551E9"),[b,I]=a.useState(null),[x,w]=a.useState({});a.useState("");const[c,r]=a.useState(""),[i,k]=a.useState(""),[R,p]=a.useState(""),[Y,T]=a.useState(""),[O,_]=a.useState(null),[z,$]=a.useState(null),[Q,W]=a.useState(),[j,v]=a.useState(),[C,J]=a.useState(),[ne,Fe]=a.useState(),[Ye,Z]=a.useState(),[ae,P]=a.useState(""),[xe,ge]=a.useState(),[Ce,Re]=a.useState();U.locale("tk");const ve=B(f=>f.holidays.data.data),Te=B(f=>f.holidays.status);B(f=>f.holidays.error);const Ve={cancelButtonLabel:"Yza",clearButtonLabel:"Arassala",okButtonLabel:"Bolýar",todayButtonLabel:"Şu gün",selectTimeLabel:"Wagty saýlaň"},et=Gs({components:{MuiDialog:{styleOverrides:{paper:{"& .MuiTypography-overline":{display:"none"}}}}}}),je=se();a.useEffect(()=>{const f={startDate:U(c).format("YYYY-MM-DD"),endDate:U(i).format("YYYY-MM-DD")};c!=""&&i!=""&&je($e(f))},[c,i,je]),a.useEffect(()=>{const f=document.querySelector(".MuiTypography-overline");f&&(f.textContent="Your custom text")},[]);const dt=B(f=>f.project.data);a.useEffect(()=>{je(st())},[je]);const ct=B(f=>f.getWorkDate.adminNotes),Xe=B(f=>f.getWorkDate.statusAdminNote),ms=B(f=>f.users.status),Ee=B(f=>f.users.data),Ne=Ye!==void 0?Ye.WarningShares&&Ye.WarningShares.map(f=>({userId:f.userId,name:f.User.name,surname:f.User.surname})):[],js=ms==="succeeded"&&Ee.filter(f=>Ne&&!Ne.some(te=>te.userId===f.id));a.useState(Ne);const[qe,ut]=a.useState([]),Ze=JSON.parse(localStorage.getItem("CRM_USER"));B(f=>f.getWorkDate.data),B(f=>f.getWorkDate.statusMonth),B(f=>f.getWorkDate.employeerTime.employeerTime);const ht=B(f=>f.getWorkDate.adminNote);N.locale("tk"),a.useEffect(()=>{A([{color:"#7551E9",id:1},{color:"#E951BF",id:2},{color:"#FF9E58",id:3},{color:"#9FC2A5",id:4}])},[]),a.useEffect(()=>{je(Me())},[je]),a.useEffect(()=>{const f={startDate:c,endDate:i};(f.startDate||f.endDate!=="")&&(je(vt(f)),je(Rt(Ze.id)))},[c,i,je]);const M=Xe==="succeeded"?ct.reduce((f,te)=>{if(te.note!==null){const be=N(te.date).format("YYYY-MM-DD");f[be]||(f[be]=[]),f[be].push(te)}return f},{}):"",ue=f=>{S(f)},re=()=>{h(!1),t(!1),F(!1),u(!1),ut([]),p(""),T(""),_(),$(null),I(null),v(),T(""),P("")},fn=f=>{I(f),t(!0)},mn=Ne&&Ne.map(f=>({id:f.userId})),jn=[{id:"selectAll",name:"Ählisi",surname:""},...Ee],bn=()=>{qe.map(te=>({id:te.id}));const f={title:R,date:N(z===null?b:z).format("YYYY-MM-DD"),dateHour:j,color:m,startDate:c,endDate:i,users:qe};R!==""&&(z!==null||b)&&j!==void 0?(je(Mt(f)),re()):g.error("Maglumatlary giriziň!")},yn=()=>{const f={userId:Y,authorId:Ze.id,content:R,project:ae};R!==""&&Y!==""&&ae!==""?(je(Yt(f)),re()):g.error("Maglumatlary giriziň!")},Es=(f,te)=>{te.some(be=>be.id==="selectAll")?ut(Ee):(ut(()=>[...te.map(be=>({id:be.id?be.id:be.userId,name:be.name,surname:be.surname}))]),T(te.length>0?te[0].id:null))},wn=f=>{je(Et({id:f,startDate:c,endDate:i}))},Cn=f=>{const te={id:f,authorId:Ze.id};je(Wt(te))},An=()=>{const f={noteId:C,content:R,date:N(Q&&Q.date).format("YYYY-MM-DD"),dateHour:j??N(O).format("HH:mm"),startDate:c,endDate:i,authorId:Ze.id,users:qe.length===0?mn:qe,color:m};R!==""&&(qe.length!==0||Ne&&Ne.length!==0)?(je(Ut(f)),re()):g.error("Maglumatlary giriziň!")},Sn=f=>{Z(f),F(!0),_(f.date),p(f.title),J(f.id)},Dn=()=>{const f={authorId:Ze.id,noteId:C,content:R,projectId:ae==""?ne.projectId:ae,userId:Y==""?ne.userId:Y};R!==""?(je(Tt(f)),re()):g.error("Maglumatlary giriziň!")},kn=f=>{Fe(f),u(!0),J(f.id),p(f.content)},In=f=>{ge(f),Re(!0)},Fn=f=>{const te={id:f,startDate:U(c).format("YYYY-MM-DD"),endDate:U(i).format("YYYY-MM-DD")};te.id&&je(mt(te))};return e.jsx(K,{height:"100vh",backgroundColor:"#fff",children:e.jsxs(n,{direction:"row",mt:"10px",justifyContent:"space-around",children:[e.jsx(n,{direction:"column",width:"28%",children:e.jsxs(n,{backgroundColor:"#fff",spacing:"10px",width:"97%",sx:{height:"87.5vh"},borderRadius:"20px",alignItems:"center",m:"0px 10px ",p:"20px 10px 10px 20px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",fontFamily:"Montserrat",children:[e.jsxs(G,{sx:{color:"#fff",background:"#DC6262",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px",fontWeight:600,"&:hover":{background:"#9FC2A5"}},onClick:()=>t(!0),children:[e.jsx(mo,{})," Duýduryş goşmak"]}),e.jsxs(G,{sx:{color:"#fff",background:"#90BAEB",textTransform:"revert",width:"240px",minHeight:"45px",borderRadius:"10px","&:hover":{background:"#9FC2A5"},gap:"10px",fontWeight:600},onClick:()=>h(!0),children:[e.jsx("img",{style:{width:20,height:20},src:Er,alt:"check"})," ","Bellik goşmak"]}),Xe==="loading..."||Te==="loading..."?e.jsxs(n,{direction:"column",height:"100%",alignItems:"center",sx:{gap:"10px",mt:"60px"},children:[e.jsx(pe,{}),"Loading..."]}):Xe==="failed"||Te==="failed"?e.jsx(d,{textAlign:"center",color:"tomato",height:"43%",mt:4,children:"Ýalňyşlyk!"}):Xe==="succeeded"||Te==="succeeded"?ct.length===0&&ht.length==0&&!ve.length?e.jsx(d,{pt:4,children:"Bellik ýok"}):e.jsxs(n,{p:"6px",height:"100%",width:"100%",className:"times",overflow:"scroll",children:[e.jsxs(n,{children:[e.jsx(d,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,children:"Duýduryşlar"}),e.jsx(ke,{sx:{width:"100%",mb:2}}),Object.keys(M).length===0?e.jsx(d,{mb:3,textAlign:"center",children:"Duýduryş ýok"}):Object.keys(M).map((f,te)=>e.jsxs(ps,{children:[e.jsx(xs,{expandIcon:e.jsx(gs,{}),children:e.jsxs(n,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{color:"#202224",fontFamily:"Montserrat",fontSize:15,fontWeight:600,children:N(f).format("DD.MM.YYYY")}),e.jsx(n,{width:30,height:30,backgroundColor:"#90BAEB",color:"#fff",alignItems:"center",justifyContent:"center",fontFamily:"Montserrat",borderRadius:"100%",children:M[f].length})]})}),e.jsx(fs,{sx:{padding:0},children:M[f].map(be=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{padding:"10px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsx(n,{borderRadius:"100%",minWidth:35,minHeight:35,backgroundColor:be.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,children:ee(be.title)}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(be.date).format("DD.MM.YYYY  HH:mm")})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>Sn(be),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>wn(be.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]},be.id),e.jsx(ke,{sx:{width:"100%"}})]}))})]},te))]}),e.jsxs(n,{children:[e.jsx(d,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Bellikler"}),e.jsx(ke,{sx:{width:"100%",mb:1}}),ht.length==0?e.jsx(d,{mb:3,textAlign:"center",children:"Bellik ýok"}):ht.map(f=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{borderRadius:"5px"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"5px",mb:"10px",children:[e.jsxs(n,{direction:"row",alignItems:"center",gap:"5px",children:[e.jsx(n,{borderRadius:"100%",width:26,height:26,children:e.jsx(jo,{sx:{color:"#90BAEB"}})}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:15,fontWeight:600,fontFamily:"Montserrat",children:ee(f.content)}),e.jsx(d,{fontSize:15,fontWeight:600,fontFamily:"Montserrat",color:"#90BAEB",children:ee(f.projectId)}),e.jsxs(n,{direction:"row",alignItems:"center",spacing:1,justifyContent:"space-between",children:[e.jsx(d,{color:"#797a7c",fontSize:15,fontWeight:500,children:Ee.find(te=>te.id===f.userId)?`${ee(Ee.find(te=>te.id===f.userId).name)} ${ee(Ee.find(te=>te.id===f.userId).surname)}`:""}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(f.createdAt).format("DD.MM.YYYY ")})]})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",children:[e.jsx(H,{onClick:()=>kn(f),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#2F6FD0"}})}),e.jsx(H,{onClick:()=>Cn(f.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]},f.id),e.jsx(ke,{sx:{width:"100%"}})]}))]}),e.jsxs(n,{children:[e.jsx(d,{textAlign:"center ",fontWeight:600,fontSize:15,mb:1,mt:1,children:"Baýramçylyklar"}),e.jsx(ke,{sx:{width:"100%",mb:1}}),e.jsx(n,{width:"100%",children:e.jsx(n,{children:ve.length?ve.map(f=>e.jsxs(n,{sx:{padding:"6px",borderRadius:"5px",margin:"5px 0"},direction:"row",alignItems:"center",justifyContent:"space-between",gap:"15px",mb:"20px",children:[e.jsxs(n,{direction:"row",gap:"15px",alignItems:"center",children:[e.jsx(n,{borderRadius:"100%",width:38,height:38,backgroundColor:f.color}),e.jsxs(n,{direction:"column",children:[e.jsx(d,{color:"#202224",fontSize:16,fontWeight:500,children:f.name}),e.jsx(d,{color:"#797a7c",fontSize:14,fontWeight:500,children:N(f.date).format("DD.MM.YYYY")})]})]}),e.jsxs(n,{direction:"row",alignItems:"center",sx:{...N().isSame(f.comeTime,"day")&&Ze.role!=="USER"?{display:"flex"}:{display:"none"}},children:[e.jsx(H,{onClick:()=>In(f),sx:{mr:-1},children:e.jsx(xt,{sx:{color:"#9FC2A6"}})}),e.jsx(H,{onClick:()=>Fn(f.id),children:e.jsx("img",{style:{width:24,height:24},src:Ae,alt:""})})]})]})):e.jsx(d,{mb:3,textAlign:"center",children:"Baýramçylyk ýok"})})})]})]}):"",e.jsx(gn,{open:Ce,handleClose:()=>Re(!1),holidayData:xe,startDate:c,endDate:i}),e.jsx(oe,{closeAfterTransition:!0,open:s,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:s,children:e.jsxs(K,{sx:ks,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(De,{id:"combo-box-demo",options:dt,getOptionLabel:f=>`${ee(f.name)} `,onChange:(f,te)=>P(te.name),renderInput:f=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...f,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärleri"}),e.jsx(De,{id:"combo-box-demo",options:Ee,getOptionLabel:f=>`${ee(f.name)} ${ee(f.surname==null?"":f.surname)}`,onChange:(f,te)=>T(te.id),filterSelectedOptions:!0,renderInput:f=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...f,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(L,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:f=>p(f.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(G,{onClick:yn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:l,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:l,children:e.jsxs(K,{sx:ks,children:[e.jsx(n,{children:e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})})}),e.jsxs(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Proýekti saýla"}),e.jsx(De,{id:"combo-box-demo",options:dt,value:dt.find(f=>f.name===(ne?ne.projectId:""))||null,getOptionLabel:f=>`${ee(f.name)}`,onChange:(f,te)=>{P(te?te.name:"")},renderInput:f=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...f,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(De,{id:"combo-box-demo",options:Ee,value:Ee.find(f=>f.id===(ne?ne.userId:""))||null,getOptionLabel:f=>`${ee(f.name)} ${ee(f.surname==null?"":f.surname)}`,onChange:(f,te)=>T(te.id),renderInput:f=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...f,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})]}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik"}),e.jsx(L,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",value:R,onChange:f=>p(f.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(G,{onClick:Dn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})]})})}),e.jsx(oe,{closeAfterTransition:!0,open:o,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:o,children:e.jsx(K,{sx:Ns,children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş"}),e.jsx(L,{fullWidth:!0,placeholder:"Tekst",type:"text",name:"Tekst",onChange:f=>p(f.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsx(n,{mt:"20px",direction:"row",alignItems:"center",justifyContent:"center",children:e.jsxs(n,{direction:"column",justifyContent:"space-between",width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(De,{id:"combo-box-demo",multiple:!0,value:qe,options:jn,isOptionEqualToValue:(f,te)=>f.id===te.id,getOptionLabel:f=>`${ee(f.name)} ${ee(f.surname==null?"":f.surname)}`,onChange:Es,filterSelectedOptions:!0,renderInput:f=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...f,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]})}),e.jsx(n,{direction:"row",children:e.jsx(fe,{dateAdapter:me,adapterLocale:"tk",localeText:Ve,children:e.jsx(Se,{components:["DesktopDatePicker","MobileTimePicker","DatePicker","MobileDatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{disabled:U(b,"YYYY-MM-DD").isValid(),value:U(b,"YYYY-MM-DD").isValid()?U(b,"YYYY-MM-DD"):null,onChange:f=>{$(f?U(f).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",fullWidth:!0,slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(As,{theme:et,children:e.jsx(Bs,{ampm:!1,onChange:f=>{v(f?f.format("HH:mm"):null)},DialogProps:{sx:{".MuiTypography-root":{display:"none"}}},format:"HH:mm",slotProps:{textField:{size:"small",InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"20px",pt:"8px",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:D.map((f,te)=>e.jsx(n,{onClick:()=>ue(f.color),style:{backgroundColor:f.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:m===f.color?e.jsx(tt,{}):""},te))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(G,{onClick:bn,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})}),e.jsx(oe,{closeAfterTransition:!0,open:y,onClose:re,BackdropProps:{style:{backgroundColor:"#7F7F7F",opacity:"0.2"}},disableAutoFocus:!0,children:e.jsx(Ie,{in:y,children:e.jsx(K,{sx:Ns,height:"565px",children:e.jsxs(n,{children:[e.jsx(n,{sx:{width:"100%",height:38,justifyContent:"flex-end",alignItems:"end"},children:e.jsx(H,{onClick:re,children:e.jsx(he,{sx:{width:38,height:38,color:"#DC6262"}})})}),e.jsxs(n,{direction:"column",justifyContent:"space-beteen",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Duýduryş y"}),e.jsx(L,{fullWidth:!0,value:R,placeholder:"Tekst",type:"text",name:"Tekst",onChange:f=>p(f.target.value),variant:"outlined",InputProps:{sx:{transition:"all ease-in-out 0.2s",borderRadius:"35px",backgroundColor:"#F5F6FA",height:"55px",color:"#000",outline:"none",boxShadow:"none"}}})]}),e.jsxs(n,{direction:"column",mt:2,width:"100%",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Işgärler"}),e.jsx(De,{id:"combo-box-demo",options:js,multiple:!0,defaultValue:Ne,filterSelectedOptions:!0,getOptionLabel:f=>`${ee(f.name)} ${ee(f.surname==null?"":f.surname)}`,onChange:Es,sx:{width:"100%"},renderInput:f=>e.jsx(L,{sx:{"& .MuiOutlinedInput-root":{borderRadius:"35px",width:"100%",backgroundColor:"#F5F6FA"}},...f,fullWidth:!0,autoComplete:"off",placeholder:"Adyny ýazyň ýa-da saýlaň",variant:"outlined"})})]}),e.jsx(n,{width:"100%",direction:"row",children:e.jsx(fe,{dateAdapter:me,localeText:Ve,adapterLocale:"tk",children:e.jsx(Se,{components:["MobileTimePicker","DatePicker"],sx:{display:"flex",alignItems:"center"},children:e.jsxs(n,{direction:"row",justifyContent:"space-beteen",spacing:"16px",children:[e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Senesi"}),e.jsx(ie,{fullWidth:!0,defaultValue:U(O).isValid()?U(O):null,onChange:f=>{W(f?U(f).format("YYYY-MM-DD"):null)},format:"DD.MM.YYYY",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",width:"100%",height:55,border:"1px solid #ccc"}}}}})]}),e.jsxs(n,{width:"100%",direction:"column",justifyContent:"space-between",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Wagty"}),e.jsx(As,{theme:et,children:e.jsx(Bs,{ampm:!1,defaultValue:U(O).isValid()?U(O):null,onChange:f=>{v(f?U(f).format("HH:mm"):null)},views:["hours","minutes"],format:"HH:mm",slotProps:{textField:{size:"small",error:!1,InputProps:{sx:{borderRadius:"35px",backgroundColor:"#F5F6FA",height:55,width:"100%",border:"1px solid #ccc"}}}}})})]})]})})})}),e.jsxs(n,{spacing:"10px",mt:"40px",width:"100%",pt:"8px",children:[e.jsx(d,{fontSize:15,fontWeight:600,textAlign:"start",color:"#474747",mb:"5px",children:"Bellik reňkini saýla"}),e.jsx(n,{direction:"row",spacing:"9px",children:D.map((f,te)=>e.jsx(n,{onClick:()=>ue(f.color),style:{backgroundColor:f.color,width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",color:"#fff"},children:m===f.color?e.jsx(tt,{}):""},te))})]}),e.jsx(n,{width:"100%",mt:"30px",direction:"row",justifyContent:"flex-end",spacing:"10px",children:e.jsx(G,{onClick:An,sx:{"&:disabled":{background:"lightgray"},background:"#2F6FD0",color:"#fff","&:hover":{background:"#2F6FD0"},height:"40px",width:"115px",borderRadius:"50px",textTransform:"revert",fontSize:16},children:"Ibermek"})})]})})})})]})}),e.jsx(n,{backgroundColor:"#fff",spacing:4,width:"68%",borderRadius:"20px",m:"0px 20px 0 0 ",pb:"10px",boxShadow:" 0px 0px 8px -5px rgba(0,0,0,0.75)",children:e.jsx(Tr,{openModal:fn,color:m,events:ct,setEvents:w,setStartDate:f=>r(f),setEndDate:f=>k(f),holidays:ve})})]})})},Ur=()=>{const[o,t]=a.useState(!1),[s,h]=a.useState(!1),[l,u]=a.useState(),y=()=>t(!0),F=()=>t(!1),D=i=>{u(i),h(!0)},A=()=>h(!1),m=se(),S=B(i=>i.standarts.status),b=B(i=>i.standarts.error),I=B(i=>i.standarts.data),x=JSON.parse(localStorage.getItem("CRM_USER")),w=B(i=>i.users.data);I.filter(i=>(i.users&&i.users.length)===w.length);const c=I.filter(i=>(i.users&&i.users.length)!==w.length);a.useEffect(()=>{x.role==="ADMIN"?m(gt(x.id)):m(lt(x.id))},[m]);const r=i=>{const k={laborId:i,userId:x.id};m(ft(k))};return e.jsxs(K,{height:"100vh",width:"100%",backgroundColor:"#fff",overflow:"auto",p:"10px",borderRadius:"20px",children:[e.jsx(Be,{}),e.jsxs(n,{direction:"row",alignItems:"center",justifyContent:"space-between",p:"0 10px 8px 0",children:[e.jsx(d,{p:"0px 20px 0px 10px",fontSize:{lg:"25px",md:"25px",sm:"20px",xs:"18px"},fontFamily:"Montserrat",fontWeight:"500",children:"Tertip - düzgünnama (Aýratyn)"}),x.role==="USER"?"":e.jsxs(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#E7E7FB","&:hover":{background:"#E7E7FB"},gap:"10px",width:250,height:45,borderRadius:"20px"},variant:"outlined",onClick:y,children:[e.jsx(Je,{sx:{color:"#2F6FD0",width:25,height:25}}),"Düzgünnama goşmak"]}),e.jsx(hn,{open:o,userId:x.id,handleClose:F})]}),e.jsx(n,{children:S==="loading..."?e.jsxs(n,{direction:"column",height:"90%",alignItems:"center",sx:{gap:"10px",mt:10},children:[e.jsx(pe,{}),"Loading..."]}):S==="failed"?g.error(b):S==="succeeded"?e.jsx(n,{sx:{height:"100%"},children:c.length==0?e.jsx(d,{textAlign:"center",mt:5,fontSize:18,width:"100%",children:"Düzgünnama ýok"}):e.jsx(e.Fragment,{children:e.jsx(n,{direction:"row",spacing:1,children:e.jsx(_e,{container:!0,item:!0,xs:12,md:6,lg:12,spacing:2,children:c.map((i,k)=>e.jsx(_e,{item:!0,xs:12,lg:12,sm:12,children:e.jsx(nt,{sx:{height:"100%",minHeight:"155px",borderRadius:"12px",display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",p:2},children:e.jsxs(n,{width:"98%",sx:{...i.id==4?{cursor:"pointer",justifyContent:"center",alignItems:"center"}:"",gap:"16px"},direction:"column",justifyContent:"center",children:[e.jsxs(n,{direction:"row",width:"100%",justifyContent:"space-between",children:[e.jsxs(d,{color:"#222222",fontSize:24,fontFamily:"DM Sans",fontWeight:600,width:"90%",children:[i.title,i.users&&i.users.length===w.length?e.jsx(G,{sx:{color:"#F8F9FA",textTransform:"revert",background:"#2F6FD0","&:hover":{background:"#2F6FD0"},gap:"10px",width:140,height:35,fontWeight:500,borderRadius:"20px",border:"1px solid #00CCFF",...k==0?{ml:3}:{ml:1}},variant:"outlined",children:"Ähli ulanyjylar"}):i.users.map((R,p)=>e.jsxs(G,{sx:{color:"#2F6FD0",textTransform:"revert",background:"#D9E8FF","&:hover":{background:"#D9E8FF"},gap:"10px",height:30,fontWeight:500,borderRadius:"20px",border:"1px solid #2F6FD0",...p==0?{ml:3}:{ml:1}},variant:"outlined",children:[R.name," ",R.surname]},p))]}),x.role==="USER"?"":e.jsxs(n,{direction:"row",alignItems:"end",spacing:1,children:[e.jsx(H,{onClick:()=>D(i),children:e.jsx(Ge,{sx:{color:"#0099ED",width:20,height:20}})}),e.jsx(H,{onClick:()=>r(i.id),children:e.jsx("img",{style:{width:20,height:20},src:Ae,alt:""})}),e.jsx(Rs,{data:l,openUpdate:s,handleClose:A,userId:x.id})]})]}),e.jsx(d,{color:"#666666",fontSize:16,fontFamily:"DM Sans",fontWeight:400,whiteSpace:"pre-wrap",textAlign:"justify",children:i.description})]})})},k))})})})}):""})]})};function zr(){const o=({children:s})=>localStorage.getItem("CRM_USER")?s:e.jsx(Ao,{to:"/login",replace:!0});JSON.parse(localStorage.getItem("CRM_USER"));const t=Mn([{path:"/login",element:e.jsx(Dr,{})},{path:"/",element:e.jsx(o,{children:e.jsx(ya,{})}),children:[{path:"/",element:e.jsx(xr,{})},{path:"/calendar",element:e.jsx(Wr,{})},{path:"/document",element:e.jsx(yr,{})},{path:"/account",element:e.jsx(Ca,{})},{path:"/standarts/all",element:e.jsx(Xa,{})},{path:"/standarts/specific",element:e.jsx(Ur,{})},{path:"/employees",element:e.jsx(un,{})},{path:"/employees/:id",element:e.jsx(cr,{})},{path:"/settings",element:e.jsx(Yr,{})},{path:"/employees/regulating",element:e.jsx(Fr,{})},{path:"/projects",element:e.jsx(Ta,{})},{path:"/chat",element:e.jsx(mr,{})},{path:"/projects/:id",element:e.jsx(dr,{})}]}]);return e.jsx(Rn,{router:t,style:{minHeight:"100vh"}})}vn.createRoot(document.getElementById("root")).render(e.jsx(En,{store:xa,children:e.jsx(zr,{})}));
