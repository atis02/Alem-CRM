import{r as i,R as Q}from"./react-C8N2_Uqo.js";import{R as Z}from"./react-dom-BM-YBbrs.js";import{m as $,D as W,a as z,R as ee,u as te,N as H,b as ne,c as F,d as D,e as K}from"./react-router-Coir4WdO.js";import{c as ae,b as re,E as ie,s as O,d as V,i as G,e as j}from"./@remix-run-B_55oQtr.js";/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _(){return _=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_.apply(this,arguments)}function X(e,n){if(e==null)return{};var t={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function se(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oe(e,n){return e.button===0&&(!n||n==="_self")&&!se(e)}function N(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function le(e,n){let t=N(e);return n&&n.forEach((r,a)=>{t.has(a)||n.getAll(a).forEach(s=>{t.append(a,s)})}),t}const ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ue=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],fe="6";try{window.__reactRouterVersion=fe}catch{}function ke(e,n){return ae({basename:void 0,future:_({},void 0,{v7_prependBasename:!0}),history:re({window:void 0}),hydrationData:de(),routes:e,mapRouteProperties:$,window:void 0}).initialize()}function de(){var e;let n=(e=window)==null?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=_({},n,{errors:he(n.errors)})),n}function he(e){if(!e)return null;let n=Object.entries(e),t={};for(let[r,a]of n)if(a&&a.__type==="RouteErrorResponse")t[r]=new ie(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let o=new s(a.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(a.message);s.stack="",t[r]=s}}else t[r]=a;return t}const Y=i.createContext({isTransitioning:!1}),pe=i.createContext(new Map),ve="startTransition",I=Q[ve],me="flushSync",B=Z[me];function we(e){I?I(e):e()}function U(e){B?B(e):e()}class ge{constructor(){this.status="pending",this.promise=new Promise((n,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",n(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function Ue(e){let{fallbackElement:n,router:t,future:r}=e,[a,s]=i.useState(t.state),[o,h]=i.useState(),[p,l]=i.useState({isTransitioning:!1}),[c,S]=i.useState(),[m,T]=i.useState(),[w,P]=i.useState(),R=i.useRef(new Map),{v7_startTransition:b}=r||{},d=i.useCallback(f=>{b?we(f):f()},[b]),v=i.useCallback((f,y)=>{let{deletedFetchers:g,unstable_flushSync:C,unstable_viewTransitionOpts:L}=y;g.forEach(x=>R.current.delete(x)),f.fetchers.forEach((x,J)=>{x.data!==void 0&&R.current.set(J,x.data)});let q=t.window==null||typeof t.window.document.startViewTransition!="function";if(!L||q){C?U(()=>s(f)):d(()=>s(f));return}if(C){U(()=>{m&&(c&&c.resolve(),m.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let x=t.window.document.startViewTransition(()=>{U(()=>s(f))});x.finished.finally(()=>{U(()=>{S(void 0),T(void 0),h(void 0),l({isTransitioning:!1})})}),U(()=>T(x));return}m?(c&&c.resolve(),m.skipTransition(),P({state:f,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(h(f),l({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,m,c,R,d]);i.useLayoutEffect(()=>t.subscribe(v),[t,v]),i.useEffect(()=>{p.isTransitioning&&!p.flushSync&&S(new ge)},[p]),i.useEffect(()=>{if(c&&o&&t.window){let f=o,y=c.promise,g=t.window.document.startViewTransition(async()=>{d(()=>s(f)),await y});g.finished.finally(()=>{S(void 0),T(void 0),h(void 0),l({isTransitioning:!1})}),T(g)}},[d,o,c,t.window]),i.useEffect(()=>{c&&o&&a.location.key===o.location.key&&c.resolve()},[c,m,a.location,o]),i.useEffect(()=>{!p.isTransitioning&&w&&(h(w.state),l({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),P(void 0))},[p.isTransitioning,w]),i.useEffect(()=>{},[]);let u=i.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:f=>t.navigate(f),push:(f,y,g)=>t.navigate(f,{state:y,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(f,y,g)=>t.navigate(f,{replace:!0,state:y,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[t]),E=t.basename||"/",k=i.useMemo(()=>({router:t,navigator:u,static:!1,basename:E}),[t,u,E]);return i.createElement(i.Fragment,null,i.createElement(W.Provider,{value:k},i.createElement(z.Provider,{value:a},i.createElement(pe.Provider,{value:R.current},i.createElement(Y.Provider,{value:p},i.createElement(ee,{basename:E,location:a.location,navigationType:a.historyAction,navigator:u,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},a.initialized||t.future.v7_partialHydration?i.createElement(Se,{routes:t.routes,future:t.future,state:a}):n))))),null)}function Se(e){let{routes:n,future:t,state:r}=e;return te(n,void 0,r,t)}const ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=i.forwardRef(function(n,t){let{onClick:r,relative:a,reloadDocument:s,replace:o,state:h,target:p,to:l,preventScrollReset:c,unstable_viewTransition:S}=n,m=X(n,ce),{basename:T}=i.useContext(H),w,P=!1;if(typeof l=="string"&&Re.test(l)&&(w=l,ye))try{let v=new URL(window.location.href),u=l.startsWith("//")?new URL(v.protocol+l):new URL(l),E=O(u.pathname,T);u.origin===v.origin&&E!=null?l=E+u.search+u.hash:P=!0}catch{}let R=ne(l,{relative:a}),b=Pe(l,{replace:o,state:h,target:p,preventScrollReset:c,relative:a,unstable_viewTransition:S});function d(v){r&&r(v),v.defaultPrevented||b(v)}return i.createElement("a",_({},m,{href:w||R,onClick:P||s?r:d,ref:t,target:p}))}),Oe=i.forwardRef(function(n,t){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:o=!1,style:h,to:p,unstable_viewTransition:l,children:c}=n,S=X(n,ue),m=F(p,{relative:S.relative}),T=D(),w=i.useContext(z),{navigator:P,basename:R}=i.useContext(H),b=w!=null&&Ee(m)&&l===!0,d=P.encodeLocation?P.encodeLocation(m).pathname:m.pathname,v=T.pathname,u=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(v=v.toLowerCase(),u=u?u.toLowerCase():null,d=d.toLowerCase()),u&&R&&(u=O(u,R)||u);const E=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let k=v===d||!o&&v.startsWith(d)&&v.charAt(E)==="/",f=u!=null&&(u===d||!o&&u.startsWith(d)&&u.charAt(d.length)==="/"),y={isActive:k,isPending:f,isTransitioning:b},g=k?r:void 0,C;typeof s=="function"?C=s(y):C=[s,k?"active":null,f?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof h=="function"?h(y):h;return i.createElement(Le,_({},S,{"aria-current":g,className:C,ref:t,style:L,to:p,unstable_viewTransition:l}),typeof c=="function"?c(y):c)});var A;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A||(A={}));var M;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M||(M={}));function Te(e){let n=i.useContext(W);return n||G(!1),n}function Pe(e,n){let{target:t,replace:r,state:a,preventScrollReset:s,relative:o,unstable_viewTransition:h}=n===void 0?{}:n,p=K(),l=D(),c=F(e,{relative:o});return i.useCallback(S=>{if(oe(S,t)){S.preventDefault();let m=r!==void 0?r:V(l)===V(c);p(e,{replace:m,state:a,preventScrollReset:s,relative:o,unstable_viewTransition:h})}},[l,p,c,r,a,t,e,s,o,h])}function Ne(e){let n=i.useRef(N(e)),t=i.useRef(!1),r=D(),a=i.useMemo(()=>le(r.search,t.current?null:n.current),[r.search]),s=K(),o=i.useCallback((h,p)=>{const l=N(typeof h=="function"?h(a):h);t.current=!0,s("?"+l,p)},[s,a]);return[a,o]}function Ee(e,n){n===void 0&&(n={});let t=i.useContext(Y);t==null&&G(!1);let{basename:r}=Te(A.useViewTransitionState),a=F(e,{relative:n.relative});if(!t.isTransitioning)return!1;let s=O(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=O(t.nextLocation.pathname,r)||t.nextLocation.pathname;return j(a.pathname,o)!=null||j(a.pathname,s)!=null}export{Le as L,Oe as N,Ue as R,ke as c,Ne as u};
